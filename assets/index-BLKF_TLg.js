var xN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mz=xN((Hn,Gn)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Yc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qg={exports:{}},oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function SN(){if(Pw)return oc;Pw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return oc.Fragment=e,oc.jsx=n,oc.jsxs=n,oc}var Mw;function AN(){return Mw||(Mw=1,Qg.exports=SN()),Qg.exports}var _=AN(),Yg={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw;function RN(){if(jw)return je;jw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function O(B,H,ue){this.props=B,this.context=H,this.refs=M,this.updater=ue||x}O.prototype.isReactComponent={},O.prototype.setState=function(B,H){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,H,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function P(){}P.prototype=O.prototype;function V(B,H,ue){this.props=B,this.context=H,this.refs=M,this.updater=ue||x}var q=V.prototype=new P;q.constructor=V,A(q,O.prototype),q.isPureReactComponent=!0;var ne=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function N(B,H,ue,le,_e,De){return ue=De.ref,{$$typeof:t,type:B,key:H,ref:ue!==void 0?ue:null,props:De}}function C(B,H){return N(B.type,H,void 0,void 0,void 0,B.props)}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function L(B){var H={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return H[ue]})}var U=/\/+/g;function $(B,H){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):H.toString(36)}function j(){}function Ve(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(j,j):(B.status="pending",B.then(function(H){B.status==="pending"&&(B.status="fulfilled",B.value=H)},function(H){B.status==="pending"&&(B.status="rejected",B.reason=H)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function We(B,H,ue,le,_e){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var Ae=!1;if(B===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(B.$$typeof){case t:case e:Ae=!0;break;case y:return Ae=B._init,We(Ae(B._payload),H,ue,le,_e)}}if(Ae)return _e=_e(B),Ae=le===""?"."+$(B,0):le,ne(_e)?(ue="",Ae!=null&&(ue=Ae.replace(U,"$&/")+"/"),We(_e,H,ue,"",function(Mn){return Mn})):_e!=null&&(I(_e)&&(_e=C(_e,ue+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+Ae)),H.push(_e)),1;Ae=0;var wt=le===""?".":le+":";if(ne(B))for(var et=0;et<B.length;et++)le=B[et],De=wt+$(le,et),Ae+=We(le,H,ue,De,_e);else if(et=E(B),typeof et=="function")for(B=et.call(B),et=0;!(le=B.next()).done;)le=le.value,De=wt+$(le,et++),Ae+=We(le,H,ue,De,_e);else if(De==="object"){if(typeof B.then=="function")return We(Ve(B),H,ue,le,_e);throw H=String(B),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function te(B,H,ue){if(B==null)return B;var le=[],_e=0;return We(B,le,"","",function(De){return H.call(ue,De,_e++)}),le}function ce(B){if(B._status===-1){var H=B._result;H=H(),H.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=H)}if(B._status===1)return B._result.default;throw B._result}var pe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Me(){}return je.Children={map:te,forEach:function(B,H,ue){te(B,function(){H.apply(this,arguments)},ue)},count:function(B){var H=0;return te(B,function(){H++}),H},toArray:function(B){return te(B,function(H){return H})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},je.Component=O,je.Fragment=n,je.Profiler=a,je.PureComponent=V,je.StrictMode=r,je.Suspense=d,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,je.__COMPILER_RUNTIME={__proto__:null,c:function(B){return F.H.useMemoCache(B)}},je.cache=function(B){return function(){return B.apply(null,arguments)}},je.cloneElement=function(B,H,ue){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var le=A({},B.props),_e=B.key,De=void 0;if(H!=null)for(Ae in H.ref!==void 0&&(De=void 0),H.key!==void 0&&(_e=""+H.key),H)!Y.call(H,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&H.ref===void 0||(le[Ae]=H[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=ue;else if(1<Ae){for(var wt=Array(Ae),et=0;et<Ae;et++)wt[et]=arguments[et+2];le.children=wt}return N(B.type,_e,void 0,void 0,De,le)},je.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},je.createElement=function(B,H,ue){var le,_e={},De=null;if(H!=null)for(le in H.key!==void 0&&(De=""+H.key),H)Y.call(H,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=H[le]);var Ae=arguments.length-2;if(Ae===1)_e.children=ue;else if(1<Ae){for(var wt=Array(Ae),et=0;et<Ae;et++)wt[et]=arguments[et+2];_e.children=wt}if(B&&B.defaultProps)for(le in Ae=B.defaultProps,Ae)_e[le]===void 0&&(_e[le]=Ae[le]);return N(B,De,void 0,void 0,null,_e)},je.createRef=function(){return{current:null}},je.forwardRef=function(B){return{$$typeof:h,render:B}},je.isValidElement=I,je.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:ce}},je.memo=function(B,H){return{$$typeof:m,type:B,compare:H===void 0?null:H}},je.startTransition=function(B){var H=F.T,ue={};F.T=ue;try{var le=B(),_e=F.S;_e!==null&&_e(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Me,pe)}catch(De){pe(De)}finally{F.T=H}},je.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},je.use=function(B){return F.H.use(B)},je.useActionState=function(B,H,ue){return F.H.useActionState(B,H,ue)},je.useCallback=function(B,H){return F.H.useCallback(B,H)},je.useContext=function(B){return F.H.useContext(B)},je.useDebugValue=function(){},je.useDeferredValue=function(B,H){return F.H.useDeferredValue(B,H)},je.useEffect=function(B,H,ue){var le=F.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(B,H)},je.useId=function(){return F.H.useId()},je.useImperativeHandle=function(B,H,ue){return F.H.useImperativeHandle(B,H,ue)},je.useInsertionEffect=function(B,H){return F.H.useInsertionEffect(B,H)},je.useLayoutEffect=function(B,H){return F.H.useLayoutEffect(B,H)},je.useMemo=function(B,H){return F.H.useMemo(B,H)},je.useOptimistic=function(B,H){return F.H.useOptimistic(B,H)},je.useReducer=function(B,H,ue){return F.H.useReducer(B,H,ue)},je.useRef=function(B){return F.H.useRef(B)},je.useState=function(B){return F.H.useState(B)},je.useSyncExternalStore=function(B,H,ue){return F.H.useSyncExternalStore(B,H,ue)},je.useTransition=function(){return F.H.useTransition()},je.version="19.1.1",je}var kw;function ap(){return kw||(kw=1,Yg.exports=RN()),Yg.exports}var D=ap();const Hs=Yc(D);var Xg={exports:{}},lc={},Wg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function CN(){return Lw||(Lw=1,(function(t){function e(te,ce){var pe=te.length;te.push(ce);e:for(;0<pe;){var Me=pe-1>>>1,B=te[Me];if(0<a(B,ce))te[Me]=ce,te[pe]=B,pe=Me;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ce=te[0],pe=te.pop();if(pe!==ce){te[0]=pe;e:for(var Me=0,B=te.length,H=B>>>1;Me<H;){var ue=2*(Me+1)-1,le=te[ue],_e=ue+1,De=te[_e];if(0>a(le,pe))_e<B&&0>a(De,le)?(te[Me]=De,te[_e]=pe,Me=_e):(te[Me]=le,te[ue]=pe,Me=ue);else if(_e<B&&0>a(De,pe))te[Me]=De,te[_e]=pe,Me=_e;else break e}}return ce}function a(te,ce){var pe=te.sortIndex-ce.sortIndex;return pe!==0?pe:te.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,b=null,E=3,x=!1,A=!1,M=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ne(te){for(var ce=n(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=te)r(m),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(m)}}function F(te){if(M=!1,ne(te),!A)if(n(d)!==null)A=!0,Y||(Y=!0,$());else{var ce=n(m);ce!==null&&We(F,ce.startTime-te)}}var Y=!1,N=-1,C=5,I=-1;function L(){return O?!0:!(t.unstable_now()-I<C)}function U(){if(O=!1,Y){var te=t.unstable_now();I=te;var ce=!0;try{e:{A=!1,M&&(M=!1,V(N),N=-1),x=!0;var pe=E;try{t:{for(ne(te),b=n(d);b!==null&&!(b.expirationTime>te&&L());){var Me=b.callback;if(typeof Me=="function"){b.callback=null,E=b.priorityLevel;var B=Me(b.expirationTime<=te);if(te=t.unstable_now(),typeof B=="function"){b.callback=B,ne(te),ce=!0;break t}b===n(d)&&r(d),ne(te)}else r(d);b=n(d)}if(b!==null)ce=!0;else{var H=n(m);H!==null&&We(F,H.startTime-te),ce=!1}}break e}finally{b=null,E=pe,x=!1}ce=void 0}}finally{ce?$():Y=!1}}}var $;if(typeof q=="function")$=function(){q(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ve=j.port2;j.port1.onmessage=U,$=function(){Ve.postMessage(null)}}else $=function(){P(U,0)};function We(te,ce){N=P(function(){te(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(te){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var pe=E;E=ce;try{return te()}finally{E=pe}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var pe=E;E=te;try{return ce()}finally{E=pe}},t.unstable_scheduleCallback=function(te,ce,pe){var Me=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,te){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=pe+B,te={id:y++,callback:ce,priorityLevel:te,startTime:pe,expirationTime:B,sortIndex:-1},pe>Me?(te.sortIndex=pe,e(m,te),n(d)===null&&te===n(m)&&(M?(V(N),N=-1):M=!0,We(F,pe-Me))):(te.sortIndex=B,e(d,te),A||x||(A=!0,Y||(Y=!0,$()))),te},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(te){var ce=E;return function(){var pe=E;E=ce;try{return te.apply(this,arguments)}finally{E=pe}}}})(Zg)),Zg}var Vw;function IN(){return Vw||(Vw=1,Wg.exports=CN()),Wg.exports}var Jg={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function NN(){if(Uw)return fn;Uw=1;var t=ap();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:m,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},fn.flushSync=function(d){var m=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=m,r.p=y,r.d.f()}},fn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},fn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,b=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:x}):y==="script"&&r.d.X(d,{crossOrigin:b,integrity:E,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},fn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},fn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=h(y,m.crossOrigin);r.d.L(d,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},fn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},fn.requestFormReset=function(d){r.d.r(d)},fn.unstable_batchedUpdates=function(d,m){return d(m)},fn.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.1.1",fn}var Fw;function f1(){if(Fw)return Jg.exports;Fw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jg.exports=NN(),Jg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function ON(){if(Bw)return lc;Bw=1;var t=IN(),e=ap(),n=f1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return h(p),i;if(g===c)return h(p),s;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=g;else{for(var T=!1,S=p.child;S;){if(S===l){T=!0,l=p,c=g;break}if(S===c){T=!0,c=p,l=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===l){T=!0,l=g,c=p;break}if(S===c){T=!0,c=g,l=p;break}S=S.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function Ve(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case O:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case Y:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case q:return(i.displayName||"Context")+".Provider";case V:return(i._context.displayName||"Context")+".Consumer";case ne:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:Ve(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return Ve(i(s))}catch{}}return null}var We=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Me=[],B=-1;function H(i){return{current:i}}function ue(i){0>B||(i.current=Me[B],Me[B]=null,B--)}function le(i,s){B++,Me[B]=i.current,i.current=s}var _e=H(null),De=H(null),Ae=H(null),wt=H(null);function et(i,s){switch(le(Ae,s),le(De,i),le(_e,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?ow(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=ow(s),i=lw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(_e),le(_e,i)}function Mn(){ue(_e),ue(De),ue(Ae)}function mr(i){i.memoizedState!==null&&le(wt,i);var s=_e.current,l=lw(s,i.type);s!==l&&(le(De,i),le(_e,l))}function jn(i){De.current===i&&(ue(_e),ue(De)),wt.current===i&&(ue(wt),nc._currentValue=pe)}var hi=Object.prototype.hasOwnProperty,Ir=t.unstable_scheduleCallback,fi=t.unstable_cancelCallback,da=t.unstable_shouldYield,Eo=t.unstable_requestPaint,Rn=t.unstable_now,tu=t.unstable_getCurrentPriorityLevel,di=t.unstable_ImmediatePriority,ss=t.unstable_UserBlockingPriority,pi=t.unstable_NormalPriority,J=t.unstable_LowPriority,fe=t.unstable_IdlePriority,ye=t.log,we=t.unstable_setDisableYieldValue,ve=null,be=null;function tt(i){if(typeof ye=="function"&&we(i),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(ve,i)}catch{}}var ct=Math.clz32?Math.clz32:mi,as=Math.log,pa=Math.LN2;function mi(i){return i>>>=0,i===0?32:31-(as(i)/pa|0)|0}var Nr=256,gi=4194304;function gr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wo(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?p=gr(c):(T&=S,T!==0?p=gr(T):l||(l=S&~i,l!==0&&(p=gr(l))))):(S=c&~g,S!==0?p=gr(S):T!==0?p=gr(T):l||(l=c&~i,l!==0&&(p=gr(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function ma(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function nu(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var i=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),i}function iu(){var i=gi;return gi<<=1,(gi&62914560)===0&&(gi=4194304),i}function yi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function vi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function su(i,s,l,c,p,g){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var S=i.entanglements,k=i.expirationTimes,X=i.hiddenUpdates;for(l=T&~l;0<l;){var re=31-ct(l),ae=1<<re;S[re]=0,k[re]=-1;var W=X[re];if(W!==null)for(X[re]=null,re=0;re<W.length;re++){var Z=W[re];Z!==null&&(Z.lane&=-536870913)}l&=~ae}c!==0&&Or(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function Or(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-ct(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function au(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-ct(l),p=1<<c;p&s|i[c]&s&&(i[c]|=s),l&=~p}}function os(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function To(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ls(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:Rw(i.type))}function _h(i,s){var l=ce.p;try{return ce.p=i,s()}finally{ce.p=l}}var gt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+gt,Ot="__reactProps$"+gt,Yn="__reactContainer$"+gt,ou="__reactEvents$"+gt,Wp="__reactListeners$"+gt,us="__reactHandles$"+gt,bh="__reactResources$"+gt,ga="__reactMarker$"+gt;function cs(i){delete i[Ft],delete i[Ot],delete i[ou],delete i[Wp],delete i[us]}function _i(i){var s=i[Ft];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Yn]||l[Ft]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=fw(i);i!==null;){if(l=i[Ft])return l;i=fw(i)}return s}i=l,l=i.parentNode}return null}function Dr(i){if(i=i[Ft]||i[Yn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Pr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function vn(i){var s=i[bh];return s||(s=i[bh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(i){i[ga]=!0}var lu=new Set,xo={};function yr(i,s){bi(i,s),bi(i+"Capture",s)}function bi(i,s){for(xo[i]=s,i=0;i<s.length;i++)lu.add(s[i])}var Eh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wh={},ya={};function Th(i){return hi.call(ya,i)?!0:hi.call(wh,i)?!1:Eh.test(i)?ya[i]=!0:(wh[i]=!0,!1)}function hs(i,s,l){if(Th(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Mr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function en(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var va,xh;function Ei(i){if(va===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);va=s&&s[1]||"",xh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+i+xh}var So=!1;function Ao(i,s){if(!i||So)return"";So=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var W=Z}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(Z){W=Z}i.call(ae.prototype)}}else{try{throw Error()}catch(Z){W=Z}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var k=T.split(`
`),X=S.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===X.length)for(c=k.length-1,p=X.length-1;1<=c&&0<=p&&k[c]!==X[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==X[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==X[p]){var re=`
`+k[c].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=c&&0<=p);break}}}finally{So=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ei(l):""}function uu(i){switch(i.tag){case 26:case 27:case 5:return Ei(i.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Ao(i.type,!1);case 11:return Ao(i.type.render,!1);case 1:return Ao(i.type,!0);case 31:return Ei("Activity");default:return""}}function Ro(i){try{var s="";do s+=uu(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function _n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zp(i){var s=cu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Co(i){i._valueTracker||(i._valueTracker=Zp(i))}function hu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=cu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function _a(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Jp=/[\n"\\]/g;function Dt(i){return i.replace(Jp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function kn(i,s,l,c,p,g,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+_n(s)):i.value!==""+_n(s)&&(i.value=""+_n(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?fs(i,T,_n(s)):l!=null?fs(i,T,_n(l)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+_n(S):i.removeAttribute("name")}function ba(i,s,l,c,p,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+_n(l):"",s=s!=null?""+_n(s):l,S||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function fs(i,s,l){s==="number"&&_a(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function wi(i,s,l,c){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+_n(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function st(i,s,l){if(s!=null&&(s=""+_n(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+_n(l):""}function Ea(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(We(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=_n(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Xn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sh(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||wa.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function fu(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&Sh(i,p,c)}else for(var g in s)s.hasOwnProperty(g)&&Sh(i,g,s[g])}function du(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(i){return tm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ti=null;function Wn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xi=null,Si=null;function pu(i){var s=Dr(i);if(s&&(i=s.stateNode)){var l=i[Ot]||null;e:switch(i=s.stateNode,s.type){case"input":if(kn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var p=c[Ot]||null;if(!p)throw Error(r(90));kn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&hu(c)}break e;case"textarea":st(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&wi(i,!!l.multiple,s,!1)}}}var jr=!1;function Ah(i,s,l){if(jr)return i(s,l);jr=!0;try{var c=i(s);return c}finally{if(jr=!1,(xi!==null||Si!==null)&&(bf(),xi&&(s=xi,i=Si,Si=xi=null,pu(s),i)))for(s=0;s<i.length;s++)pu(i[s])}}function Ta(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Ot]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zn=!1;if(vr)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Zn=!1}var kr=null,ds=null,Ai=null;function mu(){if(Ai)return Ai;var i,s=ds,l=s.length,c,p="value"in kr?kr.value:kr.textContent,g=p.length;for(i=0;i<l&&s[i]===p[i];i++);var T=l-i;for(c=1;c<=T&&s[l-c]===p[g-c];c++);return Ai=p.slice(i,1<c?1-c:void 0)}function Lr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Vr(){return!0}function gu(){return!1}function Kt(i){function s(l,c,p,g,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(l=i[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Vr:gu,this.isPropagationStopped=gu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),s}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=Kt(Ze),Sa=y({},Ze,{view:0,detail:0}),Rh=Kt(Sa),Oo,Do,Ur,Aa=y({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ur&&(Ur&&i.type==="mousemove"?(Oo=i.screenX-Ur.screenX,Do=i.screenY-Ur.screenY):Do=Oo=0,Ur=i),Oo)},movementY:function(i){return"movementY"in i?i.movementY:Do}}),Jn=Kt(Aa),Ch=y({},Aa,{dataTransfer:0}),nm=Kt(Ch),Ra=y({},Sa,{relatedTarget:0}),Po=Kt(Ra),yu=y({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Mo=Kt(yu),Ih=y({},Ze,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),jo=Kt(Ih),rm=y({},Ze,{data:0}),vu=Kt(rm),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Oh[i])?!!s[i]:!1}function Ia(){return _u}var Dh=y({},Sa,{key:function(i){if(i.key){var s=Ca[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Lr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(i){return i.type==="keypress"?Lr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Lr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ko=Kt(Dh),Ph=y({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=Kt(Ph),Ri=y({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),Mh=Kt(Ri),jh=y({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=Kt(jh),Lh=y({},Aa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Lo=Kt(Lh),bn=y({},Ze,{newState:0,oldState:0}),Vh=Kt(bn),Uh=[9,13,27,32],Fr=vr&&"CompositionEvent"in window,f=null;vr&&"documentMode"in document&&(f=document.documentMode);var v=vr&&"TextEvent"in window&&!f,w=vr&&(!Fr||f&&8<f&&11>=f),R=" ",K=!1;function ee(i,s){switch(i){case"keyup":return Uh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $e=!1;function Bt(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(K=!0,R);case"textInput":return i=s.data,i===R&&K?null:i;default:return null}}function He(i,s){if($e)return i==="compositionend"||!Fr&&ee(i,s)?(i=mu(),Ai=ds=kr=null,$e=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Qt[i.type]:s==="textarea"}function Ci(i,s,l,c){xi?Si?Si.push(c):Si=[c]:xi=c,s=Af(s,"onChange"),0<s.length&&(l=new No("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var tn=null,Br=null;function Eu(i){nw(i,0)}function Fh(i){var s=Pr(i);if(hu(s))return i}function T_(i,s){if(i==="change")return s}var x_=!1;if(vr){var im;if(vr){var sm="oninput"in document;if(!sm){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),sm=typeof S_.oninput=="function"}im=sm}else im=!1;x_=im&&(!document.documentMode||9<document.documentMode)}function A_(){tn&&(tn.detachEvent("onpropertychange",R_),Br=tn=null)}function R_(i){if(i.propertyName==="value"&&Fh(Br)){var s=[];Ci(s,Br,i,Wn(i)),Ah(Eu,s)}}function eI(i,s,l){i==="focusin"?(A_(),tn=s,Br=l,tn.attachEvent("onpropertychange",R_)):i==="focusout"&&A_()}function tI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fh(Br)}function nI(i,s){if(i==="click")return Fh(s)}function rI(i,s){if(i==="input"||i==="change")return Fh(s)}function iI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ln=typeof Object.is=="function"?Object.is:iI;function wu(i,s){if(Ln(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!hi.call(s,p)||!Ln(i[p],s[p]))return!1}return!0}function C_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function I_(i,s){var l=C_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=C_(l)}}function N_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?N_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function O_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=_a(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=_a(i.document)}return s}function am(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var sI=vr&&"documentMode"in document&&11>=document.documentMode,Vo=null,om=null,Tu=null,lm=!1;function D_(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;lm||Vo==null||Vo!==_a(c)||(c=Vo,"selectionStart"in c&&am(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Tu&&wu(Tu,c)||(Tu=c,c=Af(om,"onSelect"),0<c.length&&(s=new No("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Vo)))}function Na(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Uo={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},um={},P_={};vr&&(P_=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Oa(i){if(um[i])return um[i];if(!Uo[i])return i;var s=Uo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in P_)return um[i]=s[l];return i}var M_=Oa("animationend"),j_=Oa("animationiteration"),k_=Oa("animationstart"),aI=Oa("transitionrun"),oI=Oa("transitionstart"),lI=Oa("transitioncancel"),L_=Oa("transitionend"),V_=new Map,cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cm.push("scrollEnd");function _r(i,s){V_.set(i,s),yr(s,[i])}var U_=new WeakMap;function er(i,s){if(typeof i=="object"&&i!==null){var l=U_.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Ro(s)},U_.set(i,s),s)}return{value:i,source:s,stack:Ro(s)}}var tr=[],Fo=0,hm=0;function Bh(){for(var i=Fo,s=hm=Fo=0;s<i;){var l=tr[s];tr[s++]=null;var c=tr[s];tr[s++]=null;var p=tr[s];tr[s++]=null;var g=tr[s];if(tr[s++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&F_(l,p,g)}}function zh(i,s,l,c){tr[Fo++]=i,tr[Fo++]=s,tr[Fo++]=l,tr[Fo++]=c,hm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function fm(i,s,l,c){return zh(i,s,l,c),qh(i)}function Bo(i,s){return zh(i,null,null,s),qh(i)}function F_(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&s!==null&&(p=31-ct(l),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=l|536870912),g):null}function qh(i){if(50<Qu)throw Qu=0,vg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var zo={};function uI(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,s,l,c){return new uI(i,s,l,c)}function dm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ii(i,s){var l=i.alternate;return l===null?(l=Vn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function B_(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function $h(i,s,l,c,p,g){var T=0;if(c=i,typeof i=="function")dm(i)&&(T=1);else if(typeof i=="string")T=hN(i,l,_e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Vn(31,l,s,p),i.elementType=I,i.lanes=g,i;case A:return Da(l.children,p,g,s);case M:T=8,p|=24;break;case O:return i=Vn(12,l,s,p|2),i.elementType=O,i.lanes=g,i;case F:return i=Vn(13,l,s,p),i.elementType=F,i.lanes=g,i;case Y:return i=Vn(19,l,s,p),i.elementType=Y,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:case q:T=10;break e;case V:T=9;break e;case ne:T=11;break e;case N:T=14;break e;case C:T=16,c=null;break e}T=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Vn(T,l,s,p),s.elementType=i,s.type=c,s.lanes=g,s}function Da(i,s,l,c){return i=Vn(7,i,c,s),i.lanes=l,i}function pm(i,s,l){return i=Vn(6,i,null,s),i.lanes=l,i}function mm(i,s,l){return s=Vn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var qo=[],$o=0,Hh=null,Gh=0,nr=[],rr=0,Pa=null,Ni=1,Oi="";function Ma(i,s){qo[$o++]=Gh,qo[$o++]=Hh,Hh=i,Gh=s}function z_(i,s,l){nr[rr++]=Ni,nr[rr++]=Oi,nr[rr++]=Pa,Pa=i;var c=Ni;i=Oi;var p=32-ct(c)-1;c&=~(1<<p),l+=1;var g=32-ct(s)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,Ni=1<<32-ct(s)+p|l<<p|c,Oi=g+i}else Ni=1<<g|l<<p|c,Oi=i}function gm(i){i.return!==null&&(Ma(i,1),z_(i,1,0))}function ym(i){for(;i===Hh;)Hh=qo[--$o],qo[$o]=null,Gh=qo[--$o],qo[$o]=null;for(;i===Pa;)Pa=nr[--rr],nr[rr]=null,Oi=nr[--rr],nr[rr]=null,Ni=nr[--rr],nr[rr]=null}var En=null,Tt=null,Ye=!1,ja=null,zr=!1,vm=Error(r(519));function ka(i){var s=Error(r(418,""));throw Au(er(s,i)),vm}function q_(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Ft]=i,s[Ot]=c,l){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(l=0;l<Xu.length;l++)Fe(Xu[l],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),ba(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Co(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),Ea(s,c.value,c.defaultValue,c.children),Co(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||aw(s.textContent,l)?(c.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),c.onScroll!=null&&Fe("scroll",s),c.onScrollEnd!=null&&Fe("scrollend",s),c.onClick!=null&&(s.onclick=Rf),s=!0):s=!1,s||ka(i)}function $_(i){for(En=i.return;En;)switch(En.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:En=En.return}}function xu(i){if(i!==En)return!1;if(!Ye)return $_(i),Ye=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Mg(i.type,i.memoizedProps)),l=!l),l&&Tt&&ka(i),$_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Tt=Er(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Tt=null}}else s===27?(s=Tt,Is(i.type)?(i=Vg,Vg=null,Tt=i):Tt=s):Tt=En?Er(i.stateNode.nextSibling):null;return!0}function Su(){Tt=En=null,Ye=!1}function H_(){var i=ja;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),ja=null),i}function Au(i){ja===null?ja=[i]:ja.push(i)}var _m=H(null),La=null,Di=null;function ps(i,s,l){le(_m,s._currentValue),s._currentValue=l}function Pi(i){i._currentValue=_m.current,ue(_m)}function bm(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Em(i,s,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=p;for(var k=0;k<s.length;k++)if(S.context===s[k]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),bm(g.return,l,i),c||(T=null);break e}g=S.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),bm(T,l,i),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===i){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Ru(i,s,l,c){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var S=p.type;Ln(p.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(p===wt.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(nc):i=[nc])}p=p.return}i!==null&&Em(s,i,l,c),s.flags|=262144}function Kh(i){for(i=i.firstContext;i!==null;){if(!Ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Va(i){La=i,Di=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return G_(La,i)}function Qh(i,s){return La===null&&Va(i),G_(i,s)}function G_(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Di===null){if(i===null)throw Error(r(308));Di=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Di=Di.next=s;return l}var cI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},hI=t.unstable_scheduleCallback,fI=t.unstable_NormalPriority,qt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wm(){return{controller:new cI,data:new Map,refCount:0}}function Cu(i){i.refCount--,i.refCount===0&&hI(fI,function(){i.controller.abort()})}var Iu=null,Tm=0,Ho=0,Go=null;function dI(i,s){if(Iu===null){var l=Iu=[];Tm=0,Ho=Sg(),Go={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Tm++,s.then(K_,K_),s}function K_(){if(--Tm===0&&Iu!==null){Go!==null&&(Go.status="fulfilled");var i=Iu;Iu=null,Ho=0,Go=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function pI(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var Q_=te.S;te.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&dI(i,s),Q_!==null&&Q_(i,s)};var Ua=H(null);function xm(){var i=Ua.current;return i!==null?i:ht.pooledCache}function Yh(i,s){s===null?le(Ua,Ua.current):le(Ua,s.pool)}function Y_(){var i=xm();return i===null?null:{parent:qt._currentValue,pool:i}}var Nu=Error(r(460)),X_=Error(r(474)),Xh=Error(r(542)),Sm={then:function(){}};function W_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Wh(){}function Z_(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Wh,Wh),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,eb(i),i;default:if(typeof s.status=="string")s.then(Wh,Wh);else{if(i=ht,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,eb(i),i}throw Ou=s,Nu}}var Ou=null;function J_(){if(Ou===null)throw Error(r(459));var i=Ou;return Ou=null,i}function eb(i){if(i===Nu||i===Xh)throw Error(r(483))}var ms=!1;function Am(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function gs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ys(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=qh(i),F_(i,null,l),s}return zh(i,c,s,l),qh(i)}function Du(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,au(i,l)}}function Cm(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Im=!1;function Pu(){if(Im){var i=Go;if(i!==null)throw i}}function Mu(i,s,l,c){Im=!1;var p=i.updateQueue;ms=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var k=S,X=k.next;k.next=null,T===null?g=X:T.next=X,T=k;var re=i.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==T&&(S===null?re.firstBaseUpdate=X:S.next=X,re.lastBaseUpdate=k))}if(g!==null){var ae=p.baseState;T=0,re=X=k=null,S=g;do{var W=S.lane&-536870913,Z=W!==S.lane;if(Z?(Ge&W)===W:(c&W)===W){W!==0&&W===Ho&&(Im=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ie=i,xe=S;W=s;var lt=l;switch(xe.tag){case 1:if(Ie=xe.payload,typeof Ie=="function"){ae=Ie.call(lt,ae,W);break e}ae=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=xe.payload,W=typeof Ie=="function"?Ie.call(lt,ae,W):Ie,W==null)break e;ae=y({},ae,W);break e;case 2:ms=!0}}W=S.callback,W!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(X=re=Z,k=ae):re=re.next=Z,T|=W;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);re===null&&(k=ae),p.baseState=k,p.firstBaseUpdate=X,p.lastBaseUpdate=re,g===null&&(p.shared.lanes=0),Ss|=T,i.lanes=T,i.memoizedState=ae}}function tb(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function nb(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)tb(l[i],s)}var Ko=H(null),Zh=H(0);function rb(i,s){i=Fi,le(Zh,i),le(Ko,s),Fi=i|s.baseLanes}function Nm(){le(Zh,Fi),le(Ko,Ko.current)}function Om(){Fi=Zh.current,ue(Ko),ue(Zh)}var vs=0,ke=null,at=null,Pt=null,Jh=!1,Qo=!1,Fa=!1,ef=0,ju=0,Yo=null,mI=0;function Rt(){throw Error(r(321))}function Dm(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Ln(i[l],s[l]))return!1;return!0}function Pm(i,s,l,c,p,g){return vs=g,ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=i===null||i.memoizedState===null?Fb:Bb,Fa=!1,g=l(c,p),Fa=!1,Qo&&(g=sb(s,l,c,p)),ib(i),g}function ib(i){te.H=of;var s=at!==null&&at.next!==null;if(vs=0,Pt=at=ke=null,Jh=!1,ju=0,Yo=null,s)throw Error(r(300));i===null||Yt||(i=i.dependencies,i!==null&&Kh(i)&&(Yt=!0))}function sb(i,s,l,c){ke=i;var p=0;do{if(Qo&&(Yo=null),ju=0,Qo=!1,25<=p)throw Error(r(301));if(p+=1,Pt=at=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}te.H=wI,g=s(l,c)}while(Qo);return g}function gI(){var i=te.H,s=i.useState()[0];return s=typeof s.then=="function"?ku(s):s,i=i.useState()[0],(at!==null?at.memoizedState:null)!==i&&(ke.flags|=1024),s}function Mm(){var i=ef!==0;return ef=0,i}function jm(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function km(i){if(Jh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Jh=!1}vs=0,Pt=at=ke=null,Qo=!1,ju=ef=0,Yo=null}function Cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ke.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function Mt(){if(at===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=at.next;var s=Pt===null?ke.memoizedState:Pt.next;if(s!==null)Pt=s,at=i;else{if(i===null)throw ke.alternate===null?Error(r(467)):Error(r(310));at=i,i={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Pt===null?ke.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function Lm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(i){var s=ju;return ju+=1,Yo===null&&(Yo=[]),i=Z_(Yo,i,s),s=ke,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?Fb:Bb),i}function tf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ku(i);if(i.$$typeof===q)return hn(i)}throw Error(r(438,String(i)))}function Vm(i){var s=null,l=ke.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Lm(),ke.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=L;return s.index++,l}function Mi(i,s){return typeof s=="function"?s(i):s}function nf(i){var s=Mt();return Um(s,at,i)}function Um(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}s.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var S=T=null,k=null,X=s,re=!1;do{var ae=X.lane&-536870913;if(ae!==X.lane?(Ge&ae)===ae:(vs&ae)===ae){var W=X.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ae===Ho&&(re=!0);else if((vs&W)===W){X=X.next,W===Ho&&(re=!0);continue}else ae={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(S=k=ae,T=g):k=k.next=ae,ke.lanes|=W,Ss|=W;ae=X.action,Fa&&l(g,ae),g=X.hasEagerState?X.eagerState:l(g,ae)}else W={lane:ae,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(S=k=W,T=g):k=k.next=W,ke.lanes|=ae,Ss|=ae;X=X.next}while(X!==null&&X!==s);if(k===null?T=g:k.next=S,!Ln(g,i.memoizedState)&&(Yt=!0,re&&(l=Go,l!==null)))throw l;i.memoizedState=g,i.baseState=T,i.baseQueue=k,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Fm(i){var s=Mt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do g=i(g,T.action),T=T.next;while(T!==p);Ln(g,s.memoizedState)||(Yt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function ab(i,s,l){var c=ke,p=Mt(),g=Ye;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var T=!Ln((at||p).memoizedState,l);T&&(p.memoizedState=l,Yt=!0),p=p.queue;var S=ub.bind(null,c,p,i);if(Lu(2048,8,S,[i]),p.getSnapshot!==s||T||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Xo(9,rf(),lb.bind(null,c,p,l,s),null),ht===null)throw Error(r(349));g||(vs&124)!==0||ob(c,s,l)}return l}function ob(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=ke.updateQueue,s===null?(s=Lm(),ke.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function lb(i,s,l,c){s.value=l,s.getSnapshot=c,cb(s)&&hb(i)}function ub(i,s,l){return l(function(){cb(s)&&hb(i)})}function cb(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Ln(i,l)}catch{return!0}}function hb(i){var s=Bo(i,2);s!==null&&qn(s,i,2)}function Bm(i){var s=Cn();if(typeof i=="function"){var l=i;if(i=l(),Fa){tt(!0);try{l()}finally{tt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:i},s}function fb(i,s,l,c){return i.baseState=l,Um(i,at,typeof c=="function"?c:Mi)}function yI(i,s,l,c,p){if(af(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};te.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,db(s,g)):(g.next=l.next,s.pending=l.next=g)}}function db(i,s){var l=s.action,c=s.payload,p=i.state;if(s.isTransition){var g=te.T,T={};te.T=T;try{var S=l(p,c),k=te.S;k!==null&&k(T,S),pb(i,s,S)}catch(X){zm(i,s,X)}finally{te.T=g}}else try{g=l(p,c),pb(i,s,g)}catch(X){zm(i,s,X)}}function pb(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){mb(i,s,c)},function(c){return zm(i,s,c)}):mb(i,s,l)}function mb(i,s,l){s.status="fulfilled",s.value=l,gb(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,db(i,l)))}function zm(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,gb(s),s=s.next;while(s!==c)}i.action=null}function gb(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function yb(i,s){return s}function vb(i,s){if(Ye){var l=ht.formState;if(l!==null){e:{var c=ke;if(Ye){if(Tt){t:{for(var p=Tt,g=zr;p.nodeType!==8;){if(!g){p=null;break t}if(p=Er(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Tt=Er(p.nextSibling),c=p.data==="F!";break e}}ka(c)}c=!1}c&&(s=l[0])}}return l=Cn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yb,lastRenderedState:s},l.queue=c,l=Lb.bind(null,ke,c),c.dispatch=l,c=Bm(!1),g=Km.bind(null,ke,!1,c.queue),c=Cn(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,l=yI.bind(null,ke,p,g,l),p.dispatch=l,c.memoizedState=i,[s,l,!1]}function _b(i){var s=Mt();return bb(s,at,i)}function bb(i,s,l){if(s=Um(i,s,yb)[0],i=nf(Mi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ku(s)}catch(T){throw T===Nu?Xh:T}else c=s;s=Mt();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(ke.flags|=2048,Xo(9,rf(),vI.bind(null,p,l),null)),[c,g,i]}function vI(i,s){i.action=s}function Eb(i){var s=Mt(),l=at;if(l!==null)return bb(s,l,i);Mt(),s=s.memoizedState,l=Mt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Xo(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=ke.updateQueue,s===null&&(s=Lm(),ke.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function rf(){return{destroy:void 0,resource:void 0}}function wb(){return Mt().memoizedState}function sf(i,s,l,c){var p=Cn();c=c===void 0?null:c,ke.flags|=i,p.memoizedState=Xo(1|s,rf(),l,c)}function Lu(i,s,l,c){var p=Mt();c=c===void 0?null:c;var g=p.memoizedState.inst;at!==null&&c!==null&&Dm(c,at.memoizedState.deps)?p.memoizedState=Xo(s,g,l,c):(ke.flags|=i,p.memoizedState=Xo(1|s,g,l,c))}function Tb(i,s){sf(8390656,8,i,s)}function xb(i,s){Lu(2048,8,i,s)}function Sb(i,s){return Lu(4,2,i,s)}function Ab(i,s){return Lu(4,4,i,s)}function Rb(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Cb(i,s,l){l=l!=null?l.concat([i]):null,Lu(4,4,Rb.bind(null,s,i),l)}function qm(){}function Ib(i,s){var l=Mt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Dm(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function Nb(i,s){var l=Mt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Dm(s,c[1]))return c[0];if(c=i(),Fa){tt(!0);try{i()}finally{tt(!1)}}return l.memoizedState=[c,s],c}function $m(i,s,l){return l===void 0||(vs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=PE(),ke.lanes|=i,Ss|=i,l)}function Ob(i,s,l,c){return Ln(l,s)?l:Ko.current!==null?(i=$m(i,l,c),Ln(i,s)||(Yt=!0),i):(vs&42)===0?(Yt=!0,i.memoizedState=l):(i=PE(),ke.lanes|=i,Ss|=i,s)}function Db(i,s,l,c,p){var g=ce.p;ce.p=g!==0&&8>g?g:8;var T=te.T,S={};te.T=S,Km(i,!1,s,l);try{var k=p(),X=te.S;if(X!==null&&X(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var re=pI(k,c);Vu(i,s,re,zn(i))}else Vu(i,s,c,zn(i))}catch(ae){Vu(i,s,{then:function(){},status:"rejected",reason:ae},zn())}finally{ce.p=g,te.T=T}}function _I(){}function Hm(i,s,l,c){if(i.tag!==5)throw Error(r(476));var p=Pb(i).queue;Db(i,p,s,pe,l===null?_I:function(){return Mb(i),l(c)})}function Pb(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:pe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Mb(i){var s=Pb(i).next.queue;Vu(i,s,{},zn())}function Gm(){return hn(nc)}function jb(){return Mt().memoizedState}function kb(){return Mt().memoizedState}function bI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=zn();i=gs(l);var c=ys(s,i,l);c!==null&&(qn(c,s,l),Du(c,s,l)),s={cache:wm()},i.payload=s;return}s=s.return}}function EI(i,s,l){var c=zn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},af(i)?Vb(s,l):(l=fm(i,s,l,c),l!==null&&(qn(l,i,c),Ub(l,s,c)))}function Lb(i,s,l){var c=zn();Vu(i,s,l,c)}function Vu(i,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(af(i))Vb(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,S=g(T,l);if(p.hasEagerState=!0,p.eagerState=S,Ln(S,T))return zh(i,s,p,0),ht===null&&Bh(),!1}catch{}finally{}if(l=fm(i,s,p,c),l!==null)return qn(l,i,c),Ub(l,s,c),!0}return!1}function Km(i,s,l,c){if(c={lane:2,revertLane:Sg(),action:c,hasEagerState:!1,eagerState:null,next:null},af(i)){if(s)throw Error(r(479))}else s=fm(i,l,c,2),s!==null&&qn(s,i,2)}function af(i){var s=i.alternate;return i===ke||s!==null&&s===ke}function Vb(i,s){Qo=Jh=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Ub(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,au(i,l)}}var of={readContext:hn,use:tf,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},Fb={readContext:hn,use:tf,useCallback:function(i,s){return Cn().memoizedState=[i,s===void 0?null:s],i},useContext:hn,useEffect:Tb,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,sf(4194308,4,Rb.bind(null,s,i),l)},useLayoutEffect:function(i,s){return sf(4194308,4,i,s)},useInsertionEffect:function(i,s){sf(4,2,i,s)},useMemo:function(i,s){var l=Cn();s=s===void 0?null:s;var c=i();if(Fa){tt(!0);try{i()}finally{tt(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=Cn();if(l!==void 0){var p=l(s);if(Fa){tt(!0);try{l(s)}finally{tt(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=EI.bind(null,ke,i),[c.memoizedState,i]},useRef:function(i){var s=Cn();return i={current:i},s.memoizedState=i},useState:function(i){i=Bm(i);var s=i.queue,l=Lb.bind(null,ke,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:qm,useDeferredValue:function(i,s){var l=Cn();return $m(l,i,s)},useTransition:function(){var i=Bm(!1);return i=Db.bind(null,ke,i.queue,!0,!1),Cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=ke,p=Cn();if(Ye){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),ht===null)throw Error(r(349));(Ge&124)!==0||ob(c,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,Tb(ub.bind(null,c,g,i),[i]),c.flags|=2048,Xo(9,rf(),lb.bind(null,c,g,l,s),null),l},useId:function(){var i=Cn(),s=ht.identifierPrefix;if(Ye){var l=Oi,c=Ni;l=(c&~(1<<32-ct(c)-1)).toString(32)+l,s=""+s+"R"+l,l=ef++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=mI++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Gm,useFormState:vb,useActionState:vb,useOptimistic:function(i){var s=Cn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Km.bind(null,ke,!0,l),l.dispatch=s,[i,s]},useMemoCache:Vm,useCacheRefresh:function(){return Cn().memoizedState=bI.bind(null,ke)}},Bb={readContext:hn,use:tf,useCallback:Ib,useContext:hn,useEffect:xb,useImperativeHandle:Cb,useInsertionEffect:Sb,useLayoutEffect:Ab,useMemo:Nb,useReducer:nf,useRef:wb,useState:function(){return nf(Mi)},useDebugValue:qm,useDeferredValue:function(i,s){var l=Mt();return Ob(l,at.memoizedState,i,s)},useTransition:function(){var i=nf(Mi)[0],s=Mt().memoizedState;return[typeof i=="boolean"?i:ku(i),s]},useSyncExternalStore:ab,useId:jb,useHostTransitionStatus:Gm,useFormState:_b,useActionState:_b,useOptimistic:function(i,s){var l=Mt();return fb(l,at,i,s)},useMemoCache:Vm,useCacheRefresh:kb},wI={readContext:hn,use:tf,useCallback:Ib,useContext:hn,useEffect:xb,useImperativeHandle:Cb,useInsertionEffect:Sb,useLayoutEffect:Ab,useMemo:Nb,useReducer:Fm,useRef:wb,useState:function(){return Fm(Mi)},useDebugValue:qm,useDeferredValue:function(i,s){var l=Mt();return at===null?$m(l,i,s):Ob(l,at.memoizedState,i,s)},useTransition:function(){var i=Fm(Mi)[0],s=Mt().memoizedState;return[typeof i=="boolean"?i:ku(i),s]},useSyncExternalStore:ab,useId:jb,useHostTransitionStatus:Gm,useFormState:Eb,useActionState:Eb,useOptimistic:function(i,s){var l=Mt();return at!==null?fb(l,at,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Vm,useCacheRefresh:kb},Wo=null,Uu=0;function lf(i){var s=Uu;return Uu+=1,Wo===null&&(Wo=[]),Z_(Wo,i,s)}function Fu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function uf(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function zb(i){var s=i._init;return s(i._payload)}function qb(i){function s(G,z){if(i){var Q=G.deletions;Q===null?(G.deletions=[z],G.flags|=16):Q.push(z)}}function l(G,z){if(!i)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function c(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function p(G,z){return G=Ii(G,z),G.index=0,G.sibling=null,G}function g(G,z,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<z?(G.flags|=67108866,z):Q):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function T(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function S(G,z,Q,ie){return z===null||z.tag!==6?(z=pm(Q,G.mode,ie),z.return=G,z):(z=p(z,Q),z.return=G,z)}function k(G,z,Q,ie){var ge=Q.type;return ge===A?re(G,z,Q.props.children,ie,Q.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&zb(ge)===z.type)?(z=p(z,Q.props),Fu(z,Q),z.return=G,z):(z=$h(Q.type,Q.key,Q.props,null,G.mode,ie),Fu(z,Q),z.return=G,z)}function X(G,z,Q,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=mm(Q,G.mode,ie),z.return=G,z):(z=p(z,Q.children||[]),z.return=G,z)}function re(G,z,Q,ie,ge){return z===null||z.tag!==7?(z=Da(Q,G.mode,ie,ge),z.return=G,z):(z=p(z,Q),z.return=G,z)}function ae(G,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=pm(""+z,G.mode,Q),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return Q=$h(z.type,z.key,z.props,null,G.mode,Q),Fu(Q,z),Q.return=G,Q;case x:return z=mm(z,G.mode,Q),z.return=G,z;case C:var ie=z._init;return z=ie(z._payload),ae(G,z,Q)}if(We(z)||$(z))return z=Da(z,G.mode,Q,null),z.return=G,z;if(typeof z.then=="function")return ae(G,lf(z),Q);if(z.$$typeof===q)return ae(G,Qh(G,z),Q);uf(G,z)}return null}function W(G,z,Q,ie){var ge=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ge!==null?null:S(G,z,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===ge?k(G,z,Q,ie):null;case x:return Q.key===ge?X(G,z,Q,ie):null;case C:return ge=Q._init,Q=ge(Q._payload),W(G,z,Q,ie)}if(We(Q)||$(Q))return ge!==null?null:re(G,z,Q,ie,null);if(typeof Q.then=="function")return W(G,z,lf(Q),ie);if(Q.$$typeof===q)return W(G,z,Qh(G,Q),ie);uf(G,Q)}return null}function Z(G,z,Q,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(Q)||null,S(z,G,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return G=G.get(ie.key===null?Q:ie.key)||null,k(z,G,ie,ge);case x:return G=G.get(ie.key===null?Q:ie.key)||null,X(z,G,ie,ge);case C:var Le=ie._init;return ie=Le(ie._payload),Z(G,z,Q,ie,ge)}if(We(ie)||$(ie))return G=G.get(Q)||null,re(z,G,ie,ge,null);if(typeof ie.then=="function")return Z(G,z,Q,lf(ie),ge);if(ie.$$typeof===q)return Z(G,z,Q,Qh(z,ie),ge);uf(z,ie)}return null}function Ie(G,z,Q,ie){for(var ge=null,Le=null,Ee=z,Se=z=0,Wt=null;Ee!==null&&Se<Q.length;Se++){Ee.index>Se?(Wt=Ee,Ee=null):Wt=Ee.sibling;var Qe=W(G,Ee,Q[Se],ie);if(Qe===null){Ee===null&&(Ee=Wt);break}i&&Ee&&Qe.alternate===null&&s(G,Ee),z=g(Qe,z,Se),Le===null?ge=Qe:Le.sibling=Qe,Le=Qe,Ee=Wt}if(Se===Q.length)return l(G,Ee),Ye&&Ma(G,Se),ge;if(Ee===null){for(;Se<Q.length;Se++)Ee=ae(G,Q[Se],ie),Ee!==null&&(z=g(Ee,z,Se),Le===null?ge=Ee:Le.sibling=Ee,Le=Ee);return Ye&&Ma(G,Se),ge}for(Ee=c(Ee);Se<Q.length;Se++)Wt=Z(Ee,G,Se,Q[Se],ie),Wt!==null&&(i&&Wt.alternate!==null&&Ee.delete(Wt.key===null?Se:Wt.key),z=g(Wt,z,Se),Le===null?ge=Wt:Le.sibling=Wt,Le=Wt);return i&&Ee.forEach(function(Ms){return s(G,Ms)}),Ye&&Ma(G,Se),ge}function xe(G,z,Q,ie){if(Q==null)throw Error(r(151));for(var ge=null,Le=null,Ee=z,Se=z=0,Wt=null,Qe=Q.next();Ee!==null&&!Qe.done;Se++,Qe=Q.next()){Ee.index>Se?(Wt=Ee,Ee=null):Wt=Ee.sibling;var Ms=W(G,Ee,Qe.value,ie);if(Ms===null){Ee===null&&(Ee=Wt);break}i&&Ee&&Ms.alternate===null&&s(G,Ee),z=g(Ms,z,Se),Le===null?ge=Ms:Le.sibling=Ms,Le=Ms,Ee=Wt}if(Qe.done)return l(G,Ee),Ye&&Ma(G,Se),ge;if(Ee===null){for(;!Qe.done;Se++,Qe=Q.next())Qe=ae(G,Qe.value,ie),Qe!==null&&(z=g(Qe,z,Se),Le===null?ge=Qe:Le.sibling=Qe,Le=Qe);return Ye&&Ma(G,Se),ge}for(Ee=c(Ee);!Qe.done;Se++,Qe=Q.next())Qe=Z(Ee,G,Se,Qe.value,ie),Qe!==null&&(i&&Qe.alternate!==null&&Ee.delete(Qe.key===null?Se:Qe.key),z=g(Qe,z,Se),Le===null?ge=Qe:Le.sibling=Qe,Le=Qe);return i&&Ee.forEach(function(TN){return s(G,TN)}),Ye&&Ma(G,Se),ge}function lt(G,z,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var ge=Q.key;z!==null;){if(z.key===ge){if(ge=Q.type,ge===A){if(z.tag===7){l(G,z.sibling),ie=p(z,Q.props.children),ie.return=G,G=ie;break e}}else if(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&zb(ge)===z.type){l(G,z.sibling),ie=p(z,Q.props),Fu(ie,Q),ie.return=G,G=ie;break e}l(G,z);break}else s(G,z);z=z.sibling}Q.type===A?(ie=Da(Q.props.children,G.mode,ie,Q.key),ie.return=G,G=ie):(ie=$h(Q.type,Q.key,Q.props,null,G.mode,ie),Fu(ie,Q),ie.return=G,G=ie)}return T(G);case x:e:{for(ge=Q.key;z!==null;){if(z.key===ge)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){l(G,z.sibling),ie=p(z,Q.children||[]),ie.return=G,G=ie;break e}else{l(G,z);break}else s(G,z);z=z.sibling}ie=mm(Q,G.mode,ie),ie.return=G,G=ie}return T(G);case C:return ge=Q._init,Q=ge(Q._payload),lt(G,z,Q,ie)}if(We(Q))return Ie(G,z,Q,ie);if($(Q)){if(ge=$(Q),typeof ge!="function")throw Error(r(150));return Q=ge.call(Q),xe(G,z,Q,ie)}if(typeof Q.then=="function")return lt(G,z,lf(Q),ie);if(Q.$$typeof===q)return lt(G,z,Qh(G,Q),ie);uf(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(l(G,z.sibling),ie=p(z,Q),ie.return=G,G=ie):(l(G,z),ie=pm(Q,G.mode,ie),ie.return=G,G=ie),T(G)):l(G,z)}return function(G,z,Q,ie){try{Uu=0;var ge=lt(G,z,Q,ie);return Wo=null,ge}catch(Ee){if(Ee===Nu||Ee===Xh)throw Ee;var Le=Vn(29,Ee,null,G.mode);return Le.lanes=ie,Le.return=G,Le}finally{}}}var Zo=qb(!0),$b=qb(!1),ir=H(null),qr=null;function _s(i){var s=i.alternate;le($t,$t.current&1),le(ir,i),qr===null&&(s===null||Ko.current!==null||s.memoizedState!==null)&&(qr=i)}function Hb(i){if(i.tag===22){if(le($t,$t.current),le(ir,i),qr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(qr=i)}}else bs()}function bs(){le($t,$t.current),le(ir,ir.current)}function ji(i){ue(ir),qr===i&&(qr=null),ue($t)}var $t=H(0);function cf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Lg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Qm(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ym={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=zn(),p=gs(c);p.payload=s,l!=null&&(p.callback=l),s=ys(i,p,c),s!==null&&(qn(s,i,c),Du(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=zn(),p=gs(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=ys(i,p,c),s!==null&&(qn(s,i,c),Du(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=zn(),c=gs(l);c.tag=2,s!=null&&(c.callback=s),s=ys(i,c,l),s!==null&&(qn(s,i,l),Du(s,i,l))}};function Gb(i,s,l,c,p,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!wu(l,c)||!wu(p,g):!0}function Kb(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&Ym.enqueueReplaceState(s,s.state,null)}function Ba(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var hf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Qb(i){hf(i)}function Yb(i){console.error(i)}function Xb(i){hf(i)}function ff(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Wb(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Xm(i,s,l){return l=gs(l),l.tag=3,l.payload={element:null},l.callback=function(){ff(i,s)},l}function Zb(i){return i=gs(i),i.tag=3,i}function Jb(i,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){Wb(s,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Wb(s,l,c),typeof p!="function"&&(As===null?As=new Set([this]):As.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function TI(i,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Ru(s,l,p,!0),l=ir.current,l!==null){switch(l.tag){case 13:return qr===null?bg():l.alternate===null&&xt===0&&(xt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Sm?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),wg(i,c,p)),!1;case 22:return l.flags|=65536,c===Sm?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),wg(i,c,p)),!1}throw Error(r(435,l.tag))}return wg(i,c,p),bg(),!1}if(Ye)return s=ir.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==vm&&(i=Error(r(422),{cause:c}),Au(er(i,l)))):(c!==vm&&(s=Error(r(423),{cause:c}),Au(er(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=er(c,l),p=Xm(i.stateNode,c,p),Cm(i,p),xt!==4&&(xt=2)),!1;var g=Error(r(520),{cause:c});if(g=er(g,l),Ku===null?Ku=[g]:Ku.push(g),xt!==4&&(xt=2),s===null)return!0;c=er(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Xm(l.stateNode,c,i),Cm(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(As===null||!As.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Zb(p),Jb(p,i,l,c),Cm(l,p),!1}l=l.return}while(l!==null);return!1}var eE=Error(r(461)),Yt=!1;function nn(i,s,l,c){s.child=i===null?$b(s,null,l,c):Zo(s,i.child,l,c)}function tE(i,s,l,c,p){l=l.render;var g=s.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Va(s),c=Pm(i,s,l,T,g,p),S=Mm(),i!==null&&!Yt?(jm(i,s,p),ki(i,s,p)):(Ye&&S&&gm(s),s.flags|=1,nn(i,s,c,p),s.child)}function nE(i,s,l,c,p){if(i===null){var g=l.type;return typeof g=="function"&&!dm(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,rE(i,s,g,c,p)):(i=$h(l.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!ig(i,p)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:wu,l(T,c)&&i.ref===s.ref)return ki(i,s,p)}return s.flags|=1,i=Ii(g,c),i.ref=s.ref,i.return=s,s.child=i}function rE(i,s,l,c,p){if(i!==null){var g=i.memoizedProps;if(wu(g,c)&&i.ref===s.ref)if(Yt=!1,s.pendingProps=c=g,ig(i,p))(i.flags&131072)!==0&&(Yt=!0);else return s.lanes=i.lanes,ki(i,s,p)}return Wm(i,s,l,c,p)}function iE(i,s,l){var c=s.pendingProps,p=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(p=s.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return sE(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yh(s,g!==null?g.cachePool:null),g!==null?rb(s,g):Nm(),Hb(s);else return s.lanes=s.childLanes=536870912,sE(i,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(Yh(s,g.cachePool),rb(s,g),bs(),s.memoizedState=null):(i!==null&&Yh(s,null),Nm(),bs());return nn(i,s,p,l),s.child}function sE(i,s,l,c){var p=xm();return p=p===null?null:{parent:qt._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},i!==null&&Yh(s,null),Nm(),Hb(s),i!==null&&Ru(i,s,c,!0),null}function df(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Wm(i,s,l,c,p){return Va(s),l=Pm(i,s,l,c,void 0,p),c=Mm(),i!==null&&!Yt?(jm(i,s,p),ki(i,s,p)):(Ye&&c&&gm(s),s.flags|=1,nn(i,s,l,p),s.child)}function aE(i,s,l,c,p,g){return Va(s),s.updateQueue=null,l=sb(s,c,l,p),ib(i),c=Mm(),i!==null&&!Yt?(jm(i,s,g),ki(i,s,g)):(Ye&&c&&gm(s),s.flags|=1,nn(i,s,l,g),s.child)}function oE(i,s,l,c,p){if(Va(s),s.stateNode===null){var g=zo,T=l.contextType;typeof T=="object"&&T!==null&&(g=hn(T)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ym,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Am(s),T=l.contextType,g.context=typeof T=="object"&&T!==null?hn(T):zo,g.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Qm(s,l,T,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Ym.enqueueReplaceState(g,g.state,null),Mu(s,c,g,p),Pu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var S=s.memoizedProps,k=Ba(l,S);g.props=k;var X=g.context,re=l.contextType;T=zo,typeof re=="object"&&re!==null&&(T=hn(re));var ae=l.getDerivedStateFromProps;re=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||X!==T)&&Kb(s,g,c,T),ms=!1;var W=s.memoizedState;g.state=W,Mu(s,c,g,p),Pu(),X=s.memoizedState,S||W!==X||ms?(typeof ae=="function"&&(Qm(s,l,ae,c),X=s.memoizedState),(k=ms||Gb(s,l,k,c,W,X,T))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),g.props=c,g.state=X,g.context=T,c=k):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Rm(i,s),T=s.memoizedProps,re=Ba(l,T),g.props=re,ae=s.pendingProps,W=g.context,X=l.contextType,k=zo,typeof X=="object"&&X!==null&&(k=hn(X)),S=l.getDerivedStateFromProps,(X=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ae||W!==k)&&Kb(s,g,c,k),ms=!1,W=s.memoizedState,g.state=W,Mu(s,c,g,p),Pu();var Z=s.memoizedState;T!==ae||W!==Z||ms||i!==null&&i.dependencies!==null&&Kh(i.dependencies)?(typeof S=="function"&&(Qm(s,l,S,c),Z=s.memoizedState),(re=ms||Gb(s,l,re,c,W,Z,k)||i!==null&&i.dependencies!==null&&Kh(i.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,k)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Z),g.props=c,g.state=Z,g.context=k,c=re):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,df(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Zo(s,i.child,null,p),s.child=Zo(s,null,l,p)):nn(i,s,l,p),s.memoizedState=g.state,i=s.child):i=ki(i,s,p),i}function lE(i,s,l,c){return Su(),s.flags|=256,nn(i,s,l,c),s.child}var Zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jm(i){return{baseLanes:i,cachePool:Y_()}}function eg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=sr),i}function uE(i,s,l){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:($t.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ye){if(p?_s(s):bs(),Ye){var S=Tt,k;if(k=S){e:{for(k=S,S=zr;k.nodeType!==8;){if(!S){S=null;break e}if(k=Er(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(s.memoizedState={dehydrated:S,treeContext:Pa!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},k=Vn(18,null,null,0),k.stateNode=S,k.return=s,s.child=k,En=s,Tt=null,k=!0):k=!1}k||ka(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Lg(S)?s.lanes=32:s.lanes=536870912,null;ji(s)}return S=c.children,c=c.fallback,p?(bs(),p=s.mode,S=pf({mode:"hidden",children:S},p),c=Da(c,p,l,null),S.return=s,c.return=s,S.sibling=c,s.child=S,p=s.child,p.memoizedState=Jm(l),p.childLanes=eg(i,T,l),s.memoizedState=Zm,c):(_s(s),tg(s,S))}if(k=i.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(g)s.flags&256?(_s(s),s.flags&=-257,s=ng(i,s,l)):s.memoizedState!==null?(bs(),s.child=i.child,s.flags|=128,s=null):(bs(),p=c.fallback,S=s.mode,c=pf({mode:"visible",children:c.children},S),p=Da(p,S,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Zo(s,i.child,null,l),c=s.child,c.memoizedState=Jm(l),c.childLanes=eg(i,T,l),s.memoizedState=Zm,s=p);else if(_s(s),Lg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var X=T.dgst;T=X,c=Error(r(419)),c.stack="",c.digest=T,Au({value:c,source:null,stack:null}),s=ng(i,s,l)}else if(Yt||Ru(i,s,l,!1),T=(l&i.childLanes)!==0,Yt||T){if(T=ht,T!==null&&(c=l&-l,c=(c&42)!==0?1:os(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,Bo(i,c),qn(T,i,c),eE;S.data==="$?"||bg(),s=ng(i,s,l)}else S.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=k.treeContext,Tt=Er(S.nextSibling),En=s,Ye=!0,ja=null,zr=!1,i!==null&&(nr[rr++]=Ni,nr[rr++]=Oi,nr[rr++]=Pa,Ni=i.id,Oi=i.overflow,Pa=s),s=tg(s,c.children),s.flags|=4096);return s}return p?(bs(),p=c.fallback,S=s.mode,k=i.child,X=k.sibling,c=Ii(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,X!==null?p=Ii(X,p):(p=Da(p,S,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,S=i.child.memoizedState,S===null?S=Jm(l):(k=S.cachePool,k!==null?(X=qt._currentValue,k=k.parent!==X?{parent:X,pool:X}:k):k=Y_(),S={baseLanes:S.baseLanes|l,cachePool:k}),p.memoizedState=S,p.childLanes=eg(i,T,l),s.memoizedState=Zm,c):(_s(s),l=i.child,i=l.sibling,l=Ii(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=l,s.memoizedState=null,l)}function tg(i,s){return s=pf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function pf(i,s){return i=Vn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ng(i,s,l){return Zo(s,i.child,null,l),i=tg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function cE(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),bm(i.return,s,l)}function rg(i,s,l,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=p)}function hE(i,s,l){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(nn(i,s,c.children,l),c=$t.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cE(i,l,s);else if(i.tag===19)cE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(le($t,c),p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&cf(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),rg(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&cf(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}rg(s,!0,l,null,g);break;case"together":rg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ki(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ss|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Ru(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ii(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ii(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function ig(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Kh(i)))}function xI(i,s,l){switch(s.tag){case 3:et(s,s.stateNode.containerInfo),ps(s,qt,i.memoizedState.cache),Su();break;case 27:case 5:mr(s);break;case 4:et(s,s.stateNode.containerInfo);break;case 10:ps(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(_s(s),s.flags|=128,null):(l&s.child.childLanes)!==0?uE(i,s,l):(_s(s),i=ki(i,s,l),i!==null?i.sibling:null);_s(s);break;case 19:var p=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Ru(i,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return hE(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le($t,$t.current),c)break;return null;case 22:case 23:return s.lanes=0,iE(i,s,l);case 24:ps(s,qt,i.memoizedState.cache)}return ki(i,s,l)}function fE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Yt=!0;else{if(!ig(i,l)&&(s.flags&128)===0)return Yt=!1,xI(i,s,l);Yt=(i.flags&131072)!==0}else Yt=!1,Ye&&(s.flags&1048576)!==0&&z_(s,Gh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")dm(c)?(i=Ba(c,i),s.tag=1,s=oE(null,s,c,i,l)):(s.tag=0,s=Wm(null,s,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===ne){s.tag=11,s=tE(null,s,c,i,l);break e}else if(p===N){s.tag=14,s=nE(null,s,c,i,l);break e}}throw s=Ve(c)||c,Error(r(306,s,""))}}return s;case 0:return Wm(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=Ba(c,s.pendingProps),oE(i,s,c,p,l);case 3:e:{if(et(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,Rm(i,s),Mu(s,c,null,l);var T=s.memoizedState;if(c=T.cache,ps(s,qt,c),c!==g.cache&&Em(s,[qt],l,!0),Pu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=lE(i,s,c,l);break e}else if(c!==p){p=er(Error(r(424)),s),Au(p),s=lE(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Tt=Er(i.firstChild),En=s,Ye=!0,ja=null,zr=!0,l=$b(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Su(),c===p){s=ki(i,s,l);break e}nn(i,s,c,l)}s=s.child}return s;case 26:return df(i,s),i===null?(l=gw(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ye||(l=s.type,i=s.pendingProps,c=Cf(Ae.current).createElement(l),c[Ft]=s,c[Ot]=i,sn(c,l,i),At(c),s.stateNode=c):s.memoizedState=gw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return mr(s),i===null&&Ye&&(c=s.stateNode=dw(s.type,s.pendingProps,Ae.current),En=s,zr=!0,p=Tt,Is(s.type)?(Vg=p,Tt=Er(c.firstChild)):Tt=p),nn(i,s,s.pendingProps.children,l),df(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ye&&((p=c=Tt)&&(c=ZI(c,s.type,s.pendingProps,zr),c!==null?(s.stateNode=c,En=s,Tt=Er(c.firstChild),zr=!1,p=!0):p=!1),p||ka(s)),mr(s),p=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,Mg(p,g)?c=null:T!==null&&Mg(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=Pm(i,s,gI,null,null,l),nc._currentValue=p),df(i,s),nn(i,s,c,l),s.child;case 6:return i===null&&Ye&&((i=l=Tt)&&(l=JI(l,s.pendingProps,zr),l!==null?(s.stateNode=l,En=s,Tt=null,i=!0):i=!1),i||ka(s)),null;case 13:return uE(i,s,l);case 4:return et(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Zo(s,null,c,l):nn(i,s,c,l),s.child;case 11:return tE(i,s,s.type,s.pendingProps,l);case 7:return nn(i,s,s.pendingProps,l),s.child;case 8:return nn(i,s,s.pendingProps.children,l),s.child;case 12:return nn(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ps(s,s.type,c.value),nn(i,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Va(s),p=hn(p),c=c(p),s.flags|=1,nn(i,s,c,l),s.child;case 14:return nE(i,s,s.type,s.pendingProps,l);case 15:return rE(i,s,s.type,s.pendingProps,l);case 19:return hE(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=pf(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Ii(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return iE(i,s,l);case 24:return Va(s),c=hn(qt),i===null?(p=xm(),p===null&&(p=ht,g=wm(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:c,cache:p},Am(s),ps(s,qt,p)):((i.lanes&l)!==0&&(Rm(i,s),Mu(s,null,null,l),Pu()),p=i.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ps(s,qt,c)):(c=g.cache,ps(s,qt,c),c!==p.cache&&Em(s,[qt],l,!0))),nn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Li(i){i.flags|=4}function dE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ew(s)){if(s=ir.current,s!==null&&((Ge&4194048)===Ge?qr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||s!==qr))throw Ou=Sm,X_;i.flags|=8192}}function mf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?iu():536870912,i.lanes|=s,nl|=s)}function Bu(i,s){if(!Ye)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function bt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function SI(i,s,l){var c=s.pendingProps;switch(ym(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return bt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Pi(qt),Mn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(xu(s)?Li(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,H_())),bt(s),null;case 26:return l=s.memoizedState,i===null?(Li(s),l!==null?(bt(s),dE(s,l)):(bt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Li(s),bt(s),dE(s,l)):(bt(s),s.flags&=-16777217):(i.memoizedProps!==c&&Li(s),bt(s),s.flags&=-16777217),null;case 27:jn(s),l=Ae.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Li(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return bt(s),null}i=_e.current,xu(s)?q_(s):(i=dw(p,c,l),s.stateNode=i,Li(s))}return bt(s),null;case 5:if(jn(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Li(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return bt(s),null}if(i=_e.current,xu(s))q_(s);else{switch(p=Cf(Ae.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[Ft]=s,i[Ot]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(sn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Li(s)}}return bt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Li(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ae.current,xu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,p=En,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Ft]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||aw(i.nodeValue,l)),i||ka(s)}else i=Cf(i).createTextNode(c),i[Ft]=s,s.stateNode=i}return bt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=xu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ft]=s}else Su(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),p=!1}else p=H_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(ji(s),s):(ji(s),null)}if(ji(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),mf(s,s.updateQueue),bt(s),null;case 4:return Mn(),i===null&&Ig(s.stateNode.containerInfo),bt(s),null;case 10:return Pi(s.type),bt(s),null;case 19:if(ue($t),p=s.memoizedState,p===null)return bt(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)Bu(p,!1);else{if(xt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=cf(i),g!==null){for(s.flags|=128,Bu(p,!1),i=g.updateQueue,s.updateQueue=i,mf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)B_(l,i),l=l.sibling;return le($t,$t.current&1|2),s.child}i=i.sibling}p.tail!==null&&Rn()>vf&&(s.flags|=128,c=!0,Bu(p,!1),s.lanes=4194304)}else{if(!c)if(i=cf(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,mf(s,i),Bu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ye)return bt(s),null}else 2*Rn()-p.renderingStartTime>vf&&l!==536870912&&(s.flags|=128,c=!0,Bu(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(i=p.last,i!==null?i.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Rn(),s.sibling=null,i=$t.current,le($t,c?i&1|2:i&1),s):(bt(s),null);case 22:case 23:return ji(s),Om(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),l=s.updateQueue,l!==null&&mf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&ue(Ua),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Pi(qt),bt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function AI(i,s){switch(ym(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Pi(qt),Mn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return jn(s),null;case 13:if(ji(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Su()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ue($t),null;case 4:return Mn(),null;case 10:return Pi(s.type),null;case 22:case 23:return ji(s),Om(),i!==null&&ue(Ua),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Pi(qt),null;case 25:return null;default:return null}}function pE(i,s){switch(ym(s),s.tag){case 3:Pi(qt),Mn();break;case 26:case 27:case 5:jn(s);break;case 4:Mn();break;case 13:ji(s);break;case 19:ue($t);break;case 10:Pi(s.type);break;case 22:case 23:ji(s),Om(),i!==null&&ue(Ua);break;case 24:Pi(qt)}}function zu(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var g=l.create,T=l.inst;c=g(),T.destroy=c}l=l.next}while(l!==p)}}catch(S){ut(s,s.return,S)}}function Es(i,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,p=s;var k=l,X=S;try{X()}catch(re){ut(p,k,re)}}}c=c.next}while(c!==g)}}catch(re){ut(s,s.return,re)}}function mE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{nb(s,l)}catch(c){ut(i,i.return,c)}}}function gE(i,s,l){l.props=Ba(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){ut(i,s,c)}}function qu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){ut(i,s,p)}}function $r(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){ut(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ut(i,s,p)}else l.current=null}function yE(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){ut(i,i.return,p)}}function sg(i,s,l){try{var c=i.stateNode;KI(c,i.type,l,s),c[Ot]=s}catch(p){ut(i,i.return,p)}}function vE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Is(i.type)||i.tag===4}function ag(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||vE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Is(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function og(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Rf));else if(c!==4&&(c===27&&Is(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(og(i,s,l),i=i.sibling;i!==null;)og(i,s,l),i=i.sibling}function gf(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&Is(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(gf(i,s,l),i=i.sibling;i!==null;)gf(i,s,l),i=i.sibling}function _E(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);sn(s,c,l),s[Ft]=i,s[Ot]=l}catch(g){ut(i,i.return,g)}}var Vi=!1,Ct=!1,lg=!1,bE=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function RI(i,s){if(i=i.containerInfo,Dg=Mf,i=O_(i),am(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,S=-1,k=-1,X=0,re=0,ae=i,W=null;t:for(;;){for(var Z;ae!==l||p!==0&&ae.nodeType!==3||(S=T+p),ae!==g||c!==0&&ae.nodeType!==3||(k=T+c),ae.nodeType===3&&(T+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)W=ae,ae=Z;for(;;){if(ae===i)break t;if(W===l&&++X===p&&(S=T),W===g&&++re===c&&(k=T),(Z=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=Z}l=S===-1||k===-1?null:{start:S,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pg={focusedElem:i,selectionRange:l},Mf=!1,Xt=s;Xt!==null;)if(s=Xt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Xt=i;else for(;Xt!==null;){switch(s=Xt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Ie=Ba(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ie,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(xe){ut(l,l.return,xe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)kg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Xt=i;break}Xt=s.return}}function EE(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ws(i,l),c&4&&zu(5,l);break;case 1:if(ws(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(T){ut(l,l.return,T)}else{var p=Ba(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){ut(l,l.return,T)}}c&64&&mE(l),c&512&&qu(l,l.return);break;case 3:if(ws(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{nb(i,s)}catch(T){ut(l,l.return,T)}}break;case 27:s===null&&c&4&&_E(l);case 26:case 5:ws(i,l),s===null&&c&4&&yE(l),c&512&&qu(l,l.return);break;case 12:ws(i,l);break;case 13:ws(i,l),c&4&&xE(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=kI.bind(null,l),eN(i,l))));break;case 22:if(c=l.memoizedState!==null||Vi,!c){s=s!==null&&s.memoizedState!==null||Ct,p=Vi;var g=Ct;Vi=c,(Ct=s)&&!g?Ts(i,l,(l.subtreeFlags&8772)!==0):ws(i,l),Vi=p,Ct=g}break;case 30:break;default:ws(i,l)}}function wE(i){var s=i.alternate;s!==null&&(i.alternate=null,wE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&cs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,In=!1;function Ui(i,s,l){for(l=l.child;l!==null;)TE(i,s,l),l=l.sibling}function TE(i,s,l){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(ve,l)}catch{}switch(l.tag){case 26:Ct||$r(l,s),Ui(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ct||$r(l,s);var c=yt,p=In;Is(l.type)&&(yt=l.stateNode,In=!1),Ui(i,s,l),Zu(l.stateNode),yt=c,In=p;break;case 5:Ct||$r(l,s);case 6:if(c=yt,p=In,yt=null,Ui(i,s,l),yt=c,In=p,yt!==null)if(In)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(l.stateNode)}catch(g){ut(l,s,g)}else try{yt.removeChild(l.stateNode)}catch(g){ut(l,s,g)}break;case 18:yt!==null&&(In?(i=yt,hw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ac(i)):hw(yt,l.stateNode));break;case 4:c=yt,p=In,yt=l.stateNode.containerInfo,In=!0,Ui(i,s,l),yt=c,In=p;break;case 0:case 11:case 14:case 15:Ct||Es(2,l,s),Ct||Es(4,l,s),Ui(i,s,l);break;case 1:Ct||($r(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&gE(l,s,c)),Ui(i,s,l);break;case 21:Ui(i,s,l);break;case 22:Ct=(c=Ct)||l.memoizedState!==null,Ui(i,s,l),Ct=c;break;default:Ui(i,s,l)}}function xE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ac(i)}catch(l){ut(s,s.return,l)}}function CI(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new bE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new bE),s;default:throw Error(r(435,i.tag))}}function ug(i,s){var l=CI(i);s.forEach(function(c){var p=LI.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function Un(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=i,T=s,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Is(S.type)){yt=S.stateNode,In=!1;break e}break;case 5:yt=S.stateNode,In=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(yt===null)throw Error(r(160));TE(g,T,p),yt=null,In=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)SE(s,i),s=s.sibling}var br=null;function SE(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Un(s,i),Fn(i),c&4&&(Es(3,i,i.return),zu(3,i),Es(5,i,i.return));break;case 1:Un(s,i),Fn(i),c&512&&(Ct||l===null||$r(l,l.return)),c&64&&Vi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=br;if(Un(s,i),Fn(i),c&512&&(Ct||l===null||$r(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ga]||g[Ft]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),sn(g,c,l),g[Ft]=i,At(g),c=g;break e;case"link":var T=_w("link","href",p).get(c+(l.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(S,1);break t}}g=p.createElement(c),sn(g,c,l),p.head.appendChild(g);break;case"meta":if(T=_w("meta","content",p).get(c+(l.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(S,1);break t}}g=p.createElement(c),sn(g,c,l),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Ft]=i,At(g),c=g}i.stateNode=c}else bw(p,i.type,i.stateNode);else i.stateNode=vw(p,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?bw(p,i.type,i.stateNode):vw(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&sg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Un(s,i),Fn(i),c&512&&(Ct||l===null||$r(l,l.return)),l!==null&&c&4&&sg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Un(s,i),Fn(i),c&512&&(Ct||l===null||$r(l,l.return)),i.flags&32){p=i.stateNode;try{Xn(p,"")}catch(Z){ut(i,i.return,Z)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,sg(i,p,l!==null?l.memoizedProps:p)),c&1024&&(lg=!0);break;case 6:if(Un(s,i),Fn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(Z){ut(i,i.return,Z)}}break;case 3:if(Of=null,p=br,br=If(s.containerInfo),Un(s,i),br=p,Fn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ac(s.containerInfo)}catch(Z){ut(i,i.return,Z)}lg&&(lg=!1,AE(i));break;case 4:c=br,br=If(i.stateNode.containerInfo),Un(s,i),Fn(i),br=c;break;case 12:Un(s,i),Fn(i);break;case 13:Un(s,i),Fn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(mg=Rn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ug(i,c)));break;case 22:p=i.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,X=Vi,re=Ct;if(Vi=X||p,Ct=re||k,Un(s,i),Ct=re,Vi=X,Fn(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||k||Vi||Ct||za(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){k=l=s;try{if(g=k.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=k.stateNode;var ae=k.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Z){ut(k,k.return,Z)}}}else if(s.tag===6){if(l===null){k=s;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(Z){ut(k,k.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ug(i,l))));break;case 19:Un(s,i),Fn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ug(i,c)));break;case 30:break;case 21:break;default:Un(s,i),Fn(i)}}function Fn(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(vE(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=ag(i);gf(i,g,p);break;case 5:var T=l.stateNode;l.flags&32&&(Xn(T,""),l.flags&=-33);var S=ag(i);gf(i,S,T);break;case 3:case 4:var k=l.stateNode.containerInfo,X=ag(i);og(i,X,k);break;default:throw Error(r(161))}}catch(re){ut(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function AE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;AE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ws(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)EE(i,s.alternate,s),s=s.sibling}function za(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Es(4,s,s.return),za(s);break;case 1:$r(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&gE(s,s.return,l),za(s);break;case 27:Zu(s.stateNode);case 26:case 5:$r(s,s.return),za(s);break;case 22:s.memoizedState===null&&za(s);break;case 30:za(s);break;default:za(s)}i=i.sibling}}function Ts(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ts(p,g,l),zu(4,g);break;case 1:if(Ts(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){ut(c,c.return,X)}if(c=g,p=c.updateQueue,p!==null){var S=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)tb(k[p],S)}catch(X){ut(c,c.return,X)}}l&&T&64&&mE(g),qu(g,g.return);break;case 27:_E(g);case 26:case 5:Ts(p,g,l),l&&c===null&&T&4&&yE(g),qu(g,g.return);break;case 12:Ts(p,g,l);break;case 13:Ts(p,g,l),l&&T&4&&xE(p,g);break;case 22:g.memoizedState===null&&Ts(p,g,l),qu(g,g.return);break;case 30:break;default:Ts(p,g,l)}s=s.sibling}}function cg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Cu(l))}function hg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cu(i))}function Hr(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)RE(i,s,l,c),s=s.sibling}function RE(i,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Hr(i,s,l,c),p&2048&&zu(9,s);break;case 1:Hr(i,s,l,c);break;case 3:Hr(i,s,l,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cu(i)));break;case 12:if(p&2048){Hr(i,s,l,c),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){ut(s,s.return,k)}}else Hr(i,s,l,c);break;case 13:Hr(i,s,l,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Hr(i,s,l,c):$u(i,s):g._visibility&2?Hr(i,s,l,c):(g._visibility|=2,Jo(i,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&cg(T,s);break;case 24:Hr(i,s,l,c),p&2048&&hg(s.alternate,s);break;default:Hr(i,s,l,c)}}function Jo(i,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,T=s,S=l,k=c,X=T.flags;switch(T.tag){case 0:case 11:case 15:Jo(g,T,S,k,p),zu(8,T);break;case 23:break;case 22:var re=T.stateNode;T.memoizedState!==null?re._visibility&2?Jo(g,T,S,k,p):$u(g,T):(re._visibility|=2,Jo(g,T,S,k,p)),p&&X&2048&&cg(T.alternate,T);break;case 24:Jo(g,T,S,k,p),p&&X&2048&&hg(T.alternate,T);break;default:Jo(g,T,S,k,p)}s=s.sibling}}function $u(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,p=c.flags;switch(c.tag){case 22:$u(l,c),p&2048&&cg(c.alternate,c);break;case 24:$u(l,c),p&2048&&hg(c.alternate,c);break;default:$u(l,c)}s=s.sibling}}var Hu=8192;function el(i){if(i.subtreeFlags&Hu)for(i=i.child;i!==null;)CE(i),i=i.sibling}function CE(i){switch(i.tag){case 26:el(i),i.flags&Hu&&i.memoizedState!==null&&dN(br,i.memoizedState,i.memoizedProps);break;case 5:el(i);break;case 3:case 4:var s=br;br=If(i.stateNode.containerInfo),el(i),br=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Hu,Hu=16777216,el(i),Hu=s):el(i));break;default:el(i)}}function IE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Gu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Xt=c,OE(c,i)}IE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)NE(i),i=i.sibling}function NE(i){switch(i.tag){case 0:case 11:case 15:Gu(i),i.flags&2048&&Es(9,i,i.return);break;case 3:Gu(i);break;case 12:Gu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,yf(i)):Gu(i);break;default:Gu(i)}}function yf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Xt=c,OE(c,i)}IE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Es(8,s,s.return),yf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,yf(s));break;default:yf(s)}i=i.sibling}}function OE(i,s){for(;Xt!==null;){var l=Xt;switch(l.tag){case 0:case 11:case 15:Es(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Xt=c;else e:for(l=i;Xt!==null;){c=Xt;var p=c.sibling,g=c.return;if(wE(c),c===l){Xt=null;break e}if(p!==null){p.return=g,Xt=p;break e}Xt=g}}}var II={getCacheForType:function(i){var s=hn(qt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},NI=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Ue=null,Ge=0,rt=0,Bn=null,xs=!1,tl=!1,fg=!1,Fi=0,xt=0,Ss=0,qa=0,dg=0,sr=0,nl=0,Ku=null,Nn=null,pg=!1,mg=0,vf=1/0,_f=null,As=null,rn=0,Rs=null,rl=null,il=0,gg=0,yg=null,DE=null,Qu=0,vg=null;function zn(){if((nt&2)!==0&&Ge!==0)return Ge&-Ge;if(te.T!==null){var i=Ho;return i!==0?i:Sg()}return ls()}function PE(){sr===0&&(sr=(Ge&536870912)===0||Ye?ru():536870912);var i=ir.current;return i!==null&&(i.flags|=32),sr}function qn(i,s,l){(i===ht&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(sl(i,0),Cs(i,Ge,sr,!1)),vi(i,l),((nt&2)===0||i!==ht)&&(i===ht&&((nt&2)===0&&(qa|=l),xt===4&&Cs(i,Ge,sr,!1)),Gr(i))}function ME(i,s,l){if((nt&6)!==0)throw Error(r(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||ma(i,s),p=c?PI(i,s):Eg(i,s,!0),g=c;do{if(p===0){tl&&!c&&Cs(i,s,0,!1);break}else{if(l=i.current.alternate,g&&!OI(l)){p=Eg(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var S=i;p=Ku;var k=S.current.memoizedState.isDehydrated;if(k&&(sl(S,T).flags|=256),T=Eg(S,T,!1),T!==2){if(fg&&!k){S.errorRecoveryDisabledLanes|=g,qa|=g,p=4;break e}g=Nn,Nn=p,g!==null&&(Nn===null?Nn=g:Nn.push.apply(Nn,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){sl(i,0),Cs(i,s,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Cs(c,s,sr,!xs);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=mg+300-Rn(),10<p)){if(Cs(c,s,sr,!xs),wo(c,0,!0)!==0)break e;c.timeoutHandle=uw(jE.bind(null,c,l,Nn,_f,pg,s,sr,qa,nl,xs,g,2,-0,0),p);break e}jE(c,l,Nn,_f,pg,s,sr,qa,nl,xs,g,0,-0,0)}}break}while(!0);Gr(i)}function jE(i,s,l,c,p,g,T,S,k,X,re,ae,W,Z){if(i.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(tc={stylesheets:null,count:0,unsuspend:fN},CE(s),ae=pN(),ae!==null)){i.cancelPendingCommit=ae(zE.bind(null,i,s,g,l,c,p,T,S,k,re,1,W,Z)),Cs(i,g,T,!X);return}zE(i,s,g,l,c,p,T,S,k)}function OI(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!Ln(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cs(i,s,l,c){s&=~dg,s&=~qa,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var g=31-ct(p),T=1<<g;c[g]=-1,p&=~T}l!==0&&Or(i,l,s)}function bf(){return(nt&6)===0?(Yu(0),!1):!0}function _g(){if(Ue!==null){if(rt===0)var i=Ue.return;else i=Ue,Di=La=null,km(i),Wo=null,Uu=0,i=Ue;for(;i!==null;)pE(i.alternate,i),i=i.return;Ue=null}}function sl(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,YI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),_g(),ht=i,Ue=l=Ii(i.current,null),Ge=s,rt=0,Bn=null,xs=!1,tl=ma(i,s),fg=!1,nl=sr=dg=qa=Ss=xt=0,Nn=Ku=null,pg=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-ct(c),g=1<<p;s|=i[p],c&=~g}return Fi=s,Bh(),l}function kE(i,s){ke=null,te.H=of,s===Nu||s===Xh?(s=J_(),rt=3):s===X_?(s=J_(),rt=4):rt=s===eE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,Ue===null&&(xt=1,ff(i,er(s,i.current)))}function LE(){var i=te.H;return te.H=of,i===null?of:i}function VE(){var i=te.A;return te.A=II,i}function bg(){xt=4,xs||(Ge&4194048)!==Ge&&ir.current!==null||(tl=!0),(Ss&134217727)===0&&(qa&134217727)===0||ht===null||Cs(ht,Ge,sr,!1)}function Eg(i,s,l){var c=nt;nt|=2;var p=LE(),g=VE();(ht!==i||Ge!==s)&&(_f=null,sl(i,s)),s=!1;var T=xt;e:do try{if(rt!==0&&Ue!==null){var S=Ue,k=Bn;switch(rt){case 8:_g(),T=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(s=!0);var X=rt;if(rt=0,Bn=null,al(i,S,k,X),l&&tl){T=0;break e}break;default:X=rt,rt=0,Bn=null,al(i,S,k,X)}}DI(),T=xt;break}catch(re){kE(i,re)}while(!0);return s&&i.shellSuspendCounter++,Di=La=null,nt=c,te.H=p,te.A=g,Ue===null&&(ht=null,Ge=0,Bh()),T}function DI(){for(;Ue!==null;)UE(Ue)}function PI(i,s){var l=nt;nt|=2;var c=LE(),p=VE();ht!==i||Ge!==s?(_f=null,vf=Rn()+500,sl(i,s)):tl=ma(i,s);e:do try{if(rt!==0&&Ue!==null){s=Ue;var g=Bn;t:switch(rt){case 1:rt=0,Bn=null,al(i,s,g,1);break;case 2:case 9:if(W_(g)){rt=0,Bn=null,FE(s);break}s=function(){rt!==2&&rt!==9||ht!==i||(rt=7),Gr(i)},g.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:W_(g)?(rt=0,Bn=null,FE(s)):(rt=0,Bn=null,al(i,s,g,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var S=Ue;if(!T||Ew(T)){rt=0,Bn=null;var k=S.sibling;if(k!==null)Ue=k;else{var X=S.return;X!==null?(Ue=X,Ef(X)):Ue=null}break t}}rt=0,Bn=null,al(i,s,g,5);break;case 6:rt=0,Bn=null,al(i,s,g,6);break;case 8:_g(),xt=6;break e;default:throw Error(r(462))}}MI();break}catch(re){kE(i,re)}while(!0);return Di=La=null,te.H=c,te.A=p,nt=l,Ue!==null?0:(ht=null,Ge=0,Bh(),xt)}function MI(){for(;Ue!==null&&!da();)UE(Ue)}function UE(i){var s=fE(i.alternate,i,Fi);i.memoizedProps=i.pendingProps,s===null?Ef(i):Ue=s}function FE(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=aE(l,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=aE(l,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:km(s);default:pE(l,s),s=Ue=B_(s,Fi),s=fE(l,s,Fi)}i.memoizedProps=i.pendingProps,s===null?Ef(i):Ue=s}function al(i,s,l,c){Di=La=null,km(s),Wo=null,Uu=0;var p=s.return;try{if(TI(i,p,s,l,Ge)){xt=1,ff(i,er(l,i.current)),Ue=null;return}}catch(g){if(p!==null)throw Ue=p,g;xt=1,ff(i,er(l,i.current)),Ue=null;return}s.flags&32768?(Ye||c===1?i=!0:tl||(Ge&536870912)!==0?i=!1:(xs=i=!0,(c===2||c===9||c===3||c===6)&&(c=ir.current,c!==null&&c.tag===13&&(c.flags|=16384))),BE(s,i)):Ef(s)}function Ef(i){var s=i;do{if((s.flags&32768)!==0){BE(s,xs);return}i=s.return;var l=SI(s.alternate,s,Fi);if(l!==null){Ue=l;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=i}while(s!==null);xt===0&&(xt=5)}function BE(i,s){do{var l=AI(i.alternate,i);if(l!==null){l.flags&=32767,Ue=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=l}while(i!==null);xt=6,Ue=null}function zE(i,s,l,c,p,g,T,S,k){i.cancelPendingCommit=null;do wf();while(rn!==0);if((nt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=hm,su(i,l,g,T,S,k),i===ht&&(Ue=ht=null,Ge=0),rl=s,Rs=i,il=l,gg=g,yg=p,DE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VI(pi,function(){return KE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=te.T,te.T=null,p=ce.p,ce.p=2,T=nt,nt|=4;try{RI(i,s,l)}finally{nt=T,ce.p=p,te.T=c}}rn=1,qE(),$E(),HE()}}function qE(){if(rn===1){rn=0;var i=Rs,s=rl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=te.T,te.T=null;var c=ce.p;ce.p=2;var p=nt;nt|=4;try{SE(s,i);var g=Pg,T=O_(i.containerInfo),S=g.focusedElem,k=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&N_(S.ownerDocument.documentElement,S)){if(k!==null&&am(S)){var X=k.start,re=k.end;if(re===void 0&&(re=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(re,S.value.length);else{var ae=S.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var Z=W.getSelection(),Ie=S.textContent.length,xe=Math.min(k.start,Ie),lt=k.end===void 0?xe:Math.min(k.end,Ie);!Z.extend&&xe>lt&&(T=lt,lt=xe,xe=T);var G=I_(S,xe),z=I_(S,lt);if(G&&z&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var Q=ae.createRange();Q.setStart(G.node,G.offset),Z.removeAllRanges(),xe>lt?(Z.addRange(Q),Z.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),Z.addRange(Q))}}}}for(ae=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var ie=ae[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Mf=!!Dg,Pg=Dg=null}finally{nt=p,ce.p=c,te.T=l}}i.current=s,rn=2}}function $E(){if(rn===2){rn=0;var i=Rs,s=rl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=te.T,te.T=null;var c=ce.p;ce.p=2;var p=nt;nt|=4;try{EE(i,s.alternate,s)}finally{nt=p,ce.p=c,te.T=l}}rn=3}}function HE(){if(rn===4||rn===3){rn=0,Eo();var i=Rs,s=rl,l=il,c=DE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rn=5:(rn=0,rl=Rs=null,GE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(As=null),To(l),s=s.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(ve,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=te.T,p=ce.p,ce.p=2,te.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{te.T=s,ce.p=p}}(il&3)!==0&&wf(),Gr(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===vg?Qu++:(Qu=0,vg=i):Qu=0,Yu(0)}}function GE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Cu(s)))}function wf(i){return qE(),$E(),HE(),KE()}function KE(){if(rn!==5)return!1;var i=Rs,s=gg;gg=0;var l=To(il),c=te.T,p=ce.p;try{ce.p=32>l?32:l,te.T=null,l=yg,yg=null;var g=Rs,T=il;if(rn=0,rl=Rs=null,il=0,(nt&6)!==0)throw Error(r(331));var S=nt;if(nt|=4,NE(g.current),RE(g,g.current,T,l),nt=S,Yu(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(ve,g)}catch{}return!0}finally{ce.p=p,te.T=c,GE(i,s)}}function QE(i,s,l){s=er(l,s),s=Xm(i.stateNode,s,2),i=ys(i,s,2),i!==null&&(vi(i,2),Gr(i))}function ut(i,s,l){if(i.tag===3)QE(i,i,l);else for(;s!==null;){if(s.tag===3){QE(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(As===null||!As.has(c))){i=er(l,i),l=Zb(2),c=ys(s,l,2),c!==null&&(Jb(l,c,s,i),vi(c,2),Gr(c));break}}s=s.return}}function wg(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new NI;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(fg=!0,p.add(l),i=jI.bind(null,i,s,l),s.then(i,i))}function jI(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ht===i&&(Ge&l)===l&&(xt===4||xt===3&&(Ge&62914560)===Ge&&300>Rn()-mg?(nt&2)===0&&sl(i,0):dg|=l,nl===Ge&&(nl=0)),Gr(i)}function YE(i,s){s===0&&(s=iu()),i=Bo(i,s),i!==null&&(vi(i,s),Gr(i))}function kI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),YE(i,l)}function LI(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),YE(i,l)}function VI(i,s){return Ir(i,s)}var Tf=null,ol=null,Tg=!1,xf=!1,xg=!1,$a=0;function Gr(i){i!==ol&&i.next===null&&(ol===null?Tf=ol=i:ol=ol.next=i),xf=!0,Tg||(Tg=!0,FI())}function Yu(i,s){if(!xg&&xf){xg=!0;do for(var l=!1,c=Tf;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-ct(42|i)+1)-1,g&=p&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,JE(c,g))}else g=Ge,g=wo(c,c===ht?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ma(c,g)||(l=!0,JE(c,g));c=c.next}while(l);xg=!1}}function UI(){XE()}function XE(){xf=Tg=!1;var i=0;$a!==0&&(QI()&&(i=$a),$a=0);for(var s=Rn(),l=null,c=Tf;c!==null;){var p=c.next,g=WE(c,s);g===0?(c.next=null,l===null?Tf=p:l.next=p,p===null&&(ol=l)):(l=c,(i!==0||(g&3)!==0)&&(xf=!0)),c=p}Yu(i)}function WE(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-ct(g),S=1<<T,k=p[T];k===-1?((S&l)===0||(S&c)!==0)&&(p[T]=nu(S,s)):k<=s&&(i.expiredLanes|=S),g&=~S}if(s=ht,l=Ge,l=wo(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&fi(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ma(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&fi(c),To(l)){case 2:case 8:l=ss;break;case 32:l=pi;break;case 268435456:l=fe;break;default:l=pi}return c=ZE.bind(null,i),l=Ir(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&fi(c),i.callbackPriority=2,i.callbackNode=null,2}function ZE(i,s){if(rn!==0&&rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(wf()&&i.callbackNode!==l)return null;var c=Ge;return c=wo(i,i===ht?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(ME(i,c,s),WE(i,Rn()),i.callbackNode!=null&&i.callbackNode===l?ZE.bind(null,i):null)}function JE(i,s){if(wf())return null;ME(i,s,!0)}function FI(){XI(function(){(nt&6)!==0?Ir(di,UI):XE()})}function Sg(){return $a===0&&($a=ru()),$a}function ew(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Io(""+i)}function tw(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function BI(i,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var g=ew((p[Ot]||null).action),T=c.submitter;T&&(s=(s=T[Ot]||null)?ew(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var S=new No("action","action",null,c,p);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if($a!==0){var k=T?tw(p,T):new FormData(p);Hm(l,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(S.preventDefault(),k=T?tw(p,T):new FormData(p),Hm(l,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var Ag=0;Ag<cm.length;Ag++){var Rg=cm[Ag],zI=Rg.toLowerCase(),qI=Rg[0].toUpperCase()+Rg.slice(1);_r(zI,"on"+qI)}_r(M_,"onAnimationEnd"),_r(j_,"onAnimationIteration"),_r(k_,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(aI,"onTransitionRun"),_r(oI,"onTransitionStart"),_r(lI,"onTransitionCancel"),_r(L_,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$I=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function nw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var S=c[T],k=S.instance,X=S.currentTarget;if(S=S.listener,k!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=X;try{g(p)}catch(re){hf(re)}p.currentTarget=null,g=k}else for(T=0;T<c.length;T++){if(S=c[T],k=S.instance,X=S.currentTarget,S=S.listener,k!==g&&p.isPropagationStopped())break e;g=S,p.currentTarget=X;try{g(p)}catch(re){hf(re)}p.currentTarget=null,g=k}}}}function Fe(i,s){var l=s[ou];l===void 0&&(l=s[ou]=new Set);var c=i+"__bubble";l.has(c)||(rw(s,i,2,!1),l.add(c))}function Cg(i,s,l){var c=0;s&&(c|=4),rw(l,i,c,s)}var Sf="_reactListening"+Math.random().toString(36).slice(2);function Ig(i){if(!i[Sf]){i[Sf]=!0,lu.forEach(function(l){l!=="selectionchange"&&($I.has(l)||Cg(l,!1,i),Cg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Sf]||(s[Sf]=!0,Cg("selectionchange",!1,s))}}function rw(i,s,l,c){switch(Rw(s)){case 2:var p=yN;break;case 8:p=vN;break;default:p=qg}l=p.bind(null,s,l,i),p=void 0,!Zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function Ng(i,s,l,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===p)break;if(T===4)for(T=c.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;S!==null;){if(T=_i(S),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){c=g=T;continue e}S=S.parentNode}}c=c.return}Ah(function(){var X=g,re=Wn(l),ae=[];e:{var W=V_.get(i);if(W!==void 0){var Z=No,Ie=i;switch(i){case"keypress":if(Lr(l)===0)break e;case"keydown":case"keyup":Z=ko;break;case"focusin":Ie="focus",Z=Po;break;case"focusout":Ie="blur",Z=Po;break;case"beforeblur":case"afterblur":Z=Po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Mh;break;case M_:case j_:case k_:Z=Mo;break;case L_:Z=kh;break;case"scroll":case"scrollend":Z=Rh;break;case"wheel":Z=Lo;break;case"copy":case"cut":case"paste":Z=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=bu;break;case"toggle":case"beforetoggle":Z=Vh}var xe=(s&4)!==0,lt=!xe&&(i==="scroll"||i==="scrollend"),G=xe?W!==null?W+"Capture":null:W;xe=[];for(var z=X,Q;z!==null;){var ie=z;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||G===null||(ie=Ta(z,G),ie!=null&&xe.push(Wu(z,ie,Q))),lt)break;z=z.return}0<xe.length&&(W=new Z(W,Ie,null,l,re),ae.push({event:W,listeners:xe}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",W&&l!==Ti&&(Ie=l.relatedTarget||l.fromElement)&&(_i(Ie)||Ie[Yn]))break e;if((Z||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(Ie=l.relatedTarget||l.toElement,Z=X,Ie=Ie?_i(Ie):null,Ie!==null&&(lt=o(Ie),xe=Ie.tag,Ie!==lt||xe!==5&&xe!==27&&xe!==6)&&(Ie=null)):(Z=null,Ie=X),Z!==Ie)){if(xe=Jn,ie="onMouseLeave",G="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(xe=bu,ie="onPointerLeave",G="onPointerEnter",z="pointer"),lt=Z==null?W:Pr(Z),Q=Ie==null?W:Pr(Ie),W=new xe(ie,z+"leave",Z,l,re),W.target=lt,W.relatedTarget=Q,ie=null,_i(re)===X&&(xe=new xe(G,z+"enter",Ie,l,re),xe.target=Q,xe.relatedTarget=lt,ie=xe),lt=ie,Z&&Ie)t:{for(xe=Z,G=Ie,z=0,Q=xe;Q;Q=ll(Q))z++;for(Q=0,ie=G;ie;ie=ll(ie))Q++;for(;0<z-Q;)xe=ll(xe),z--;for(;0<Q-z;)G=ll(G),Q--;for(;z--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=ll(xe),G=ll(G)}xe=null}else xe=null;Z!==null&&iw(ae,W,Z,xe,!1),Ie!==null&&lt!==null&&iw(ae,lt,Ie,xe,!0)}}e:{if(W=X?Pr(X):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var ge=T_;else if(zt(W))if(x_)ge=rI;else{ge=tI;var Le=eI}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&du(X.elementType)&&(ge=T_):ge=nI;if(ge&&(ge=ge(i,X))){Ci(ae,ge,l,re);break e}Le&&Le(i,W,X),i==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&fs(W,"number",W.value)}switch(Le=X?Pr(X):window,i){case"focusin":(zt(Le)||Le.contentEditable==="true")&&(Vo=Le,om=X,Tu=null);break;case"focusout":Tu=om=Vo=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,D_(ae,l,re);break;case"selectionchange":if(sI)break;case"keydown":case"keyup":D_(ae,l,re)}var Ee;if(Fr)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else $e?ee(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(w&&l.locale!=="ko"&&($e||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&$e&&(Ee=mu()):(kr=re,ds="value"in kr?kr.value:kr.textContent,$e=!0)),Le=Af(X,Se),0<Le.length&&(Se=new vu(Se,i,null,l,re),ae.push({event:Se,listeners:Le}),Ee?Se.data=Ee:(Ee=he(l),Ee!==null&&(Se.data=Ee)))),(Ee=v?Bt(i,l):He(i,l))&&(Se=Af(X,"onBeforeInput"),0<Se.length&&(Le=new vu("onBeforeInput","beforeinput",null,l,re),ae.push({event:Le,listeners:Se}),Le.data=Ee)),BI(ae,i,X,l,re)}nw(ae,s)})}function Wu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Af(i,s){for(var l=s+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Ta(i,l),p!=null&&c.unshift(Wu(i,p,g)),p=Ta(i,s),p!=null&&c.push(Wu(i,p,g))),i.tag===3)return c;i=i.return}return[]}function ll(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function iw(i,s,l,c,p){for(var g=s._reactName,T=[];l!==null&&l!==c;){var S=l,k=S.alternate,X=S.stateNode;if(S=S.tag,k!==null&&k===c)break;S!==5&&S!==26&&S!==27||X===null||(k=X,p?(X=Ta(l,g),X!=null&&T.unshift(Wu(l,X,k))):p||(X=Ta(l,g),X!=null&&T.push(Wu(l,X,k)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var HI=/\r\n?/g,GI=/\u0000|\uFFFD/g;function sw(i){return(typeof i=="string"?i:""+i).replace(HI,`
`).replace(GI,"")}function aw(i,s){return s=sw(s),sw(i)===s}function Rf(){}function ot(i,s,l,c,p,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Xn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Xn(i,""+c);break;case"className":Mr(i,"class",c);break;case"tabIndex":Mr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(i,l,c);break;case"style":fu(i,c,g);break;case"data":if(s!=="object"){Mr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Io(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&ot(i,s,"name",p.name,p,null),ot(i,s,"formEncType",p.formEncType,p,null),ot(i,s,"formMethod",p.formMethod,p,null),ot(i,s,"formTarget",p.formTarget,p,null)):(ot(i,s,"encType",p.encType,p,null),ot(i,s,"method",p.method,p,null),ot(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Io(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Rf);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Io(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),hs(i,"popover",c);break;case"xlinkActuate":en(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":hs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=em.get(l)||l,hs(i,l,c))}}function Og(i,s,l,c,p,g){switch(l){case"style":fu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Xn(i,c):(typeof c=="number"||typeof c=="bigint")&&Xn(i,""+c);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Rf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=i[Ot]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):hs(i,l,c)}}}function sn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(i,s,g,T,l,null)}}p&&ot(i,s,"srcSet",l.srcSet,l,null),c&&ot(i,s,"src",l.src,l,null);return;case"input":Fe("invalid",i);var S=g=T=p=null,k=null,X=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":p=re;break;case"type":T=re;break;case"checked":k=re;break;case"defaultChecked":X=re;break;case"value":g=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:ot(i,s,c,re,l,null)}}ba(i,g,S,k,X,T,p,!1),Co(i);return;case"select":Fe("invalid",i),c=T=g=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:ot(i,s,p,S,l,null)}s=g,l=T,i.multiple=!!c,s!=null?wi(i,!!c,s,!1):l!=null&&wi(i,!!c,l,!0);return;case"textarea":Fe("invalid",i),g=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(S=l[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":p=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ot(i,s,T,S,l,null)}Ea(i,c,p,g),Co(i);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ot(i,s,k,c,l,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(c=0;c<Xu.length;c++)Fe(Xu[c],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(c=l[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(i,s,X,c,l,null)}return;default:if(du(s)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&Og(i,s,re,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&ot(i,s,S,c,l,null))}function KI(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,S=null,k=null,X=null,re=null;for(Z in l){var ae=l[Z];if(l.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=ae;default:c.hasOwnProperty(Z)||ot(i,s,Z,null,c,ae)}}for(var W in c){var Z=c[W];if(ae=l[W],c.hasOwnProperty(W)&&(Z!=null||ae!=null))switch(W){case"type":g=Z;break;case"name":p=Z;break;case"checked":X=Z;break;case"defaultChecked":re=Z;break;case"value":T=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Z!==ae&&ot(i,s,W,Z,c,ae)}}kn(i,T,S,k,X,re,g,p);return;case"select":Z=T=S=W=null;for(g in l)if(k=l[g],l.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":Z=k;default:c.hasOwnProperty(g)||ot(i,s,g,null,c,k)}for(p in c)if(g=c[p],k=l[p],c.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":W=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==k&&ot(i,s,p,g,c,k)}s=S,l=T,c=Z,W!=null?wi(i,!!l,W,!1):!!c!=!!l&&(s!=null?wi(i,!!l,s,!0):wi(i,!!l,l?[]:"",!1));return;case"textarea":Z=W=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ot(i,s,S,null,c,p)}for(T in c)if(p=c[T],g=l[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":W=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&ot(i,s,T,p,c,g)}st(i,W,Z);return;case"option":for(var Ie in l)if(W=l[Ie],l.hasOwnProperty(Ie)&&W!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:ot(i,s,Ie,null,c,W)}for(k in c)if(W=c[k],Z=l[k],c.hasOwnProperty(k)&&W!==Z&&(W!=null||Z!=null))switch(k){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ot(i,s,k,W,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in l)W=l[xe],l.hasOwnProperty(xe)&&W!=null&&!c.hasOwnProperty(xe)&&ot(i,s,xe,null,c,W);for(X in c)if(W=c[X],Z=l[X],c.hasOwnProperty(X)&&W!==Z&&(W!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:ot(i,s,X,W,c,Z)}return;default:if(du(s)){for(var lt in l)W=l[lt],l.hasOwnProperty(lt)&&W!==void 0&&!c.hasOwnProperty(lt)&&Og(i,s,lt,void 0,c,W);for(re in c)W=c[re],Z=l[re],!c.hasOwnProperty(re)||W===Z||W===void 0&&Z===void 0||Og(i,s,re,W,c,Z);return}}for(var G in l)W=l[G],l.hasOwnProperty(G)&&W!=null&&!c.hasOwnProperty(G)&&ot(i,s,G,null,c,W);for(ae in c)W=c[ae],Z=l[ae],!c.hasOwnProperty(ae)||W===Z||W==null&&Z==null||ot(i,s,ae,W,c,Z)}var Dg=null,Pg=null;function Cf(i){return i.nodeType===9?i:i.ownerDocument}function ow(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Mg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jg=null;function QI(){var i=window.event;return i&&i.type==="popstate"?i===jg?!1:(jg=i,!0):(jg=null,!1)}var uw=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,cw=typeof Promise=="function"?Promise:void 0,XI=typeof queueMicrotask=="function"?queueMicrotask:typeof cw<"u"?function(i){return cw.resolve(null).then(i).catch(WI)}:uw;function WI(i){setTimeout(function(){throw i})}function Is(i){return i==="head"}function hw(i,s){var l=s,c=0,p=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var T=i.ownerDocument;if(l&1&&Zu(T.documentElement),l&2&&Zu(T.body),l&4)for(l=T.head,Zu(l),T=l.firstChild;T;){var S=T.nextSibling,k=T.nodeName;T[ga]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=S}}if(p===0){i.removeChild(g),ac(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);ac(s)}function kg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kg(l),cs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function ZI(i,s,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ga])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Er(i.nextSibling),i===null)break}return null}function JI(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Er(i.nextSibling),i===null))return null;return i}function Lg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function eN(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Er(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Vg=null;function fw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function dw(i,s,l){switch(s=Cf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Zu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);cs(i)}var ar=new Map,pw=new Set;function If(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Bi=ce.d;ce.d={f:tN,r:nN,D:rN,C:iN,L:sN,m:aN,X:lN,S:oN,M:uN};function tN(){var i=Bi.f(),s=bf();return i||s}function nN(i){var s=Dr(i);s!==null&&s.tag===5&&s.type==="form"?Mb(s):Bi.r(i)}var ul=typeof document>"u"?null:document;function mw(i,s,l){var c=ul;if(c&&typeof s=="string"&&s){var p=Dt(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),pw.has(p)||(pw.add(p),i={rel:i,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),sn(s,"link",i),At(s),c.head.appendChild(s)))}}function rN(i){Bi.D(i),mw("dns-prefetch",i,null)}function iN(i,s){Bi.C(i,s),mw("preconnect",i,s)}function sN(i,s,l){Bi.L(i,s,l);var c=ul;if(c&&i&&s){var p='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Dt(l.imageSizes)+'"]')):p+='[href="'+Dt(i)+'"]';var g=p;switch(s){case"style":g=cl(i);break;case"script":g=hl(i)}ar.has(g)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),ar.set(g,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(Ju(g))||s==="script"&&c.querySelector(ec(g))||(s=c.createElement("link"),sn(s,"link",i),At(s),c.head.appendChild(s)))}}function aN(i,s){Bi.m(i,s);var l=ul;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Dt(c)+'"][href="'+Dt(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=hl(i)}if(!ar.has(g)&&(i=y({rel:"modulepreload",href:i},s),ar.set(g,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ec(g)))return}c=l.createElement("link"),sn(c,"link",i),At(c),l.head.appendChild(c)}}}function oN(i,s,l){Bi.S(i,s,l);var c=ul;if(c&&i){var p=vn(c).hoistableStyles,g=cl(i);s=s||"default";var T=p.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Ju(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=ar.get(g))&&Ug(i,l);var k=T=c.createElement("link");At(k),sn(k,"link",i),k._p=new Promise(function(X,re){k.onload=X,k.onerror=re}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Nf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:S},p.set(g,T)}}}function lN(i,s){Bi.X(i,s);var l=ul;if(l&&i){var c=vn(l).hoistableScripts,p=hl(i),g=c.get(p);g||(g=l.querySelector(ec(p)),g||(i=y({src:i,async:!0},s),(s=ar.get(p))&&Fg(i,s),g=l.createElement("script"),At(g),sn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function uN(i,s){Bi.M(i,s);var l=ul;if(l&&i){var c=vn(l).hoistableScripts,p=hl(i),g=c.get(p);g||(g=l.querySelector(ec(p)),g||(i=y({src:i,async:!0,type:"module"},s),(s=ar.get(p))&&Fg(i,s),g=l.createElement("script"),At(g),sn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function gw(i,s,l,c){var p=(p=Ae.current)?If(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=cl(l.href),l=vn(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=cl(l.href);var g=vn(p).hoistableStyles,T=g.get(i);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=p.querySelector(Ju(i)))&&!g._p&&(T.instance=g,T.state.loading=5),ar.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ar.set(i,l),g||cN(p,i,l,T.state))),s&&c===null)throw Error(r(528,""));return T}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hl(l),l=vn(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function cl(i){return'href="'+Dt(i)+'"'}function Ju(i){return'link[rel="stylesheet"]['+i+"]"}function yw(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function cN(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),sn(s,"link",l),At(s),i.head.appendChild(s))}function hl(i){return'[src="'+Dt(i)+'"]'}function ec(i){return"script[async]"+i}function vw(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Dt(l.href)+'"]');if(c)return s.instance=c,At(c),c;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),At(c),sn(c,"style",p),Nf(c,l.precedence,i),s.instance=c;case"stylesheet":p=cl(l.href);var g=i.querySelector(Ju(p));if(g)return s.state.loading|=4,s.instance=g,At(g),g;c=yw(l),(p=ar.get(p))&&Ug(c,p),g=(i.ownerDocument||i).createElement("link"),At(g);var T=g;return T._p=new Promise(function(S,k){T.onload=S,T.onerror=k}),sn(g,"link",c),s.state.loading|=4,Nf(g,l.precedence,i),s.instance=g;case"script":return g=hl(l.src),(p=i.querySelector(ec(g)))?(s.instance=p,At(p),p):(c=l,(p=ar.get(g))&&(c=y({},l),Fg(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),At(p),sn(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Nf(c,l.precedence,i));return s.instance}function Nf(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===s)g=S;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Ug(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Fg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Of=null;function _w(i,s,l){if(Of===null){var c=new Map,p=Of=new Map;p.set(l,c)}else p=Of,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[ga]||g[Ft]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function bw(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function hN(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ew(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var tc=null;function fN(){}function dN(i,s,l){if(tc===null)throw Error(r(475));var c=tc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=cl(l.href),g=i.querySelector(Ju(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Df.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,At(g);return}g=i.ownerDocument||i,l=yw(l),(p=ar.get(p))&&Ug(l,p),g=g.createElement("link"),At(g);var T=g;T._p=new Promise(function(S,k){T.onload=S,T.onerror=k}),sn(g,"link",l),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Df.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function pN(){if(tc===null)throw Error(r(475));var i=tc;return i.stylesheets&&i.count===0&&Bg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Bg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Df(){if(this.count--,this.count===0){if(this.stylesheets)Bg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Pf=null;function Bg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Pf=new Map,s.forEach(mN,i),Pf=null,Df.call(i))}function mN(i,s){if(!(s.state.loading&4)){var l=Pf.get(i);if(l)var c=l.get(null);else{l=new Map,Pf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=s.instance,T=p.getAttribute("data-precedence"),g=l.get(T)||c,g===c&&l.set(null,p),l.set(T,p),this.count++,c=Df.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var nc={$$typeof:q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function gN(i,s,l,c,p,g,T,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function ww(i,s,l,c,p,g,T,S,k,X,re,ae){return i=new gN(i,s,l,T,S,k,X,ae),s=1,g===!0&&(s|=24),g=Vn(3,null,null,s),i.current=g,g.stateNode=i,s=wm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},Am(g),i}function Tw(i){return i?(i=zo,i):zo}function xw(i,s,l,c,p,g){p=Tw(p),c.context===null?c.context=p:c.pendingContext=p,c=gs(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=ys(i,c,s),l!==null&&(qn(l,i,s),Du(l,i,s))}function Sw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function zg(i,s){Sw(i,s),(i=i.alternate)&&Sw(i,s)}function Aw(i){if(i.tag===13){var s=Bo(i,67108864);s!==null&&qn(s,i,67108864),zg(i,67108864)}}var Mf=!0;function yN(i,s,l,c){var p=te.T;te.T=null;var g=ce.p;try{ce.p=2,qg(i,s,l,c)}finally{ce.p=g,te.T=p}}function vN(i,s,l,c){var p=te.T;te.T=null;var g=ce.p;try{ce.p=8,qg(i,s,l,c)}finally{ce.p=g,te.T=p}}function qg(i,s,l,c){if(Mf){var p=$g(c);if(p===null)Ng(i,s,c,jf,l),Cw(i,c);else if(bN(p,i,s,l,c))c.stopPropagation();else if(Cw(i,c),s&4&&-1<_N.indexOf(i)){for(;p!==null;){var g=Dr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=gr(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var k=1<<31-ct(T);S.entanglements[1]|=k,T&=~k}Gr(g),(nt&6)===0&&(vf=Rn()+500,Yu(0))}}break;case 13:S=Bo(g,2),S!==null&&qn(S,g,2),bf(),zg(g,2)}if(g=$g(c),g===null&&Ng(i,s,c,jf,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else Ng(i,s,c,null,l)}}function $g(i){return i=Wn(i),Hg(i)}var jf=null;function Hg(i){if(jf=null,i=_i(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return jf=i,null}function Rw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tu()){case di:return 2;case ss:return 8;case pi:case J:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Gg=!1,Ns=null,Os=null,Ds=null,rc=new Map,ic=new Map,Ps=[],_N="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cw(i,s){switch(i){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":rc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(s.pointerId)}}function sc(i,s,l,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Dr(s),s!==null&&Aw(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function bN(i,s,l,c,p){switch(s){case"focusin":return Ns=sc(Ns,i,s,l,c,p),!0;case"dragenter":return Os=sc(Os,i,s,l,c,p),!0;case"mouseover":return Ds=sc(Ds,i,s,l,c,p),!0;case"pointerover":var g=p.pointerId;return rc.set(g,sc(rc.get(g)||null,i,s,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,ic.set(g,sc(ic.get(g)||null,i,s,l,c,p)),!0}return!1}function Iw(i){var s=_i(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,_h(i.priority,function(){if(l.tag===13){var c=zn();c=os(c);var p=Bo(l,c);p!==null&&qn(p,l,c),zg(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=$g(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Ti=c,l.target.dispatchEvent(c),Ti=null}else return s=Dr(l),s!==null&&Aw(s),i.blockedOn=l,!1;s.shift()}return!0}function Nw(i,s,l){kf(i)&&l.delete(s)}function EN(){Gg=!1,Ns!==null&&kf(Ns)&&(Ns=null),Os!==null&&kf(Os)&&(Os=null),Ds!==null&&kf(Ds)&&(Ds=null),rc.forEach(Nw),ic.forEach(Nw)}function Lf(i,s){i.blockedOn===s&&(i.blockedOn=null,Gg||(Gg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EN)))}var Vf=null;function Ow(i){Vf!==i&&(Vf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vf===i&&(Vf=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(Hg(c||l)===null)continue;break}var g=Dr(l);g!==null&&(i.splice(s,3),s-=3,Hm(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function ac(i){function s(k){return Lf(k,i)}Ns!==null&&Lf(Ns,i),Os!==null&&Lf(Os,i),Ds!==null&&Lf(Ds,i),rc.forEach(s),ic.forEach(s);for(var l=0;l<Ps.length;l++){var c=Ps[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ps.length&&(l=Ps[0],l.blockedOn===null);)Iw(l),l.blockedOn===null&&Ps.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],T=p[Ot]||null;if(typeof g=="function")T||Ow(l);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Ot]||null)S=T.formAction;else if(Hg(p)!==null)continue}else S=T.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),Ow(l)}}}function Kg(i){this._internalRoot=i}Uf.prototype.render=Kg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=zn();xw(l,c,i,s,null,null)},Uf.prototype.unmount=Kg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;xw(i.current,2,null,i,null,null),bf(),s[Yn]=null}};function Uf(i){this._internalRoot=i}Uf.prototype.unstable_scheduleHydration=function(i){if(i){var s=ls();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ps.length&&s!==0&&s<Ps[l].priority;l++);Ps.splice(l,0,i),l===0&&Iw(i)}};var Dw=e.version;if(Dw!=="19.1.1")throw Error(r(527,Dw,"19.1.1"));ce.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var wN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{ve=Ff.inject(wN),be=Ff}catch{}}return lc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",p=Qb,g=Yb,T=Xb,S=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=ww(i,1,!1,null,null,l,c,p,g,T,S,null),i[Yn]=s.current,Ig(i),new Kg(s)},lc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,p="",g=Qb,T=Yb,S=Xb,k=null,X=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(X=l.formState)),s=ww(i,1,!0,s,l??null,c,p,g,T,S,k,X),s.context=Tw(null),l=s.current,c=zn(),c=os(c),p=gs(c),p.callback=null,ys(l,p,c),l=c,s.current.lanes=l,vi(s,l),Gr(s),i[Yn]=s.current,Ig(i),new Uf(s)},lc.version="19.1.1",lc}var zw;function DN(){if(zw)return Xg.exports;zw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xg.exports=ON(),Xg.exports}var PN=DN();const MN=Yc(PN);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qw="popstate";function jN(t={}){function e(r,a){let{pathname:o,search:u,hash:h}=r.location;return jy("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Nc(a)}return LN(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kN(){return Math.random().toString(36).substring(2,10)}function $w(t,e){return{usr:t.state,key:t.key,idx:e}}function jy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vl(e):e,state:n,key:e&&e.key||r||kN()}}function Nc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function LN(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function b(){h="POP";let O=y(),P=O==null?null:O-m;m=O,d&&d({action:h,location:M.location,delta:P})}function E(O,P){h="PUSH";let V=jy(M.location,O,P);m=y()+1;let q=$w(V,m),ne=M.createHref(V);try{u.pushState(q,"",ne)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(ne)}o&&d&&d({action:h,location:M.location,delta:1})}function x(O,P){h="REPLACE";let V=jy(M.location,O,P);m=y();let q=$w(V,m),ne=M.createHref(V);u.replaceState(q,"",ne),o&&d&&d({action:h,location:M.location,delta:0})}function A(O){return VN(O)}let M={get action(){return h},get location(){return t(a,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(qw,b),d=O,()=>{a.removeEventListener(qw,b),d=null}},createHref(O){return e(a,O)},createURL:A,encodeLocation(O){let P=A(O);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:x,go(O){return u.go(O)}};return M}function VN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Nc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function d1(t,e,n="/"){return UN(t,e,n,!1)}function UN(t,e,n,r){let a=typeof e=="string"?Vl(e):e,o=Xi(a.pathname||"/",n);if(o==null)return null;let u=p1(t);FN(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=WN(o);h=YN(u[d],m,r)}return h}function p1(t,e=[],n=[],r="",a=!1){let o=(u,h,d=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;_t(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let b=Ki([r,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(_t(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),p1(u.children,e,E,b,d)),!(u.path==null&&!u.index)&&e.push({path:b,score:KN(b,u.index),routesMeta:E})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of m1(u.path))o(u,h,!0,d)}),e}function m1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=m1(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function FN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var BN=/^:[\w-]+$/,zN=3,qN=2,$N=1,HN=10,GN=-2,Hw=t=>t==="*";function KN(t,e){let n=t.split("/"),r=n.length;return n.some(Hw)&&(r+=GN),e&&(r+=qN),n.filter(a=>!Hw(a)).reduce((a,o)=>a+(BN.test(o)?zN:o===""?$N:HN),r)}function QN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function YN(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=bd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),E=d.route;if(!b&&m&&n&&!r[r.length-1].route.index&&(b=bd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Ki([o,b.pathname]),pathnameBase:tO(Ki([o,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(o=Ki([o,b.pathnameBase]))}return u}function bd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:b},E)=>{if(y==="*"){let A=h[E]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const x=h[E];return b&&!x?m[y]=void 0:m[y]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function XN(t,e=!1,n=!0){fr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function WN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZN(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Vl(t):t;return{pathname:n?n.startsWith("/")?n:JN(n,e):e,search:nO(r),hash:rO(a)}}function JN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ey(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function q0(t){let e=eO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $0(t,e,n,r=!1){let a;typeof t=="string"?a=Vl(t):(a={...t},_t(!a.pathname||!a.pathname.includes("?"),ey("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),ey("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),ey("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}h=b>=0?e[b]:"/"}let d=ZN(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var Ki=t=>t.join("/").replace(/\/\/+/g,"/"),tO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var g1=["POST","PUT","PATCH","DELETE"];new Set(g1);var sO=["GET",...g1];new Set(sO);var Ul=D.createContext(null);Ul.displayName="DataRouter";var op=D.createContext(null);op.displayName="DataRouterState";D.createContext(!1);var y1=D.createContext({isTransitioning:!1});y1.displayName="ViewTransition";var aO=D.createContext(new Map);aO.displayName="Fetchers";var oO=D.createContext(null);oO.displayName="Await";var Cr=D.createContext(null);Cr.displayName="Navigation";var Xc=D.createContext(null);Xc.displayName="Location";var pr=D.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var H0=D.createContext(null);H0.displayName="RouteError";function lO(t,{relative:e}={}){_t(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Cr),{hash:a,pathname:o,search:u}=Wc(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Ki([n,o])),r.createHref({pathname:h,search:u,hash:a})}function Fl(){return D.useContext(Xc)!=null}function li(){return _t(Fl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Xc).location}var v1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _1(t){D.useContext(Cr).static||D.useLayoutEffect(t)}function oa(){let{isDataRoute:t}=D.useContext(pr);return t?xO():uO()}function uO(){_t(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Ul),{basename:e,navigator:n}=D.useContext(Cr),{matches:r}=D.useContext(pr),{pathname:a}=li(),o=JSON.stringify(q0(r)),u=D.useRef(!1);return _1(()=>{u.current=!0}),D.useCallback((d,m={})=>{if(fr(u.current,v1),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=$0(d,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ki([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,o,a,t])}var cO=D.createContext(null);function hO(t){let e=D.useContext(pr).outlet;return e&&D.createElement(cO.Provider,{value:t},e)}function fO(){let{matches:t}=D.useContext(pr),e=t[t.length-1];return e?e.params:{}}function Wc(t,{relative:e}={}){let{matches:n}=D.useContext(pr),{pathname:r}=li(),a=JSON.stringify(q0(n));return D.useMemo(()=>$0(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function dO(t,e){return b1(t,e)}function b1(t,e,n,r,a){_t(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(Cr),{matches:u}=D.useContext(pr),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let V=b&&b.path||"";E1(m,!b||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let E=li(),x;if(e){let V=typeof e=="string"?Vl(e):e;_t(y==="/"||V.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${V.pathname}" was given in the \`location\` prop.`),x=V}else x=E;let A=x.pathname||"/",M=A;if(y!=="/"){let V=y.replace(/^\//,"").split("/");M="/"+A.replace(/^\//,"").split("/").slice(V.length).join("/")}let O=d1(t,{pathname:M});fr(b||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),fr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=vO(O&&O.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:Ki([y,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?y:Ki([y,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,n,r,a);return e&&P?D.createElement(Xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},P):P}function pO(){let t=TO(),e=iO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,u)}var mO=D.createElement(pO,null),gO=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(pr.Provider,{value:this.props.routeContext},D.createElement(H0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yO({routeContext:t,match:e,children:n}){let r=D.useContext(Ul);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(pr.Provider,{value:t},n)}function vO(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n?.errors;if(u!=null){let m=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);_t(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(n)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:b,errors:E}=n,x=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||x){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,y,b)=>{let E,x=!1,A=null,M=null;n&&(E=u&&y.route.id?u[y.route.id]:void 0,A=y.route.errorElement||mO,h&&(d<0&&b===0?(E1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):d===b&&(x=!0,M=y.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,b+1)),P=()=>{let V;return E?V=A:x?V=M:y.route.Component?V=D.createElement(y.route.Component,null):y.route.element?V=y.route.element:V=m,D.createElement(yO,{match:y,routeContext:{outlet:m,matches:O,isDataRoute:n!=null},children:V})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?D.createElement(gO,{location:n.location,revalidation:n.revalidation,component:A,error:E,children:P(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):P()},null)}function G0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _O(t){let e=D.useContext(Ul);return _t(e,G0(t)),e}function bO(t){let e=D.useContext(op);return _t(e,G0(t)),e}function EO(t){let e=D.useContext(pr);return _t(e,G0(t)),e}function K0(t){let e=EO(t),n=e.matches[e.matches.length-1];return _t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function wO(){return K0("useRouteId")}function TO(){let t=D.useContext(H0),e=bO("useRouteError"),n=K0("useRouteError");return t!==void 0?t:e.errors?.[n]}function xO(){let{router:t}=_O("useNavigate"),e=K0("useNavigate"),n=D.useRef(!1);return _1(()=>{n.current=!0}),D.useCallback(async(a,o={})=>{fr(n.current,v1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Gw={};function E1(t,e,n){!e&&!Gw[t]&&(Gw[t]=!0,fr(!1,n))}D.memo(SO);function SO({routes:t,future:e,state:n,unstable_onError:r}){return b1(t,void 0,n,r,e)}function Kw({to:t,replace:e,state:n,relative:r}){_t(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(Cr);fr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(pr),{pathname:u}=li(),h=oa(),d=$0(t,q0(o),u,r==="path"),m=JSON.stringify(d);return D.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function AO(t){return hO(t.context)}function wn(t){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){_t(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=Vl(n));let{pathname:d="/",search:m="",hash:y="",state:b=null,key:E="default"}=n,x=D.useMemo(()=>{let A=Xi(d,u);return A==null?null:{location:{pathname:A,search:m,hash:y,state:b,key:E},navigationType:r}},[u,d,m,y,b,E,r]);return fr(x!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:D.createElement(Cr.Provider,{value:h},D.createElement(Xc.Provider,{children:e,value:x}))}function CO({children:t,location:e}){return dO(ky(t),e)}function ky(t,e=[]){let n=[];return D.Children.forEach(t,(r,a)=>{if(!D.isValidElement(r))return;let o=[...e,a];if(r.type===D.Fragment){n.push.apply(n,ky(r.props.children,o));return}_t(r.type===wn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=ky(r.props.children,o)),n.push(u)}),n}var id="get",sd="application/x-www-form-urlencoded";function lp(t){return t!=null&&typeof t.tagName=="string"}function IO(t){return lp(t)&&t.tagName.toLowerCase()==="button"}function NO(t){return lp(t)&&t.tagName.toLowerCase()==="form"}function OO(t){return lp(t)&&t.tagName.toLowerCase()==="input"}function DO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PO(t,e){return t.button===0&&(!e||e==="_self")&&!DO(t)}function Ly(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function MO(t,e){let n=Ly(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(o=>{n.append(a,o)})}),n}var Bf=null;function jO(){if(Bf===null)try{new FormData(document.createElement("form"),0),Bf=!1}catch{Bf=!0}return Bf}var kO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ty(t){return t!=null&&!kO.has(t)?(fr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sd}"`),null):t}function LO(t,e){let n,r,a,o,u;if(NO(t)){let h=t.getAttribute("action");r=h?Xi(h,e):null,n=t.getAttribute("method")||id,a=ty(t.getAttribute("enctype"))||sd,o=new FormData(t)}else if(IO(t)||OO(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Xi(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||id,a=ty(t.getAttribute("formenctype"))||ty(h.getAttribute("enctype"))||sd,o=new FormData(h,t),!jO()){let{name:m,type:y,value:b}=t;if(y==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,b)}}else{if(lp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=id,r=null,a=sd,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Q0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VO(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function UO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function BO(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await UO(o,n);return u.links?u.links():[]}return[]}));return HO(r.flat(1).filter(FO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Qw(t,e,n,r,a,o){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function zO(t,e,{includeHydrateFallback:n}={}){return qO(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function qO(t){return[...new Set(t)]}function $O(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function HO(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify($O(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function w1(){let t=D.useContext(Ul);return Q0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function GO(){let t=D.useContext(op);return Q0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Y0=D.createContext(void 0);Y0.displayName="FrameworkContext";function T1(){let t=D.useContext(Y0);return Q0(t,"You must render this element inside a <HydratedRouter> element"),t}function KO(t,e){let n=D.useContext(Y0),[r,a]=D.useState(!1),[o,u]=D.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=e,E=D.useRef(null);D.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=P=>{P.forEach(V=>{u(V.isIntersecting)})},O=new IntersectionObserver(M,{threshold:.5});return E.current&&O.observe(E.current),()=>{O.disconnect()}}},[t]),D.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let x=()=>{a(!0)},A=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:uc(h,x),onBlur:uc(d,A),onMouseEnter:uc(m,x),onMouseLeave:uc(y,A),onTouchStart:uc(b,x)}]:[!1,E,{}]}function uc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QO({page:t,...e}){let{router:n}=w1(),r=D.useMemo(()=>d1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?D.createElement(XO,{page:t,matches:r,...e}):null}function YO(t){let{manifest:e,routeModules:n}=T1(),[r,a]=D.useState([]);return D.useEffect(()=>{let o=!1;return BO(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function XO({page:t,matches:e,...n}){let r=li(),{manifest:a,routeModules:o}=T1(),{basename:u}=w1(),{loaderData:h,matches:d}=GO(),m=D.useMemo(()=>Qw(t,e,d,a,r,"data"),[t,e,d,a,r]),y=D.useMemo(()=>Qw(t,e,d,a,r,"assets"),[t,e,d,a,r]),b=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,M=!1;if(e.forEach(P=>{let V=a.routes[P.route.id];!V||!V.hasLoader||(!m.some(q=>q.route.id===P.route.id)&&P.route.id in h&&o[P.route.id]?.shouldRevalidate||V.hasClientLoader?M=!0:A.add(P.route.id))}),A.size===0)return[];let O=VO(t,u,"data");return M&&A.size>0&&O.searchParams.set("_routes",e.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[O.pathname+O.search]},[u,h,r,a,m,e,t,o]),E=D.useMemo(()=>zO(y,a),[y,a]),x=YO(y);return D.createElement(D.Fragment,null,b.map(A=>D.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>D.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),x.map(({key:A,link:M})=>D.createElement("link",{key:A,nonce:n.nonce,...M})))}function WO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var x1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x1&&(window.__reactRouterVersion="7.8.2")}catch{}function ZO({basename:t,children:e,window:n}){let r=D.useRef();r.current==null&&(r.current=jN({window:n,v5Compat:!0}));let a=r.current,[o,u]=D.useState({action:a.action,location:a.location}),h=D.useCallback(d=>{D.startTransition(()=>u(d))},[u]);return D.useLayoutEffect(()=>a.listen(h),[a,h]),D.createElement(RO,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var S1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Al=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:b,...E},x){let{basename:A}=D.useContext(Cr),M=typeof m=="string"&&S1.test(m),O,P=!1;if(typeof m=="string"&&M&&(O=m,x1))try{let I=new URL(window.location.href),L=m.startsWith("//")?new URL(I.protocol+m):new URL(m),U=Xi(L.pathname,A);L.origin===I.origin&&U!=null?m=U+L.search+L.hash:P=!0}catch{fr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=lO(m,{relative:a}),[q,ne,F]=KO(r,E),Y=tD(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:b});function N(I){e&&e(I),I.defaultPrevented||Y(I)}let C=D.createElement("a",{...E,...F,href:O||V,onClick:P||o?e:N,ref:WO(x,ne),target:d,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?D.createElement(D.Fragment,null,C,D.createElement(QO,{page:V})):C});Al.displayName="Link";var Jt=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...m},y){let b=Wc(u,{relative:m.relative}),E=li(),x=D.useContext(op),{navigator:A,basename:M}=D.useContext(Cr),O=x!=null&&aD(b)&&h===!0,P=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,V=E.pathname,q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(V=V.toLowerCase(),q=q?q.toLowerCase():null,P=P.toLowerCase()),q&&M&&(q=Xi(q,M)||q);const ne=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let F=V===P||!a&&V.startsWith(P)&&V.charAt(ne)==="/",Y=q!=null&&(q===P||!a&&q.startsWith(P)&&q.charAt(P.length)==="/"),N={isActive:F,isPending:Y,isTransitioning:O},C=F?e:void 0,I;typeof r=="function"?I=r(N):I=[r,F?"active":null,Y?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(N):o;return D.createElement(Al,{...m,"aria-current":C,className:I,ref:y,style:L,to:u,viewTransition:h},typeof d=="function"?d(N):d)});Jt.displayName="NavLink";var JO=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=id,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:b,...E},x)=>{let A=iD(),M=sD(h,{relative:m}),O=u.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&S1.test(h),V=q=>{if(d&&d(q),q.defaultPrevented)return;q.preventDefault();let ne=q.nativeEvent.submitter,F=ne?.getAttribute("formmethod")||u;A(ne||q.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:b})};return D.createElement("form",{ref:x,method:O,action:M,onSubmit:r?d:V,...E,"data-discover":!P&&t==="render"?"true":void 0})});JO.displayName="Form";function eD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A1(t){let e=D.useContext(Ul);return _t(e,eD(t)),e}function tD(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=oa(),d=li(),m=Wc(t,{relative:o});return D.useCallback(y=>{if(PO(y,e)){y.preventDefault();let b=n!==void 0?n:Nc(d)===Nc(m);h(t,{replace:b,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,m,n,r,e,t,a,o,u])}function R1(t){fr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(Ly(t)),n=D.useRef(!1),r=li(),a=D.useMemo(()=>MO(r.search,n.current?null:e.current),[r.search]),o=oa(),u=D.useCallback((h,d)=>{const m=Ly(typeof h=="function"?h(new URLSearchParams(a)):h);n.current=!0,o("?"+m,d)},[o,a]);return[a,u]}var nD=0,rD=()=>`__${String(++nD)}__`;function iD(){let{router:t}=A1("useSubmit"),{basename:e}=D.useContext(Cr),n=wO();return D.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:d,body:m}=LO(r,e);if(a.navigate===!1){let y=a.fetcherKey||rD();await t.fetch(y,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function sD(t,{relative:e}={}){let{basename:n}=D.useContext(Cr),r=D.useContext(pr);_t(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Wc(t||".",{relative:e})},u=li();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ki([n,o.pathname])),Nc(o)}function aD(t,{relative:e}={}){let n=D.useContext(y1);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=A1("useViewTransitionState"),a=Wc(t,{relative:e});if(!n.isTransitioning)return!1;let o=Xi(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Xi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bd(a.pathname,u)!=null||bd(a.pathname,o)!=null}var oD=f1();const lD=[{value:"15K+",label:"Students"},{value:"75%",label:"Total success"},{value:"35",label:"Main questions"},{value:"26",label:"Chief experts"},{value:"16",label:"Years of experience"}],uD=()=>_.jsxs("section",{className:"bg-white px-4 py-16 text-center md:px-8",children:[_.jsx("h2",{className:"mb-4 text-4xl font-extrabold text-gray-900 md:text-4xl",children:"Our Success"}),_.jsx("p",{className:"mx-auto mb-12 max-w-2xl text-sm text-gray-500 md:text-base",children:"Ornare id fames interdum porttitor nulla turpis etiam. Diam vitae sollicitudin at nec nam et pharetra gravida. Adipiscing a quis ultrices eu ornare tristique vel nisl orci."}),_.jsx("div",{className:"grid grid-cols-2 gap-y-10 sm:grid-cols-3 md:grid-cols-5",children:lD.map((t,e)=>_.jsxs("div",{children:[_.jsx("p",{className:"fontsStats",children:t.value}),_.jsx("p",{className:"mt-1 text-sm font-medium text-gray-700",children:t.label})]},e))}),_.jsxs("div",{className:"mt-16",children:[_.jsxs("h3",{className:"text-xl font-bold md:text-3xl",children:[_.jsx("span",{className:"text-gray-800",children:"All-In-One "}),_.jsx("span",{className:"text-cyan-600",children:"Cloud Software."})]}),_.jsx("p",{className:"mx-auto mt-2 max-w-xl text-sm text-gray-500 md:text-base",children:"TOTC is one powerful online software suite that combines all the tools needed to run a successful school or office."})]})]});function Yw({type:t}){return t==="join"?_.jsx("button",{className:"shadow-ml bg-text-amber-50 rounded-full bg-white/30 px-6 py-3 font-semibold text-[#ffffff] backdrop-blur-md transition hover:opacity-90",children:"Join for free"}):t==="video"?_.jsxs("div",{className:"flex items-center space-x-3 text-white",children:[_.jsx("div",{className:"text-md flex h-12 w-12 items-center justify-center rounded-full bg-white text-[#49BBBD] shadow-xl backdrop-blur-xl transition hover:opacity-90",children:_.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{d:"M6 4l10 6-10 6V4z"})})}),_.jsx("span",{className:"font-medium text-[#1E1E1E]",children:"Watch how it works"})]}):null}const cD={notification:{bgColor:"bg-white/65",iconBg:null},stat:{bgColor:"bg-white/65",iconBg:"#49BBBD",icon:""},congratulations:{bgColor:"bg-white/70",iconBg:"#F88C3D",icon:_.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M28.9294 4.28577H1.07227L15.0008 15.7586L29.0869 4.31791C29.0353 4.30284 28.9827 4.29211 28.9294 4.28577Z",fill:"white"}),_.jsx("path",{d:"M15.676 17.9743C15.2813 18.2975 14.7133 18.2975 14.3186 17.9743L0 6.17786V24.6428C0 25.2346 0.479694 25.7143 1.07145 25.7143H28.9285C29.5203 25.7143 30 25.2346 30 24.6428V6.33644L15.676 17.9743Z",fill:"white"})]})}};function ny({type:t="notification",image:e,icon:n,title:r,subtitle:a,buttonText:o,onClick:u,hasButton:h=!1,className:d="",bgColor:m,iconBg:y}){const b=cD[t]||{},E=m||b.bgColor,x=y||b.iconBg,A=n||b.icon;return _.jsxs("div",{className:`rounded-xl p-4 text-[#333] shadow-xl backdrop-blur-md ${E} ${d}`,children:[_.jsxs("div",{className:"flex items-center gap-3",children:[t==="notification"&&e&&_.jsx("img",{src:e,alt:"User",className:"h-11 w-11 rounded-full object-cover"}),t!=="notification"&&A&&_.jsx("div",{className:"text-md flex h-10 w-10 items-center justify-center rounded-md text-white",style:{backgroundColor:x},children:A}),_.jsxs("div",{children:[_.jsx("p",{className:"leading-none font-semibold",children:r}),a&&_.jsx("p",{className:"mt-1 text-xs leading-none text-gray-600",children:a})]})]}),h&&o&&_.jsx("button",{onClick:u,className:"mt-3 rounded-full bg-pink-500 px-4 py-1 text-xs text-white",children:o})]})}function hD(){return _.jsxs("section",{className:"relative overflow-hidden bg-[#49bbbd] pt-15 text-white",children:[_.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col-reverse items-center justify-between px-4 md:flex-row",children:[_.jsx("div",{className:"w-full text-center md:w-1/2 md:text-left",children:_.jsxs("div",{className:"mb-10 space-y-4",children:[_.jsxs("h1",{className:"text-4xl leading-tight font-extrabold sm:text-3xl md:text-4xl",children:[_.jsx("span",{className:"text-orange-400",children:"Studying"})," Online is now"," ",_.jsx("br",{}),"much easier"]}),_.jsxs("p",{className:"text-sm text-white/90 sm:text-base",children:["TOTC is an interesting platform that will teach"," ",_.jsx("br",{className:"hidden sm:inline"}),"you in a more interactive way"]}),_.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 pt-6 sm:flex-row sm:justify-start",children:[_.jsx(Yw,{type:"join"}),_.jsx(Yw,{type:"video"})]})]})}),_.jsxs("div",{className:"relative mb-10 w-full max-w-sm sm:max-w-md md:mb-0 md:w-1/2 md:max-w-md lg:max-w-lg",children:[_.jsx("div",{className:"rotate-[2deg]",children:_.jsx("img",{src:"/src/pages/images/2f32d3a9082c2e2832481561feec93a5e5c5e8d6.png",alt:"Student",className:"relative z-10 h-150 w-200"})}),_.jsx(ny,{type:"stat",title:"250k",subtitle:"Assisted Student",className:"absolute bottom-85 -left-25 z-20 hidden h-20 w-[245px] lg:block"}),_.jsx(ny,{type:"notification",image:"/src/pages/images/p1.jpg",title:"User Experience Class",subtitle:"Today at 12.00 PM",hasButton:!0,buttonText:"Join Now",className:"absolute bottom-25 left-0 z-20 hidden h-[123px] w-[220px] md:block"}),_.jsx(ny,{type:"congratulations",title:"Congratulations",subtitle:"Your admission completed",className:"absolute -right-10 bottom-75 z-20 hidden w-max sm:flex"})]})]}),_.jsx("svg",{className:"absolute bottom-0 left-0 w-full",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:_.jsx("path",{fill:"#ffffff",d:"M0,224 C180,320 480,280 720,250 C960,220 1260,220 1440,250 L1440,320 L0,320 Z"})})]})}const fD=({icon:t,title:e,description:n})=>_.jsxs("div",{className:"rounded-xl bg-white p-6 text-center shadow-md transition hover:shadow-lg",children:[_.jsx("div",{className:"-mt-16 mb-4 flex justify-center",children:_.jsx("div",{className:"h-[100px] w-[100px]",children:_.jsx("img",{src:t,alt:"icon",className:"h-full w-full object-contain"})})}),_.jsx("h3",{className:"mb-2 text-lg font-semibold text-indigo-950",children:e}),_.jsx("p",{className:"text-sm text-gray-500",children:n})]}),dD="data:image/svg+xml,%3csvg%20width='180'%20height='180'%20viewBox='0%200%20180%20180'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_10_959)'%3e%3ccircle%20cx='90'%20cy='80'%20r='50'%20fill='%235B72EE'/%3e%3c/g%3e%3cg%20clip-path='url(%23clip0_10_959)'%3e%3cpath%20d='M98.75%2080H82.25V85.75H98.75V80ZM106.398%2066.4336L97.9852%2057.6289C97.5984%2057.2246%2097.0742%2057%2096.5242%2057H96V68.5H107V67.952C107%2067.3859%20106.785%2066.8379%20106.398%2066.4336ZM93.25%2069.2188V57H76.0625C74.9195%2057%2074%2057.9613%2074%2059.1562V100.844C74%20102.039%2074.9195%20103%2076.0625%20103H104.938C106.08%20103%20107%20102.039%20107%20100.844V71.375H95.3125C94.1781%2071.375%2093.25%2070.4047%2093.25%2069.2188ZM79.5%2063.4688C79.5%2063.0716%2079.8077%2062.75%2080.1875%2062.75H87.0625C87.4423%2062.75%2087.75%2063.0716%2087.75%2063.4688V64.9062C87.75%2065.3034%2087.4423%2065.625%2087.0625%2065.625H80.1875C79.8077%2065.625%2079.5%2065.3034%2079.5%2064.9062V63.4688ZM79.5%2069.2188C79.5%2068.8216%2079.8077%2068.5%2080.1875%2068.5H87.0625C87.4423%2068.5%2087.75%2068.8216%2087.75%2069.2188V70.6562C87.75%2071.0534%2087.4423%2071.375%2087.0625%2071.375H80.1875C79.8077%2071.375%2079.5%2071.0534%2079.5%2070.6562V69.2188ZM101.5%2096.5312C101.5%2096.9284%20101.192%2097.25%20100.812%2097.25H93.9375C93.5577%2097.25%2093.25%2096.9284%2093.25%2096.5312V95.0938C93.25%2094.6966%2093.5577%2094.375%2093.9375%2094.375H100.812C101.192%2094.375%20101.5%2094.6966%20101.5%2095.0938V96.5312ZM101.5%2078.5625V87.1875C101.5%2087.9817%20100.885%2088.625%20100.125%2088.625H80.875C80.1153%2088.625%2079.5%2087.9817%2079.5%2087.1875V78.5625C79.5%2077.7683%2080.1153%2077.125%2080.875%2077.125H100.125C100.885%2077.125%20101.5%2077.7683%20101.5%2078.5625Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_10_959'%20x='0'%20y='0'%20width='180'%20height='180'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='10'/%3e%3cfeGaussianBlur%20stdDeviation='20'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.212%200%200%200%200%200.238778%200%200%200%200%200.533333%200%200%200%200.06%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_10_959'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_10_959'%20result='shape'/%3e%3c/filter%3e%3cclipPath%20id='clip0_10_959'%3e%3crect%20width='33'%20height='46'%20fill='white'%20transform='translate(74%2057)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",pD="/Riwaq/assets/icon-calendar-4h_gl8Hs.svg",mD="data:image/svg+xml,%3csvg%20width='180'%20height='180'%20viewBox='0%200%20180%20180'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_d_10_955)'%3e%3ccircle%20cx='90'%20cy='80'%20r='50'%20fill='%2329B9E7'/%3e%3c/g%3e%3cpath%20d='M71.25%2077.25C74.2836%2077.25%2076.75%2074.7836%2076.75%2071.75C76.75%2068.7164%2074.2836%2066.25%2071.25%2066.25C68.2164%2066.25%2065.75%2068.7164%2065.75%2071.75C65.75%2074.7836%2068.2164%2077.25%2071.25%2077.25ZM109.75%2077.25C112.784%2077.25%20115.25%2074.7836%20115.25%2071.75C115.25%2068.7164%20112.784%2066.25%20109.75%2066.25C106.716%2066.25%20104.25%2068.7164%20104.25%2071.75C104.25%2074.7836%20106.716%2077.25%20109.75%2077.25ZM112.5%2080H107C105.487%2080%20104.121%2080.6102%20103.124%2081.5984C106.587%2083.4977%20109.045%2086.9266%20109.578%2091H115.25C116.771%2091%20118%2089.7711%20118%2088.25V85.5C118%2082.4664%20115.534%2080%20112.5%2080ZM90.5%2080C95.8195%2080%20100.125%2075.6945%20100.125%2070.375C100.125%2065.0555%2095.8195%2060.75%2090.5%2060.75C85.1805%2060.75%2080.875%2065.0555%2080.875%2070.375C80.875%2075.6945%2085.1805%2080%2090.5%2080ZM97.1%2082.75H96.3867C94.5992%2083.6094%2092.6141%2084.125%2090.5%2084.125C88.3859%2084.125%2086.4094%2083.6094%2084.6133%2082.75H83.9C78.4344%2082.75%2074%2087.1844%2074%2092.65V95.125C74%2097.4023%2075.8477%2099.25%2078.125%2099.25H102.875C105.152%2099.25%20107%2097.4023%20107%2095.125V92.65C107%2087.1844%20102.566%2082.75%2097.1%2082.75ZM77.8758%2081.5984C76.8789%2080.6102%2075.5125%2080%2074%2080H68.5C65.4664%2080%2063%2082.4664%2063%2085.5V88.25C63%2089.7711%2064.2289%2091%2065.75%2091H71.4133C71.9547%2086.9266%2074.4125%2083.4977%2077.8758%2081.5984Z'%20fill='white'/%3e%3cdefs%3e%3cfilter%20id='filter0_d_10_955'%20x='0'%20y='0'%20width='180'%20height='180'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='10'/%3e%3cfeGaussianBlur%20stdDeviation='20'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.212%200%200%200%200%200.238778%200%200%200%200%200.533333%200%200%200%200.06%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_10_955'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_10_955'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",gD=[{icon:dD,title:"Online Billing, Invoicing, & Contracts",description:"Simple and secure control of your organizations financial and legal transactions. Send customized invoices and contracts"},{icon:pD,title:"Easy Scheduling & Attendance Tracking",description:"Schedule and reserve classrooms at one campus or multiple campuses. Keep detailed records of student attendance"},{icon:mD,title:"Customer Tracking",description:"Automate and track emails to individuals or groups. Skillines built-in system helps organize your organization"}],yD=()=>_.jsx("section",{className:"bg-gray-50 px-4 py-12 md:px-8",children:_.jsx("div",{className:"mx-auto grid max-w-7xl gap-8 md:grid-cols-3",children:gD.map((t,e)=>_.jsx(fD,{...t},e))})});function vD(){return _.jsxs("div",{className:"min-h-[calc(100svh-var(--nav-h))]",children:[_.jsx("section",{className:"mb-12",children:_.jsx(hD,{})}),_.jsx("section",{className:"mb-12",children:_.jsx(uD,{})}),_.jsx("section",{className:"mb-16",children:_.jsx(yD,{})})]})}var _D=function(e){return bD(e)&&!ED(e)};function bD(t){return!!t&&typeof t=="object"}function ED(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||xD(t)}var wD=typeof Symbol=="function"&&Symbol.for,TD=wD?Symbol.for("react.element"):60103;function xD(t){return t.$$typeof===TD}function SD(t){return Array.isArray(t)?[]:{}}function Ed(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Oc(SD(t),t,e):t}function AD(t,e,n){return t.concat(e).map(function(r){return Ed(r,n)})}function RD(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(a){r[a]=Ed(t[a],n)}),Object.keys(e).forEach(function(a){!n.isMergeableObject(e[a])||!t[a]?r[a]=Ed(e[a],n):r[a]=Oc(t[a],e[a],n)}),r}function Oc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||AD,n.isMergeableObject=n.isMergeableObject||_D;var r=Array.isArray(e),a=Array.isArray(t),o=r===a;return o?r?n.arrayMerge(t,e,n):RD(t,e,n):Ed(e,n)}Oc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,a){return Oc(r,a,n)},{})};var Vy=Oc,C1=typeof global=="object"&&global&&global.Object===Object&&global,CD=typeof self=="object"&&self&&self.Object===Object&&self,ui=C1||CD||Function("return this")(),Js=ui.Symbol,I1=Object.prototype,ID=I1.hasOwnProperty,ND=I1.toString,cc=Js?Js.toStringTag:void 0;function OD(t){var e=ID.call(t,cc),n=t[cc];try{t[cc]=void 0;var r=!0}catch{}var a=ND.call(t);return r&&(e?t[cc]=n:delete t[cc]),a}var DD=Object.prototype,PD=DD.toString;function MD(t){return PD.call(t)}var jD="[object Null]",kD="[object Undefined]",Xw=Js?Js.toStringTag:void 0;function mo(t){return t==null?t===void 0?kD:jD:Xw&&Xw in Object(t)?OD(t):MD(t)}function N1(t,e){return function(n){return t(e(n))}}var X0=N1(Object.getPrototypeOf,Object);function go(t){return t!=null&&typeof t=="object"}var LD="[object Object]",VD=Function.prototype,UD=Object.prototype,O1=VD.toString,FD=UD.hasOwnProperty,BD=O1.call(Object);function Ww(t){if(!go(t)||mo(t)!=LD)return!1;var e=X0(t);if(e===null)return!0;var n=FD.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&O1.call(n)==BD}function zD(){this.__data__=[],this.size=0}function D1(t,e){return t===e||t!==t&&e!==e}function up(t,e){for(var n=t.length;n--;)if(D1(t[n][0],e))return n;return-1}var qD=Array.prototype,$D=qD.splice;function HD(t){var e=this.__data__,n=up(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$D.call(e,n,1),--this.size,!0}function GD(t){var e=this.__data__,n=up(e,t);return n<0?void 0:e[n][1]}function KD(t){return up(this.__data__,t)>-1}function QD(t,e){var n=this.__data__,r=up(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ns(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ns.prototype.clear=zD;ns.prototype.delete=HD;ns.prototype.get=GD;ns.prototype.has=KD;ns.prototype.set=QD;function YD(){this.__data__=new ns,this.size=0}function XD(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function WD(t){return this.__data__.get(t)}function ZD(t){return this.__data__.has(t)}function Zc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var JD="[object AsyncFunction]",eP="[object Function]",tP="[object GeneratorFunction]",nP="[object Proxy]";function P1(t){if(!Zc(t))return!1;var e=mo(t);return e==eP||e==tP||e==JD||e==nP}var ry=ui["__core-js_shared__"],Zw=(function(){var t=/[^.]+$/.exec(ry&&ry.keys&&ry.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function rP(t){return!!Zw&&Zw in t}var iP=Function.prototype,sP=iP.toString;function yo(t){if(t!=null){try{return sP.call(t)}catch{}try{return t+""}catch{}}return""}var aP=/[\\^$.*+?()[\]{}|]/g,oP=/^\[object .+?Constructor\]$/,lP=Function.prototype,uP=Object.prototype,cP=lP.toString,hP=uP.hasOwnProperty,fP=RegExp("^"+cP.call(hP).replace(aP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dP(t){if(!Zc(t)||rP(t))return!1;var e=P1(t)?fP:oP;return e.test(yo(t))}function pP(t,e){return t?.[e]}function vo(t,e){var n=pP(t,e);return dP(n)?n:void 0}var Dc=vo(ui,"Map"),Pc=vo(Object,"create");function mP(){this.__data__=Pc?Pc(null):{},this.size=0}function gP(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yP="__lodash_hash_undefined__",vP=Object.prototype,_P=vP.hasOwnProperty;function bP(t){var e=this.__data__;if(Pc){var n=e[t];return n===yP?void 0:n}return _P.call(e,t)?e[t]:void 0}var EP=Object.prototype,wP=EP.hasOwnProperty;function TP(t){var e=this.__data__;return Pc?e[t]!==void 0:wP.call(e,t)}var xP="__lodash_hash_undefined__";function SP(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pc&&e===void 0?xP:e,this}function no(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}no.prototype.clear=mP;no.prototype.delete=gP;no.prototype.get=bP;no.prototype.has=TP;no.prototype.set=SP;function AP(){this.size=0,this.__data__={hash:new no,map:new(Dc||ns),string:new no}}function RP(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function cp(t,e){var n=t.__data__;return RP(e)?n[typeof e=="string"?"string":"hash"]:n.map}function CP(t){var e=cp(this,t).delete(t);return this.size-=e?1:0,e}function IP(t){return cp(this,t).get(t)}function NP(t){return cp(this,t).has(t)}function OP(t,e){var n=cp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function la(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}la.prototype.clear=AP;la.prototype.delete=CP;la.prototype.get=IP;la.prototype.has=NP;la.prototype.set=OP;var DP=200;function PP(t,e){var n=this.__data__;if(n instanceof ns){var r=n.__data__;if(!Dc||r.length<DP-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new la(r)}return n.set(t,e),this.size=n.size,this}function Bl(t){var e=this.__data__=new ns(t);this.size=e.size}Bl.prototype.clear=YD;Bl.prototype.delete=XD;Bl.prototype.get=WD;Bl.prototype.has=ZD;Bl.prototype.set=PP;function MP(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Jw=(function(){try{var t=vo(Object,"defineProperty");return t({},"",{}),t}catch{}})();function M1(t,e,n){e=="__proto__"&&Jw?Jw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var jP=Object.prototype,kP=jP.hasOwnProperty;function j1(t,e,n){var r=t[e];(!(kP.call(t,e)&&D1(r,n))||n===void 0&&!(e in t))&&M1(t,e,n)}function hp(t,e,n,r){var a=!n;n||(n={});for(var o=-1,u=e.length;++o<u;){var h=e[o],d=void 0;d===void 0&&(d=t[h]),a?M1(n,h,d):j1(n,h,d)}return n}function LP(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var VP="[object Arguments]";function eT(t){return go(t)&&mo(t)==VP}var k1=Object.prototype,UP=k1.hasOwnProperty,FP=k1.propertyIsEnumerable,BP=eT((function(){return arguments})())?eT:function(t){return go(t)&&UP.call(t,"callee")&&!FP.call(t,"callee")},Jc=Array.isArray;function zP(){return!1}var L1=typeof Hn=="object"&&Hn&&!Hn.nodeType&&Hn,tT=L1&&typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,qP=tT&&tT.exports===L1,nT=qP?ui.Buffer:void 0,$P=nT?nT.isBuffer:void 0,V1=$P||zP,HP=9007199254740991,GP=/^(?:0|[1-9]\d*)$/;function KP(t,e){var n=typeof t;return e=e??HP,!!e&&(n=="number"||n!="symbol"&&GP.test(t))&&t>-1&&t%1==0&&t<e}var QP=9007199254740991;function U1(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=QP}var YP="[object Arguments]",XP="[object Array]",WP="[object Boolean]",ZP="[object Date]",JP="[object Error]",eM="[object Function]",tM="[object Map]",nM="[object Number]",rM="[object Object]",iM="[object RegExp]",sM="[object Set]",aM="[object String]",oM="[object WeakMap]",lM="[object ArrayBuffer]",uM="[object DataView]",cM="[object Float32Array]",hM="[object Float64Array]",fM="[object Int8Array]",dM="[object Int16Array]",pM="[object Int32Array]",mM="[object Uint8Array]",gM="[object Uint8ClampedArray]",yM="[object Uint16Array]",vM="[object Uint32Array]",pt={};pt[cM]=pt[hM]=pt[fM]=pt[dM]=pt[pM]=pt[mM]=pt[gM]=pt[yM]=pt[vM]=!0;pt[YP]=pt[XP]=pt[lM]=pt[WP]=pt[uM]=pt[ZP]=pt[JP]=pt[eM]=pt[tM]=pt[nM]=pt[rM]=pt[iM]=pt[sM]=pt[aM]=pt[oM]=!1;function _M(t){return go(t)&&U1(t.length)&&!!pt[mo(t)]}function W0(t){return function(e){return t(e)}}var F1=typeof Hn=="object"&&Hn&&!Hn.nodeType&&Hn,Ec=F1&&typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,bM=Ec&&Ec.exports===F1,iy=bM&&C1.process,Rl=(function(){try{var t=Ec&&Ec.require&&Ec.require("util").types;return t||iy&&iy.binding&&iy.binding("util")}catch{}})(),rT=Rl&&Rl.isTypedArray,EM=rT?W0(rT):_M,wM=Object.prototype,TM=wM.hasOwnProperty;function B1(t,e){var n=Jc(t),r=!n&&BP(t),a=!n&&!r&&V1(t),o=!n&&!r&&!a&&EM(t),u=n||r||a||o,h=u?LP(t.length,String):[],d=h.length;for(var m in t)(e||TM.call(t,m))&&!(u&&(m=="length"||a&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||KP(m,d)))&&h.push(m);return h}var xM=Object.prototype;function Z0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||xM;return t===n}var SM=N1(Object.keys,Object),AM=Object.prototype,RM=AM.hasOwnProperty;function CM(t){if(!Z0(t))return SM(t);var e=[];for(var n in Object(t))RM.call(t,n)&&n!="constructor"&&e.push(n);return e}function z1(t){return t!=null&&U1(t.length)&&!P1(t)}function J0(t){return z1(t)?B1(t):CM(t)}function IM(t,e){return t&&hp(e,J0(e),t)}function NM(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var OM=Object.prototype,DM=OM.hasOwnProperty;function PM(t){if(!Zc(t))return NM(t);var e=Z0(t),n=[];for(var r in t)r=="constructor"&&(e||!DM.call(t,r))||n.push(r);return n}function ev(t){return z1(t)?B1(t,!0):PM(t)}function MM(t,e){return t&&hp(e,ev(e),t)}var q1=typeof Hn=="object"&&Hn&&!Hn.nodeType&&Hn,iT=q1&&typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,jM=iT&&iT.exports===q1,sT=jM?ui.Buffer:void 0,aT=sT?sT.allocUnsafe:void 0;function kM(t,e){if(e)return t.slice();var n=t.length,r=aT?aT(n):new t.constructor(n);return t.copy(r),r}function $1(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function LM(t,e){for(var n=-1,r=t==null?0:t.length,a=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[a++]=u)}return o}function H1(){return[]}var VM=Object.prototype,UM=VM.propertyIsEnumerable,oT=Object.getOwnPropertySymbols,tv=oT?function(t){return t==null?[]:(t=Object(t),LM(oT(t),function(e){return UM.call(t,e)}))}:H1;function FM(t,e){return hp(t,tv(t),e)}function G1(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}var BM=Object.getOwnPropertySymbols,K1=BM?function(t){for(var e=[];t;)G1(e,tv(t)),t=X0(t);return e}:H1;function zM(t,e){return hp(t,K1(t),e)}function Q1(t,e,n){var r=e(t);return Jc(t)?r:G1(r,n(t))}function qM(t){return Q1(t,J0,tv)}function $M(t){return Q1(t,ev,K1)}var Uy=vo(ui,"DataView"),Fy=vo(ui,"Promise"),By=vo(ui,"Set"),zy=vo(ui,"WeakMap"),lT="[object Map]",HM="[object Object]",uT="[object Promise]",cT="[object Set]",hT="[object WeakMap]",fT="[object DataView]",GM=yo(Uy),KM=yo(Dc),QM=yo(Fy),YM=yo(By),XM=yo(zy),qi=mo;(Uy&&qi(new Uy(new ArrayBuffer(1)))!=fT||Dc&&qi(new Dc)!=lT||Fy&&qi(Fy.resolve())!=uT||By&&qi(new By)!=cT||zy&&qi(new zy)!=hT)&&(qi=function(t){var e=mo(t),n=e==HM?t.constructor:void 0,r=n?yo(n):"";if(r)switch(r){case GM:return fT;case KM:return lT;case QM:return uT;case YM:return cT;case XM:return hT}return e});var WM=Object.prototype,ZM=WM.hasOwnProperty;function JM(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&ZM.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var dT=ui.Uint8Array;function nv(t){var e=new t.constructor(t.byteLength);return new dT(e).set(new dT(t)),e}function ej(t,e){var n=e?nv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var tj=/\w*$/;function nj(t){var e=new t.constructor(t.source,tj.exec(t));return e.lastIndex=t.lastIndex,e}var pT=Js?Js.prototype:void 0,mT=pT?pT.valueOf:void 0;function rj(t){return mT?Object(mT.call(t)):{}}function ij(t,e){var n=e?nv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var sj="[object Boolean]",aj="[object Date]",oj="[object Map]",lj="[object Number]",uj="[object RegExp]",cj="[object Set]",hj="[object String]",fj="[object Symbol]",dj="[object ArrayBuffer]",pj="[object DataView]",mj="[object Float32Array]",gj="[object Float64Array]",yj="[object Int8Array]",vj="[object Int16Array]",_j="[object Int32Array]",bj="[object Uint8Array]",Ej="[object Uint8ClampedArray]",wj="[object Uint16Array]",Tj="[object Uint32Array]";function xj(t,e,n){var r=t.constructor;switch(e){case dj:return nv(t);case sj:case aj:return new r(+t);case pj:return ej(t,n);case mj:case gj:case yj:case vj:case _j:case bj:case Ej:case wj:case Tj:return ij(t,n);case oj:return new r;case lj:case hj:return new r(t);case uj:return nj(t);case cj:return new r;case fj:return rj(t)}}var gT=Object.create,Sj=(function(){function t(){}return function(e){if(!Zc(e))return{};if(gT)return gT(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function Aj(t){return typeof t.constructor=="function"&&!Z0(t)?Sj(X0(t)):{}}var Rj="[object Map]";function Cj(t){return go(t)&&qi(t)==Rj}var yT=Rl&&Rl.isMap,Ij=yT?W0(yT):Cj,Nj="[object Set]";function Oj(t){return go(t)&&qi(t)==Nj}var vT=Rl&&Rl.isSet,Dj=vT?W0(vT):Oj,Pj=1,Mj=2,jj=4,Y1="[object Arguments]",kj="[object Array]",Lj="[object Boolean]",Vj="[object Date]",Uj="[object Error]",X1="[object Function]",Fj="[object GeneratorFunction]",Bj="[object Map]",zj="[object Number]",W1="[object Object]",qj="[object RegExp]",$j="[object Set]",Hj="[object String]",Gj="[object Symbol]",Kj="[object WeakMap]",Qj="[object ArrayBuffer]",Yj="[object DataView]",Xj="[object Float32Array]",Wj="[object Float64Array]",Zj="[object Int8Array]",Jj="[object Int16Array]",e4="[object Int32Array]",t4="[object Uint8Array]",n4="[object Uint8ClampedArray]",r4="[object Uint16Array]",i4="[object Uint32Array]",ft={};ft[Y1]=ft[kj]=ft[Qj]=ft[Yj]=ft[Lj]=ft[Vj]=ft[Xj]=ft[Wj]=ft[Zj]=ft[Jj]=ft[e4]=ft[Bj]=ft[zj]=ft[W1]=ft[qj]=ft[$j]=ft[Hj]=ft[Gj]=ft[t4]=ft[n4]=ft[r4]=ft[i4]=!0;ft[Uj]=ft[X1]=ft[Kj]=!1;function wc(t,e,n,r,a,o){var u,h=e&Pj,d=e&Mj,m=e&jj;if(u!==void 0)return u;if(!Zc(t))return t;var y=Jc(t);if(y){if(u=JM(t),!h)return $1(t,u)}else{var b=qi(t),E=b==X1||b==Fj;if(V1(t))return kM(t,h);if(b==W1||b==Y1||E&&!a){if(u=d||E?{}:Aj(t),!h)return d?zM(t,MM(u,t)):FM(t,IM(u,t))}else{if(!ft[b])return a?t:{};u=xj(t,b,h)}}o||(o=new Bl);var x=o.get(t);if(x)return x;o.set(t,u),Dj(t)?t.forEach(function(O){u.add(wc(O,e,n,O,t,o))}):Ij(t)&&t.forEach(function(O,P){u.set(P,wc(O,e,n,P,t,o))});var A=m?d?$M:qM:d?ev:J0,M=y?void 0:A(t);return MP(M||t,function(O,P){M&&(P=O,O=t[P]),j1(u,P,wc(O,e,n,P,t,o))}),u}var s4=1,a4=4;function fc(t){return wc(t,s4|a4)}var sy,_T;function o4(){if(_T)return sy;_T=1;var t=Array.isArray,e=Object.keys,n=Object.prototype.hasOwnProperty,r=typeof Element<"u";function a(o,u){if(o===u)return!0;if(o&&u&&typeof o=="object"&&typeof u=="object"){var h=t(o),d=t(u),m,y,b;if(h&&d){if(y=o.length,y!=u.length)return!1;for(m=y;m--!==0;)if(!a(o[m],u[m]))return!1;return!0}if(h!=d)return!1;var E=o instanceof Date,x=u instanceof Date;if(E!=x)return!1;if(E&&x)return o.getTime()==u.getTime();var A=o instanceof RegExp,M=u instanceof RegExp;if(A!=M)return!1;if(A&&M)return o.toString()==u.toString();var O=e(o);if(y=O.length,y!==e(u).length)return!1;for(m=y;m--!==0;)if(!n.call(u,O[m]))return!1;if(r&&o instanceof Element&&u instanceof Element)return o===u;for(m=y;m--!==0;)if(b=O[m],!(b==="_owner"&&o.$$typeof)&&!a(o[b],u[b]))return!1;return!0}return o!==o&&u!==u}return sy=function(u,h){try{return a(u,h)}catch(d){if(d.message&&d.message.match(/stack|recursion/i)||d.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",d.name,d.message),!1;throw d}},sy}var l4=o4();const Ls=Yc(l4);var u4=4;function bT(t){return wc(t,u4)}function Z1(t,e){for(var n=-1,r=t==null?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}var c4="[object Symbol]";function rv(t){return typeof t=="symbol"||go(t)&&mo(t)==c4}var h4="Expected a function";function iv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(h4);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var u=t.apply(this,r);return n.cache=o.set(a,u)||o,u};return n.cache=new(iv.Cache||la),n}iv.Cache=la;var f4=500;function d4(t){var e=iv(t,function(r){return n.size===f4&&n.clear(),r}),n=e.cache;return e}var p4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m4=/\\(\\)?/g,g4=d4(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(p4,function(n,r,a,o){e.push(a?o.replace(m4,"$1"):r||n)}),e});function y4(t){if(typeof t=="string"||rv(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ET=Js?Js.prototype:void 0,wT=ET?ET.toString:void 0;function J1(t){if(typeof t=="string")return t;if(Jc(t))return Z1(t,J1)+"";if(rv(t))return wT?wT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function v4(t){return t==null?"":J1(t)}function e2(t){return Jc(t)?Z1(t,y4):rv(t)?[t]:$1(g4(v4(t)))}var ay={exports:{}},Je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function _4(){if(TT)return Je;TT=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,h=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,b=t?Symbol.for("react.suspense"):60113,E=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,A=t?Symbol.for("react.lazy"):60116,M=t?Symbol.for("react.block"):60121,O=t?Symbol.for("react.fundamental"):60117,P=t?Symbol.for("react.responder"):60118,V=t?Symbol.for("react.scope"):60119;function q(F){if(typeof F=="object"&&F!==null){var Y=F.$$typeof;switch(Y){case e:switch(F=F.type,F){case d:case m:case r:case o:case a:case b:return F;default:switch(F=F&&F.$$typeof,F){case h:case y:case A:case x:case u:return F;default:return Y}}case n:return Y}}}function ne(F){return q(F)===m}return Je.AsyncMode=d,Je.ConcurrentMode=m,Je.ContextConsumer=h,Je.ContextProvider=u,Je.Element=e,Je.ForwardRef=y,Je.Fragment=r,Je.Lazy=A,Je.Memo=x,Je.Portal=n,Je.Profiler=o,Je.StrictMode=a,Je.Suspense=b,Je.isAsyncMode=function(F){return ne(F)||q(F)===d},Je.isConcurrentMode=ne,Je.isContextConsumer=function(F){return q(F)===h},Je.isContextProvider=function(F){return q(F)===u},Je.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===e},Je.isForwardRef=function(F){return q(F)===y},Je.isFragment=function(F){return q(F)===r},Je.isLazy=function(F){return q(F)===A},Je.isMemo=function(F){return q(F)===x},Je.isPortal=function(F){return q(F)===n},Je.isProfiler=function(F){return q(F)===o},Je.isStrictMode=function(F){return q(F)===a},Je.isSuspense=function(F){return q(F)===b},Je.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===r||F===m||F===o||F===a||F===b||F===E||typeof F=="object"&&F!==null&&(F.$$typeof===A||F.$$typeof===x||F.$$typeof===u||F.$$typeof===h||F.$$typeof===y||F.$$typeof===O||F.$$typeof===P||F.$$typeof===V||F.$$typeof===M)},Je.typeOf=q,Je}var xT;function b4(){return xT||(xT=1,ay.exports=_4()),ay.exports}var oy,ST;function E4(){if(ST)return oy;ST=1;var t=b4(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=a;function u(A){return t.isMemo(A)?a:o[A.$$typeof]||e}var h=Object.defineProperty,d=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,E=Object.prototype;function x(A,M,O){if(typeof M!="string"){if(E){var P=b(M);P&&P!==E&&x(A,P,O)}var V=d(M);m&&(V=V.concat(m(M)));for(var q=u(A),ne=u(M),F=0;F<V.length;++F){var Y=V[F];if(!n[Y]&&!(O&&O[Y])&&!(ne&&ne[Y])&&!(q&&q[Y])){var N=y(M,Y);try{h(A,Y,N)}catch{}}}}return A}return oy=x,oy}var w4=E4();const T4=Yc(w4);function it(){return it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},it.apply(this,arguments)}function t2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function qs(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function AT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var fp=D.createContext(void 0);fp.displayName="FormikContext";var x4=fp.Provider,S4=fp.Consumer;function n2(){var t=D.useContext(fp);return t}var RT=function(e){return Array.isArray(e)&&e.length===0},on=function(e){return typeof e=="function"},eh=function(e){return e!==null&&typeof e=="object"},A4=function(e){return String(Math.floor(Number(e)))===e},ly=function(e){return Object.prototype.toString.call(e)==="[object String]"},r2=function(e){return D.Children.count(e)===0},uy=function(e){return eh(e)&&on(e.then)};function vt(t,e,n,r){r===void 0&&(r=0);for(var a=e2(e);t&&r<a.length;)t=t[a[r++]];return r!==a.length&&!t||t===void 0?n:t}function Wr(t,e,n){for(var r=bT(t),a=r,o=0,u=e2(e);o<u.length-1;o++){var h=u[o],d=vt(t,u.slice(0,o+1));if(d&&(eh(d)||Array.isArray(d)))a=a[h]=bT(d);else{var m=u[o+1];a=a[h]=A4(m)&&Number(m)>=0?[]:{}}}return(o===0?t:a)[u[o]]===n?t:(n===void 0?delete a[u[o]]:a[u[o]]=n,o===0&&n===void 0&&delete r[u[o]],r)}function i2(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var a=0,o=Object.keys(t);a<o.length;a++){var u=o[a],h=t[u];eh(h)?n.get(h)||(n.set(h,!0),r[u]=Array.isArray(h)?[]:{},i2(h,e,n,r[u])):r[u]=e}return r}function R4(t,e){switch(e.type){case"SET_VALUES":return it({},t,{values:e.payload});case"SET_TOUCHED":return it({},t,{touched:e.payload});case"SET_ERRORS":return Ls(t.errors,e.payload)?t:it({},t,{errors:e.payload});case"SET_STATUS":return it({},t,{status:e.payload});case"SET_ISSUBMITTING":return it({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return it({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return it({},t,{values:Wr(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return it({},t,{touched:Wr(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return it({},t,{errors:Wr(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return it({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return it({},t,{touched:i2(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return it({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return it({},t,{isSubmitting:!1});default:return t}}var Ha={},zf={};function C4(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,a=r===void 0?!0:r,o=t.validateOnMount,u=o===void 0?!1:o,h=t.isInitialValid,d=t.enableReinitialize,m=d===void 0?!1:d,y=t.onSubmit,b=qs(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),E=it({validateOnChange:n,validateOnBlur:a,validateOnMount:u,onSubmit:y},b),x=D.useRef(E.initialValues),A=D.useRef(E.initialErrors||Ha),M=D.useRef(E.initialTouched||zf),O=D.useRef(E.initialStatus),P=D.useRef(!1),V=D.useRef({});D.useEffect(function(){return P.current=!0,function(){P.current=!1}},[]);var q=D.useState(0),ne=q[1],F=D.useRef({values:fc(E.initialValues),errors:fc(E.initialErrors)||Ha,touched:fc(E.initialTouched)||zf,status:fc(E.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),Y=F.current,N=D.useCallback(function(J){var fe=F.current;F.current=R4(fe,J),fe!==F.current&&ne(function(ye){return ye+1})},[]),C=D.useCallback(function(J,fe){return new Promise(function(ye,we){var ve=E.validate(J,fe);ve==null?ye(Ha):uy(ve)?ve.then(function(be){ye(be||Ha)},function(be){we(be)}):ye(ve)})},[E.validate]),I=D.useCallback(function(J,fe){var ye=E.validationSchema,we=on(ye)?ye(fe):ye,ve=fe&&we.validateAt?we.validateAt(fe,J):N4(J,we);return new Promise(function(be,tt){ve.then(function(){be(Ha)},function(ct){ct.name==="ValidationError"?be(I4(ct)):tt(ct)})})},[E.validationSchema]),L=D.useCallback(function(J,fe){return new Promise(function(ye){return ye(V.current[J].validate(fe))})},[]),U=D.useCallback(function(J){var fe=Object.keys(V.current).filter(function(we){return on(V.current[we].validate)}),ye=fe.length>0?fe.map(function(we){return L(we,vt(J,we))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ye).then(function(we){return we.reduce(function(ve,be,tt){return be==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||be&&(ve=Wr(ve,fe[tt],be)),ve},{})})},[L]),$=D.useCallback(function(J){return Promise.all([U(J),E.validationSchema?I(J):{},E.validate?C(J):{}]).then(function(fe){var ye=fe[0],we=fe[1],ve=fe[2],be=Vy.all([ye,we,ve],{arrayMerge:O4});return be})},[E.validate,E.validationSchema,U,C,I]),j=or(function(J){return J===void 0&&(J=Y.values),N({type:"SET_ISVALIDATING",payload:!0}),$(J).then(function(fe){return P.current&&(N({type:"SET_ISVALIDATING",payload:!1}),N({type:"SET_ERRORS",payload:fe})),fe})});D.useEffect(function(){u&&P.current===!0&&Ls(x.current,E.initialValues)&&j(x.current)},[u,j]);var Ve=D.useCallback(function(J){var fe=J&&J.values?J.values:x.current,ye=J&&J.errors?J.errors:A.current?A.current:E.initialErrors||{},we=J&&J.touched?J.touched:M.current?M.current:E.initialTouched||{},ve=J&&J.status?J.status:O.current?O.current:E.initialStatus;x.current=fe,A.current=ye,M.current=we,O.current=ve;var be=function(){N({type:"RESET_FORM",payload:{isSubmitting:!!J&&!!J.isSubmitting,errors:ye,touched:we,status:ve,values:fe,isValidating:!!J&&!!J.isValidating,submitCount:J&&J.submitCount&&typeof J.submitCount=="number"?J.submitCount:0}})};if(E.onReset){var tt=E.onReset(Y.values,Ir);uy(tt)?tt.then(be):be()}else be()},[E.initialErrors,E.initialStatus,E.initialTouched,E.onReset]);D.useEffect(function(){P.current===!0&&!Ls(x.current,E.initialValues)&&m&&(x.current=E.initialValues,Ve(),u&&j(x.current))},[m,E.initialValues,Ve,u,j]),D.useEffect(function(){m&&P.current===!0&&!Ls(A.current,E.initialErrors)&&(A.current=E.initialErrors||Ha,N({type:"SET_ERRORS",payload:E.initialErrors||Ha}))},[m,E.initialErrors]),D.useEffect(function(){m&&P.current===!0&&!Ls(M.current,E.initialTouched)&&(M.current=E.initialTouched||zf,N({type:"SET_TOUCHED",payload:E.initialTouched||zf}))},[m,E.initialTouched]),D.useEffect(function(){m&&P.current===!0&&!Ls(O.current,E.initialStatus)&&(O.current=E.initialStatus,N({type:"SET_STATUS",payload:E.initialStatus}))},[m,E.initialStatus,E.initialTouched]);var We=or(function(J){if(V.current[J]&&on(V.current[J].validate)){var fe=vt(Y.values,J),ye=V.current[J].validate(fe);return uy(ye)?(N({type:"SET_ISVALIDATING",payload:!0}),ye.then(function(we){return we}).then(function(we){N({type:"SET_FIELD_ERROR",payload:{field:J,value:we}}),N({type:"SET_ISVALIDATING",payload:!1})})):(N({type:"SET_FIELD_ERROR",payload:{field:J,value:ye}}),Promise.resolve(ye))}else if(E.validationSchema)return N({type:"SET_ISVALIDATING",payload:!0}),I(Y.values,J).then(function(we){return we}).then(function(we){N({type:"SET_FIELD_ERROR",payload:{field:J,value:vt(we,J)}}),N({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),te=D.useCallback(function(J,fe){var ye=fe.validate;V.current[J]={validate:ye}},[]),ce=D.useCallback(function(J){delete V.current[J]},[]),pe=or(function(J,fe){N({type:"SET_TOUCHED",payload:J});var ye=fe===void 0?a:fe;return ye?j(Y.values):Promise.resolve()}),Me=D.useCallback(function(J){N({type:"SET_ERRORS",payload:J})},[]),B=or(function(J,fe){var ye=on(J)?J(Y.values):J;N({type:"SET_VALUES",payload:ye});var we=fe===void 0?n:fe;return we?j(ye):Promise.resolve()}),H=D.useCallback(function(J,fe){N({type:"SET_FIELD_ERROR",payload:{field:J,value:fe}})},[]),ue=or(function(J,fe,ye){N({type:"SET_FIELD_VALUE",payload:{field:J,value:fe}});var we=ye===void 0?n:ye;return we?j(Wr(Y.values,J,fe)):Promise.resolve()}),le=D.useCallback(function(J,fe){var ye=fe,we=J,ve;if(!ly(J)){J.persist&&J.persist();var be=J.target?J.target:J.currentTarget,tt=be.type,ct=be.name,as=be.id,pa=be.value,mi=be.checked;be.outerHTML;var Nr=be.options,gi=be.multiple;ye=fe||ct||as,we=/number|range/.test(tt)?(ve=parseFloat(pa),isNaN(ve)?"":ve):/checkbox/.test(tt)?P4(vt(Y.values,ye),mi,pa):Nr&&gi?D4(Nr):pa}ye&&ue(ye,we)},[ue,Y.values]),_e=or(function(J){if(ly(J))return function(fe){return le(fe,J)};le(J)}),De=or(function(J,fe,ye){fe===void 0&&(fe=!0),N({type:"SET_FIELD_TOUCHED",payload:{field:J,value:fe}});var we=ye===void 0?a:ye;return we?j(Y.values):Promise.resolve()}),Ae=D.useCallback(function(J,fe){J.persist&&J.persist();var ye=J.target,we=ye.name,ve=ye.id;ye.outerHTML;var be=fe||we||ve;De(be,!0)},[De]),wt=or(function(J){if(ly(J))return function(fe){return Ae(fe,J)};Ae(J)}),et=D.useCallback(function(J){on(J)?N({type:"SET_FORMIK_STATE",payload:J}):N({type:"SET_FORMIK_STATE",payload:function(){return J}})},[]),Mn=D.useCallback(function(J){N({type:"SET_STATUS",payload:J})},[]),mr=D.useCallback(function(J){N({type:"SET_ISSUBMITTING",payload:J})},[]),jn=or(function(){return N({type:"SUBMIT_ATTEMPT"}),j().then(function(J){var fe=J instanceof Error,ye=!fe&&Object.keys(J).length===0;if(ye){var we;try{if(we=fi(),we===void 0)return}catch(ve){throw ve}return Promise.resolve(we).then(function(ve){return P.current&&N({type:"SUBMIT_SUCCESS"}),ve}).catch(function(ve){if(P.current)throw N({type:"SUBMIT_FAILURE"}),ve})}else if(P.current&&(N({type:"SUBMIT_FAILURE"}),fe))throw J})}),hi=or(function(J){J&&J.preventDefault&&on(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&on(J.stopPropagation)&&J.stopPropagation(),jn().catch(function(fe){console.warn("Warning: An unhandled error was caught from submitForm()",fe)})}),Ir={resetForm:Ve,validateForm:j,validateField:We,setErrors:Me,setFieldError:H,setFieldTouched:De,setFieldValue:ue,setStatus:Mn,setSubmitting:mr,setTouched:pe,setValues:B,setFormikState:et,submitForm:jn},fi=or(function(){return y(Y.values,Ir)}),da=or(function(J){J&&J.preventDefault&&on(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&on(J.stopPropagation)&&J.stopPropagation(),Ve()}),Eo=D.useCallback(function(J){return{value:vt(Y.values,J),error:vt(Y.errors,J),touched:!!vt(Y.touched,J),initialValue:vt(x.current,J),initialTouched:!!vt(M.current,J),initialError:vt(A.current,J)}},[Y.errors,Y.touched,Y.values]),Rn=D.useCallback(function(J){return{setValue:function(ye,we){return ue(J,ye,we)},setTouched:function(ye,we){return De(J,ye,we)},setError:function(ye){return H(J,ye)}}},[ue,De,H]),tu=D.useCallback(function(J){var fe=eh(J),ye=fe?J.name:J,we=vt(Y.values,ye),ve={name:ye,value:we,onChange:_e,onBlur:wt};if(fe){var be=J.type,tt=J.value,ct=J.as,as=J.multiple;be==="checkbox"?tt===void 0?ve.checked=!!we:(ve.checked=!!(Array.isArray(we)&&~we.indexOf(tt)),ve.value=tt):be==="radio"?(ve.checked=we===tt,ve.value=tt):ct==="select"&&as&&(ve.value=ve.value||[],ve.multiple=!0)}return ve},[wt,_e,Y.values]),di=D.useMemo(function(){return!Ls(x.current,Y.values)},[x.current,Y.values]),ss=D.useMemo(function(){return typeof h<"u"?di?Y.errors&&Object.keys(Y.errors).length===0:h!==!1&&on(h)?h(E):h:Y.errors&&Object.keys(Y.errors).length===0},[h,di,Y.errors,E]),pi=it({},Y,{initialValues:x.current,initialErrors:A.current,initialTouched:M.current,initialStatus:O.current,handleBlur:wt,handleChange:_e,handleReset:da,handleSubmit:hi,resetForm:Ve,setErrors:Me,setFormikState:et,setFieldTouched:De,setFieldValue:ue,setFieldError:H,setStatus:Mn,setSubmitting:mr,setTouched:pe,setValues:B,submitForm:jn,validateForm:j,validateField:We,isValid:ss,dirty:di,unregisterField:ce,registerField:te,getFieldProps:tu,getFieldMeta:Eo,getFieldHelpers:Rn,validateOnBlur:a,validateOnChange:n,validateOnMount:u});return pi}function dp(t){var e=C4(t),n=t.component,r=t.children,a=t.render,o=t.innerRef;return D.useImperativeHandle(o,function(){return e}),D.createElement(x4,{value:e},n?D.createElement(n,e):a?a(e):r?on(r)?r(e):r2(r)?null:D.Children.only(r):null)}function I4(t){var e={};if(t.inner){if(t.inner.length===0)return Wr(e,t.path,t.message);for(var a=t.inner,n=Array.isArray(a),r=0,a=n?a:a[Symbol.iterator]();;){var o;if(n){if(r>=a.length)break;o=a[r++]}else{if(r=a.next(),r.done)break;o=r.value}var u=o;vt(e,u.path)||(e=Wr(e,u.path,u.message))}}return e}function N4(t,e,n,r){n===void 0&&(n=!1);var a=qy(t);return e[n?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function qy(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(a){return Array.isArray(a)===!0||Ww(a)?qy(a):a!==""?a:void 0}):Ww(t[r])?e[r]=qy(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function O4(t,e,n){var r=t.slice();return e.forEach(function(o,u){if(typeof r[u]>"u"){var h=n.clone!==!1,d=h&&n.isMergeableObject(o);r[u]=d?Vy(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[u]=Vy(t[u],o,n):t.indexOf(o)===-1&&r.push(o)}),r}function D4(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function P4(t,e,n){if(typeof t=="boolean")return!!e;var r=[],a=!1,o=-1;if(Array.isArray(t))r=t,o=t.indexOf(n),a=o>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!a?r.concat(n):a?r.slice(0,o).concat(r.slice(o+1)):r}var M4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?D.useLayoutEffect:D.useEffect;function or(t){var e=D.useRef(t);return M4(function(){e.current=t}),D.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current.apply(void 0,r)},[])}function Kr(t){var e=t.validate,n=t.name,r=t.render,a=t.children,o=t.as,u=t.component,h=t.className,d=qs(t,["validate","name","render","children","as","component","className"]),m=n2(),y=qs(m,["validate","validationSchema"]),b=y.registerField,E=y.unregisterField;D.useEffect(function(){return b(n,{validate:e}),function(){E(n)}},[b,E,n,e]);var x=y.getFieldProps(it({name:n},d)),A=y.getFieldMeta(n),M={field:x,form:y};if(r)return r(it({},M,{meta:A}));if(on(a))return a(it({},M,{meta:A}));if(u){if(typeof u=="string"){var O=d.innerRef,P=qs(d,["innerRef"]);return D.createElement(u,it({ref:O},x,P,{className:h}),a)}return D.createElement(u,it({field:x,form:y},d,{className:h}),a)}var V=o||"input";if(typeof V=="string"){var q=d.innerRef,ne=qs(d,["innerRef"]);return D.createElement(V,it({ref:q},x,ne,{className:h}),a)}return D.createElement(V,it({},x,d,{className:h}),a)}var th=D.forwardRef(function(t,e){var n=t.action,r=qs(t,["action"]),a=n??"#",o=n2(),u=o.handleReset,h=o.handleSubmit;return D.createElement("form",it({onSubmit:h,ref:e,onReset:u,action:a},r))});th.displayName="Form";function j4(t){var e=function(a){return D.createElement(S4,null,function(o){return D.createElement(t,it({},a,{formik:o}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",T4(e,t)}var k4=function(e,n,r){var a=ro(e),o=a[n];return a.splice(n,1),a.splice(r,0,o),a},L4=function(e,n,r){var a=ro(e),o=a[n];return a[n]=a[r],a[r]=o,a},cy=function(e,n,r){var a=ro(e);return a.splice(n,0,r),a},V4=function(e,n,r){var a=ro(e);return a[n]=r,a},ro=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,a){return a>r?a:r},0);return Array.from(it({},e,{length:n+1}))}else return[]},CT=function(e,n){var r=typeof e=="function"?e:n;return function(a){if(Array.isArray(a)||eh(a)){var o=ro(a);return r(o)}return a}},U4=(function(t){t2(e,t);function e(r){var a;return a=t.call(this,r)||this,a.updateArrayField=function(o,u,h){var d=a.props,m=d.name,y=d.formik.setFormikState;y(function(b){var E=CT(h,o),x=CT(u,o),A=Wr(b.values,m,o(vt(b.values,m))),M=h?E(vt(b.errors,m)):void 0,O=u?x(vt(b.touched,m)):void 0;return RT(M)&&(M=void 0),RT(O)&&(O=void 0),it({},b,{values:A,errors:h?Wr(b.errors,m,M):b.errors,touched:u?Wr(b.touched,m,O):b.touched})})},a.push=function(o){return a.updateArrayField(function(u){return[].concat(ro(u),[fc(o)])},!1,!1)},a.handlePush=function(o){return function(){return a.push(o)}},a.swap=function(o,u){return a.updateArrayField(function(h){return L4(h,o,u)},!0,!0)},a.handleSwap=function(o,u){return function(){return a.swap(o,u)}},a.move=function(o,u){return a.updateArrayField(function(h){return k4(h,o,u)},!0,!0)},a.handleMove=function(o,u){return function(){return a.move(o,u)}},a.insert=function(o,u){return a.updateArrayField(function(h){return cy(h,o,u)},function(h){return cy(h,o,null)},function(h){return cy(h,o,null)})},a.handleInsert=function(o,u){return function(){return a.insert(o,u)}},a.replace=function(o,u){return a.updateArrayField(function(h){return V4(h,o,u)},!1,!1)},a.handleReplace=function(o,u){return function(){return a.replace(o,u)}},a.unshift=function(o){var u=-1;return a.updateArrayField(function(h){var d=h?[o].concat(h):[o];return u=d.length,d},function(h){return h?[null].concat(h):[null]},function(h){return h?[null].concat(h):[null]}),u},a.handleUnshift=function(o){return function(){return a.unshift(o)}},a.handleRemove=function(o){return function(){return a.remove(o)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(AT(a)),a.pop=a.pop.bind(AT(a)),a}var n=e.prototype;return n.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Ls(vt(a.formik.values,a.name),vt(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(a){var o;return this.updateArrayField(function(u){var h=u?ro(u):[];return o||(o=h[a]),on(h.splice)&&h.splice(a,1),on(h.every)&&h.every(function(d){return d===void 0})?[]:h},!0,!0),o},n.pop=function(){var a;return this.updateArrayField(function(o){var u=o.slice();return a||(a=u&&u.pop&&u.pop()),u},!0,!0),a},n.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,u=o.component,h=o.render,d=o.children,m=o.name,y=o.formik,b=qs(y,["validate","validationSchema"]),E=it({},a,{form:b,name:m});return u?D.createElement(u,E):h?h(E):d?typeof d=="function"?d(E):r2(d)?null:D.Children.only(d):null},e})(D.Component);U4.defaultProps={validateOnChange:!0};var F4=(function(t){t2(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(a){return vt(this.props.formik.errors,this.props.name)!==vt(a.formik.errors,this.props.name)||vt(this.props.formik.touched,this.props.name)!==vt(a.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(a).length},n.render=function(){var a=this.props,o=a.component,u=a.formik,h=a.render,d=a.children,m=a.name,y=qs(a,["component","formik","render","children","name"]),b=vt(u.touched,m),E=vt(u.errors,m);return b&&E?h?on(h)?h(E):null:d?on(d)?d(E):null:o?D.createElement(o,y,E):E:null},e})(D.Component),$i=j4(F4),hy,IT;function B4(){if(IT)return hy;IT=1;function t(P){this._maxSize=P,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(P){return this._values[P]},t.prototype.set=function(P,V){return this._size>=this._maxSize&&this.clear(),P in this._values||this._size++,this._values[P]=V};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,h=new t(u),d=new t(u),m=new t(u);hy={Cache:t,split:b,normalizePath:y,setter:function(P){var V=y(P);return d.get(P)||d.set(P,function(ne,F){for(var Y=0,N=V.length,C=ne;Y<N-1;){var I=V[Y];if(I==="__proto__"||I==="constructor"||I==="prototype")return ne;C=C[V[Y++]]}C[V[Y]]=F})},getter:function(P,V){var q=y(P);return m.get(P)||m.set(P,function(F){for(var Y=0,N=q.length;Y<N;)if(F!=null||!V)F=F[q[Y++]];else return;return F})},join:function(P){return P.reduce(function(V,q){return V+(x(q)||n.test(q)?"["+q+"]":(V?".":"")+q)},"")},forEach:function(P,V,q){E(Array.isArray(P)?P:b(P),V,q)}};function y(P){return h.get(P)||h.set(P,b(P).map(function(V){return V.replace(o,"$2")}))}function b(P){return P.match(e)||[""]}function E(P,V,q){var ne=P.length,F,Y,N,C;for(Y=0;Y<ne;Y++)F=P[Y],F&&(O(F)&&(F='"'+F+'"'),C=x(F),N=!C&&/^\d+$/.test(F),V.call(q,F,C,N,Y,P))}function x(P){return typeof P=="string"&&P&&["'",'"'].indexOf(P.charAt(0))!==-1}function A(P){return P.match(r)&&!P.match(n)}function M(P){return a.test(P)}function O(P){return!x(P)&&(A(P)||M(P))}return hy}var Xa=B4(),fy,NT;function z4(){if(NT)return fy;NT=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=y=>y.match(t)||[],n=y=>y[0].toUpperCase()+y.slice(1),r=(y,b)=>e(y).join(b).toLowerCase(),a=y=>e(y).reduce((b,E)=>`${b}${b?E[0].toUpperCase()+E.slice(1).toLowerCase():E.toLowerCase()}`,"");return fy={words:e,upperFirst:n,camelCase:a,pascalCase:y=>n(a(y)),snakeCase:y=>r(y,"_"),kebabCase:y=>r(y,"-"),sentenceCase:y=>n(r(y," ")),titleCase:y=>e(y).map(n).join(" ")},fy}var dy=z4(),qf={exports:{}},OT;function q4(){if(OT)return qf.exports;OT=1,qf.exports=function(a){return t(e(a),a)},qf.exports.array=t;function t(a,o){var u=a.length,h=new Array(u),d={},m=u,y=n(o),b=r(a);for(o.forEach(function(x){if(!b.has(x[0])||!b.has(x[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});m--;)d[m]||E(a[m],m,new Set);return h;function E(x,A,M){if(M.has(x)){var O;try{O=", node was:"+JSON.stringify(x)}catch{O=""}throw new Error("Cyclic dependency"+O)}if(!b.has(x))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(x));if(!d[A]){d[A]=!0;var P=y.get(x)||new Set;if(P=Array.from(P),A=P.length){M.add(x);do{var V=P[--A];E(V,b.get(V),M)}while(A);M.delete(x)}h[--u]=x}}}function e(a){for(var o=new Set,u=0,h=a.length;u<h;u++){var d=a[u];o.add(d[0]),o.add(d[1])}return Array.from(o)}function n(a){for(var o=new Map,u=0,h=a.length;u<h;u++){var d=a[u];o.has(d[0])||o.set(d[0],new Set),o.has(d[1])||o.set(d[1],new Set),o.get(d[0]).add(d[1])}return o}function r(a){for(var o=new Map,u=0,h=a.length;u<h;u++)o.set(a[u],u);return o}return qf.exports}var $4=q4();const H4=Yc($4),G4=Object.prototype.toString,K4=Error.prototype.toString,Q4=RegExp.prototype.toString,Y4=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",X4=/^Symbol\((.*)\)(.*)$/;function W4(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function DT(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return W4(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Y4.call(t).replace(X4,"Symbol($1)");const r=G4.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+K4.call(t)+"]":r==="RegExp"?Q4.call(t):null}function Gs(t,e){let n=DT(t,e);return n!==null?n:JSON.stringify(t,function(r,a){let o=DT(this[r],e);return o!==null?o:a},2)}function s2(t){return t==null?[]:[].concat(t)}let a2,o2,l2,Z4=/\$\{\s*(\w+)\s*\}/g;a2=Symbol.toStringTag;class PT{constructor(e,n,r,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[a2]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=a,this.errors=[],this.inner=[],s2(e).forEach(o=>{if(xn.isError(o)){this.errors.push(...o.errors);const u=o.inner.length?o.inner:[o];this.inner.push(...u)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}o2=Symbol.hasInstance;l2=Symbol.toStringTag;class xn extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(Z4,(a,o)=>Gs(n[o])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,a,o){const u=new PT(e,n,r,a);if(o)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[l2]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,xn)}static[o2](e){return PT[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Qr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const a=r!=null&&r!==n?` (cast from the value \`${Gs(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Gs(n,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${Gs(n,!0)}\``+a}},On={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ks={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},$y={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Hy={isValue:"${path} field must be ${value}"},ad={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},J4={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},ek={notType:t=>{const{path:e,value:n,spec:r}=t,a=r.types.length;if(Array.isArray(n)){if(n.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${n.length} for value: \`${Gs(n,!0)}\``;if(n.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${n.length} for value: \`${Gs(n,!0)}\``}return xn.formatError(Qr.notType,t)}};Object.assign(Object.create(null),{mixed:Qr,string:On,number:ks,date:$y,object:ad,array:J4,boolean:Hy,tuple:ek});const sv=t=>t&&t.__isYupSchema__;class wd{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:a,otherwise:o}=n,u=typeof r=="function"?r:(...h)=>h.every(d=>d===r);return new wd(e,(h,d)=>{var m;let y=u(...h)?a:o;return(m=y?.(d))!=null?m:d})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(o=>o.getValue(n?.value,n?.parent,n?.context)),a=this.fn(r,e,n);if(a===void 0||a===e)return e;if(!sv(a))throw new TypeError("conditions must return a schema object");return a.resolve(n)}}const $f={context:"$",value:"."};function tk(t,e){return new ua(t,e)}class ua{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===$f.context,this.isValue=this.key[0]===$f.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?$f.context:this.isValue?$f.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Xa.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let a=this.isContext?r:this.isValue?e:n;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,n){return this.getValue(e,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ua.prototype.__isYupRef=!0;const Tr=t=>t==null;function fl(t){function e({value:n,path:r="",options:a,originalValue:o,schema:u},h,d){const{name:m,test:y,params:b,message:E,skipAbsent:x}=t;let{parent:A,context:M,abortEarly:O=u.spec.abortEarly,disableStackTrace:P=u.spec.disableStackTrace}=a;const V={value:n,parent:A,context:M};function q(U={}){const $=u2(Object.assign({value:n,originalValue:o,label:u.spec.label,path:U.path||r,spec:u.spec,disableStackTrace:U.disableStackTrace||P},b,U.params),V),j=new xn(xn.formatError(U.message||E,$),n,$.path,U.type||m,$.disableStackTrace);return j.params=$,j}const ne=O?h:d;let F={path:r,parent:A,type:m,from:a.from,createError:q,resolve(U){return c2(U,V)},options:a,originalValue:o,schema:u};const Y=U=>{xn.isError(U)?ne(U):U?d(null):ne(q())},N=U=>{xn.isError(U)?ne(U):h(U)};if(x&&Tr(n))return Y(!0);let I;try{var L;if(I=y.call(F,n,F),typeof((L=I)==null?void 0:L.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${F.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(Y,N)}}catch(U){N(U);return}Y(I)}return e.OPTIONS=t,e}function u2(t,e){if(!t)return t;for(const n of Object.keys(t))t[n]=c2(t[n],e);return t}function c2(t,e){return ua.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function nk(t,e,n,r=n){let a,o,u;return e?(Xa.forEach(e,(h,d,m)=>{let y=d?h.slice(1,h.length-1):h;t=t.resolve({context:r,parent:a,value:n});let b=t.type==="tuple",E=m?parseInt(y,10):0;if(t.innerType||b){if(b&&!m)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(n&&E>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${h}, in the path: ${e}. because there is no value at that index. `);a=n,n=n&&n[E],t=b?t.spec.types[E]:t.innerType}if(!m){if(!t.fields||!t.fields[y])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${t.type}")`);a=n,n=n&&n[y],t=t.fields[y]}o=y,u=d?"["+h+"]":"."+h}),{schema:t,parent:a,parentPath:o}):{parent:a,parentPath:e,schema:t}}class Td extends Set{describe(){const e=[];for(const n of this.values())e.push(ua.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Td(this.values())}merge(e,n){const r=this.clone();return e.forEach(a=>r.add(a)),n.forEach(a=>r.delete(a)),r}}function _l(t,e=new Map){if(sv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=_l(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,a]of t.entries())n.set(r,_l(a,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(_l(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,a]of Object.entries(t))n[r]=_l(a,e)}else throw Error(`Unable to clone ${t}`);return n}function rk(t){if(!(t!=null&&t.length))return;const e=[];let n="",r=!1,a=!1;for(let o=0;o<t.length;o++){const u=t[o];if(u==="["&&!a){n&&(e.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(u==="]"&&!a){n&&(/^\d+$/.test(n)?e.push(n):e.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(u==='"'){a=!a;continue}if(u==="."&&!r&&!a){n&&(e.push(n),n="");continue}n+=u}return n&&e.push(...n.split(".").filter(Boolean)),e}function ik(t,e){const n=e?`${e}.${t.path}`:t.path;return t.errors.map(r=>({message:r,path:rk(n)}))}function h2(t,e){var n;if(!((n=t.inner)!=null&&n.length)&&t.errors.length)return ik(t,e);const r=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(a=>h2(a,r))}let dr=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Td,this._blacklist=new Td,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Qr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=_l(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const a=Object.assign({},n.spec,r.spec);return r.spec=a,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{e.tests.forEach(u=>{o.test(u.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((a,o)=>o.resolve(a,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,a,o;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(o=e.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),a=n.assert==="ignore-optionality",o=r._cast(e,n);if(n.assert!==!1&&!r.isType(o)){if(a&&Tr(o))return o;let u=Gs(e),h=Gs(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${u} 
`+(h!==u?`result of cast: ${h}`:""))}return o}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((a,o)=>o.call(this,a,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,a){let{path:o,originalValue:u=e,strict:h=this.spec.strict}=n,d=e;h||(d=this._cast(d,Object.assign({assert:!1},n)));let m=[];for(let y of Object.values(this.internalTests))y&&m.push(y);this.runTests({path:o,value:d,originalValue:u,options:n,tests:m},r,y=>{if(y.length)return a(y,d);this.runTests({path:o,value:d,originalValue:u,options:n,tests:this.tests},r,a)})}runTests(e,n,r){let a=!1,{tests:o,value:u,originalValue:h,path:d,options:m}=e,y=M=>{a||(a=!0,n(M,u))},b=M=>{a||(a=!0,r(M,u))},E=o.length,x=[];if(!E)return b([]);let A={value:u,originalValue:h,path:d,options:m,schema:this};for(let M=0;M<o.length;M++){const O=o[M];O(A,y,function(V){V&&(Array.isArray(V)?x.push(...V):x.push(V)),--E<=0&&b(x)})}}asNestedTest({key:e,index:n,parent:r,parentPath:a,originalParent:o,options:u}){const h=e??n;if(h==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof h=="number";let m=r[h];const y=Object.assign({},u,{strict:!0,parent:r,value:m,originalValue:o[h],key:void 0,[d?"index":"key"]:h,path:d||h.includes(".")?`${a||""}[${d?h:`"${h}"`}]`:(a?`${a}.`:"")+e});return(b,E,x)=>this.resolve(y)._validate(m,y,E,x)}validate(e,n){var r;let a=this.resolve(Object.assign({},n,{value:e})),o=(r=n?.disableStackTrace)!=null?r:a.spec.disableStackTrace;return new Promise((u,h)=>a._validate(e,n,(d,m)=>{xn.isError(d)&&(d.value=m),h(d)},(d,m)=>{d.length?h(new xn(d,m,void 0,void 0,o)):u(m)}))}validateSync(e,n){var r;let a=this.resolve(Object.assign({},n,{value:e})),o,u=(r=n?.disableStackTrace)!=null?r:a.spec.disableStackTrace;return a._validate(e,Object.assign({},n,{sync:!0}),(h,d)=>{throw xn.isError(h)&&(h.value=d),h},(h,d)=>{if(h.length)throw new xn(h,e,void 0,void 0,u);o=d}),o}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(xn.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(xn.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):_l(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=fl({message:n,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=fl({message:n,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Qr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Qr.notNull){return this.nullability(!1,e)}required(e=Qr.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Qr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),a=fl(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(u=>!(u.OPTIONS.name===n.name&&(o||u.OPTIONS.test===a.OPTIONS.test))),r.tests.push(a),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),a=s2(e).map(o=>new ua(o));return a.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new wd(a,n):wd.fromOptions(a,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=fl({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Qr.oneOf){let r=this.clone();return e.forEach(a=>{r._whitelist.add(a),r._blacklist.delete(a)}),r.internalTests.whiteList=fl({message:n,name:"oneOf",skipAbsent:!0,test(a){let o=this.schema._whitelist,u=o.resolveAll(this.resolve);return u.includes(a)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:u}})}}),r}notOneOf(e,n=Qr.notOneOf){let r=this.clone();return e.forEach(a=>{r._blacklist.add(a),r._whitelist.delete(a)}),r.internalTests.blacklist=fl({message:n,name:"notOneOf",test(a){let o=this.schema._blacklist,u=o.resolveAll(this.resolve);return u.includes(a)?this.createError({params:{values:Array.from(o).join(", "),resolved:u}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:a,optional:o,nullable:u}=n.spec;return{meta:a,label:r,optional:o,nullable:u,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((d,m,y)=>y.findIndex(b=>b.OPTIONS.name===d.OPTIONS.name)===m).map(d=>{const m=d.OPTIONS.params&&e?u2(Object.assign({},d.OPTIONS.params),e):d.OPTIONS.params;return{name:d.OPTIONS.name,params:m}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(a){if(a instanceof xn)return{issues:h2(a)};throw a}}}}};dr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])dr.prototype[`${t}At`]=function(e,n,r={}){const{parent:a,parentPath:o,schema:u}=nk(this,e,n,r.context);return u[t](a&&a[o],Object.assign({},r,{parent:a,path:e}))};for(const t of["equals","is"])dr.prototype[t]=dr.prototype.oneOf;for(const t of["not","nope"])dr.prototype[t]=dr.prototype.notOneOf;function f2(){return new d2}class d2 extends dr{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Hy.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Tr(n)||n===!0}})}isFalse(e=Hy.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Tr(n)||n===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}f2.prototype=d2.prototype;const sk=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ak(t){const e=Gy(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Gy(t){var e,n;const r=sk.exec(t);return r?{year:zi(r[1]),month:zi(r[2],1)-1,day:zi(r[3],1),hour:zi(r[4]),minute:zi(r[5]),second:zi(r[6]),millisecond:r[7]?zi(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:zi(r[10]),minuteOffset:zi(r[11])}:null}function zi(t,e=0){return Number(t)||e}let ok=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,lk=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,uk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ck="^\\d{4}-\\d{2}-\\d{2}",hk="\\d{2}:\\d{2}:\\d{2}",fk="(([+-]\\d{2}(:?\\d{2})?)|Z)",dk=new RegExp(`${ck}T${hk}(\\.\\d+)?${fk}$`),pk=t=>Tr(t)||t===t.trim(),mk={}.toString();function Sn(){return new p2}class p2 extends dr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===mk?e:a})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Qr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=On.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=On.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=On.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,a,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:a,name:o}=n:a=n),this.test({name:o||"matches",message:a||On.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&r||u.search(e)!==-1})}email(e=On.email){return this.matches(ok,{name:"email",message:e,excludeEmptyString:!0})}url(e=On.url){return this.matches(lk,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=On.uuid){return this.matches(uk,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,a;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:a=void 0}=e:n=e),this.matches(dk,{name:"datetime",message:n||On.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||On.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:o=>{if(!o||r)return!0;const u=Gy(o);return u?!!u.z:!1}}).test({name:"datetime_precision",message:n||On.datetime_precision,params:{precision:a},skipAbsent:!0,test:o=>{if(!o||a==null)return!0;const u=Gy(o);return u?u.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=On.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:pk})}lowercase(e=On.lowercase){return this.transform(n=>Tr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Tr(n)||n===n.toLowerCase()})}uppercase(e=On.uppercase){return this.transform(n=>Tr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Tr(n)||n===n.toUpperCase()})}}Sn.prototype=p2.prototype;let gk=t=>t!=+t;function m2(){return new g2}class g2 extends dr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!gk(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return r.isType(a)||a===null?a:parseFloat(a)})})}min(e,n=ks.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=ks.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=ks.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=ks.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=ks.positive){return this.moreThan(0,e)}negative(e=ks.negative){return this.lessThan(0,e)}integer(e=ks.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Tr(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(a=>Tr(a)?a:Math[e](a))}}m2.prototype=g2.prototype;let yk=new Date(""),vk=t=>Object.prototype.toString.call(t)==="[object Date]";class av extends dr{constructor(){super({type:"date",check(e){return vk(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=ak(e),isNaN(e)?av.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ua.isRef(e))r=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=a}return r}min(e,n=$y.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(r)}})}max(e,n=$y.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(r)}})}}av.INVALID_DATE=yk;function _k(t,e=[]){let n=[],r=new Set,a=new Set(e.map(([u,h])=>`${u}-${h}`));function o(u,h){let d=Xa.split(u)[0];r.add(d),a.has(`${h}-${d}`)||n.push([h,d])}for(const u of Object.keys(t)){let h=t[u];r.add(u),ua.isRef(h)&&h.isSibling?o(h.path,u):sv(h)&&"deps"in h&&h.deps.forEach(d=>o(d,u))}return H4.array(Array.from(r),n).reverse()}function MT(t,e){let n=1/0;return t.some((r,a)=>{var o;if((o=e.path)!=null&&o.includes(r))return n=a,!0}),n}function y2(t){return(e,n)=>MT(t,e)-MT(t,n)}const bk=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function od(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=od(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=od(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(od)}):"optional"in t?t.optional():t}const Ek=(t,e)=>{const n=[...Xa.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),a=Xa.getter(Xa.join(n),!0)(t);return!!(a&&r in a)};let jT=t=>Object.prototype.toString.call(t)==="[object Object]";function kT(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const wk=y2([]);function nh(t){return new v2(t)}class v2 extends dr{constructor(e){super({type:"object",check(n){return jT(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=wk,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let a=super._cast(e,n);if(a===void 0)return this.getDefault(n);if(!this._typeCheck(a))return a;let o=this.fields,u=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,h=[].concat(this._nodes,Object.keys(a).filter(b=>!this._nodes.includes(b))),d={},m=Object.assign({},n,{parent:d,__validating:n.__validating||!1}),y=!1;for(const b of h){let E=o[b],x=b in a;if(E){let A,M=a[b];m.path=(n.path?`${n.path}.`:"")+b,E=E.resolve({value:M,context:n.context,parent:d});let O=E instanceof dr?E.spec:void 0,P=O?.strict;if(O!=null&&O.strip){y=y||b in a;continue}A=!n.__validating||!P?E.cast(a[b],m):a[b],A!==void 0&&(d[b]=A)}else x&&!u&&(d[b]=a[b]);(x!==b in d||d[b]!==a[b])&&(y=!0)}return y?d:a}_validate(e,n={},r,a){let{from:o=[],originalValue:u=e,recursive:h=this.spec.recursive}=n;n.from=[{schema:this,value:u},...o],n.__validating=!0,n.originalValue=u,super._validate(e,n,r,(d,m)=>{if(!h||!jT(m)){a(d,m);return}u=u||m;let y=[];for(let b of this._nodes){let E=this.fields[b];!E||ua.isRef(E)||y.push(E.asNestedTest({options:n,key:b,parent:m,parentPath:n.path,originalParent:u}))}this.runTests({tests:y,value:m,originalValue:u,options:n},r,b=>{a(b.sort(this._sortErrors).concat(d),m)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[a,o]of Object.entries(this.fields)){const u=r[a];r[a]=u===void 0?o:u}return n.withMutation(a=>a.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var a;const o=this.fields[r];let u=e;(a=u)!=null&&a.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(u):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=_k(e,n),r._sortErrors=y2(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let a=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),a=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),a)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return od(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,a])=>e.includes(r)&&e.includes(a)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let a=Xa.getter(e,!0);return this.transform(o=>{if(!o)return o;let u=o;return Ek(o,e)&&(u=Object.assign({},o),r||delete u[e],u[n]=a(o)),u})}json(){return this.transform(bk)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||ad.exact,test(n){if(n==null)return!0;const r=kT(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=ad.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(a){if(a==null)return!0;const o=kT(this.schema,a);return!e||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=ad.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const a of Object.keys(n))r[e(a)]=n[a];return r})}camelCase(){return this.transformKeys(dy.camelCase)}snakeCase(){return this.transformKeys(dy.snakeCase)}constantCase(){return this.transformKeys(e=>dy.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[o,u]of Object.entries(n.fields)){var a;let h=e;(a=h)!=null&&a.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[o]})),r.fields[o]=u.describe(h)}return r}}nh.prototype=v2.prototype;function ov({title:t,subtitle:e,children:n,from:r="from-[#49BBBD]",via:a="via-[#36A2A4]",to:o="to-[#2F7E80]",imageSrc:u,imageAlt:h="Illustration"}){return _.jsx("div",{className:"h-[calc(100svh-var(--nav-h))] bg-white",children:_.jsxs("div",{className:"grid h-full min-h-0 grid-cols-1 lg:grid-cols-2",children:[_.jsxs("aside",{className:"relative hidden h-full overflow-hidden lg:block",children:[_.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r} ${a} ${o}`}),_.jsx("div",{className:"absolute -top-24 -left-24 h-96 w-96 rounded-full bg-white/10 blur-3xl"}),_.jsx("div",{className:"absolute -right-24 -bottom-24 h-96 w-96 rounded-full bg-white/10 blur-3xl"}),_.jsx("div",{className:"relative z-10 flex h-full flex-col p-8 xl:p-10",children:_.jsx("div",{className:"mt-6 flex-1",children:_.jsx("div",{className:"h-full w-full overflow-hidden rounded-3xl bg-white/10 ring-1 ring-white/15",children:u?_.jsx("img",{src:u,alt:h,className:"h-full w-full object-cover"}):_.jsx("div",{className:"grid h-full w-full place-items-center text-sm text-white/70",children:"[ Illustration Placeholder ]"})})})})]}),_.jsx("section",{className:"relative h-full min-h-0 overflow-y-auto",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",scrollbarGutter:"stable both-edges"},children:_.jsx("div",{className:"mx-auto flex min-h-full w-full max-w-xl px-6 sm:px-10",children:_.jsxs("div",{className:"my-auto w-full py-10",children:[_.jsxs("header",{className:"mb-6",children:[_.jsx("h1",{className:"text-[28px] font-extrabold text-gray-900 sm:text-3xl",children:t}),e?_.jsx("p",{className:"mt-1 text-gray-600",children:e}):null]}),_.jsxs("div",{className:"rounded-2xl border border-gray-200/70 bg-white p-6 shadow-sm sm:p-7",children:[_.jsx("div",{className:"min-h-8","aria-hidden":"true"}),n]}),_.jsx("div",{className:"h-6"})]})})})]})})}function ld({id:t,name:e,label:n,type:r="text",placeholder:a,autoComplete:o,as:u,children:h,size:d="xl"}){const m={md:"px-3 py-2.5 text-[15px] rounded-lg",lg:"px-3 py-3 text-base rounded-xl",xl:"px-3.5 py-3.5 text-[17px] rounded-2xl"},y=m[d]||m.xl,b=u||Kr;return _.jsxs("div",{children:[n?_.jsx("label",{htmlFor:t||e,className:"block text-[0.95rem] font-medium text-gray-800",children:n}):null,_.jsx(b,{id:t||e,name:e,type:u?void 0:r,placeholder:a,autoComplete:o,className:`mt-1 w-full border border-gray-300 ${y} bg-white shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none`,children:h}),_.jsx("div",{className:"mt-1 h-5",children:_.jsx($i,{name:e,component:"p",className:"text-xs text-red-600"})})]})}var _2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LT=Hs.createContext&&Hs.createContext(_2),Tk=["attr","size","title"];function xk(t,e){if(t==null)return{};var n=Sk(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sk(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){Ak(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ak(t,e,n){return e=Rk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rk(t){var e=Ck(t,"string");return typeof e=="symbol"?e:e+""}function Ck(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b2(t){return t&&t.map((e,n)=>Hs.createElement(e.tag,Sd({key:n},e.attr),b2(e.child)))}function Ut(t){return e=>Hs.createElement(Ik,xd({attr:Sd({},t.attr)},e),b2(t.child))}function Ik(t){var e=n=>{var{attr:r,size:a,title:o}=t,u=xk(t,Tk),h=a||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Hs.createElement("svg",xd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:d,style:Sd(Sd({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Hs.createElement("title",null,o),t.children)};return LT!==void 0?Hs.createElement(LT.Consumer,null,n=>e(n)):e(_2)}function E2(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function lv(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(t)}function uv(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(t)}function w2(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(t)}function Nk(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function T2(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function x2(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function Ok(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Ad(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function Dk(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Pk(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Mk(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function jk(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function S2(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function kk(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function A2(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function R2(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function C2(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function Rd(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function I2(t){return Ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function Ky({name:t,label:e="Password",placeholder:n,autoComplete:r="current-password"}){const[a,o]=D.useState(!1),u=()=>o(h=>!h);return _.jsxs("div",{children:[_.jsx("label",{htmlFor:t,className:"block text-[0.95rem] font-medium text-gray-800",children:e}),_.jsxs("div",{className:"relative mt-1",children:[_.jsx(Kr,{id:t,name:t,type:a?"text":"password",placeholder:n,autoComplete:r,className:"w-full rounded-2xl border border-gray-300 bg-white px-3.5 py-3 pr-12 text-[16px] shadow-sm focus:ring-2 focus:ring-blue-600 focus:outline-none"}),_.jsxs("button",{type:"button",onClick:u,"aria-label":a?"Hide password":"Show password","aria-pressed":a,className:"absolute inset-y-0 right-2 my-1 flex items-center rounded-lg px-2 text-gray-500 hover:text-gray-700 focus:ring-2 focus:ring-blue-600 focus:outline-none",children:[a?_.jsx(Dk,{className:"h-5 w-5"}):_.jsx(Pk,{className:"h-5 w-5"}),_.jsx("span",{className:"sr-only",children:a?"Hide password":"Show password"})]})]}),_.jsx("div",{className:"mt-1 h-5",children:_.jsx($i,{name:t,component:"p",className:"text-xs text-red-600"})})]})}var py={exports:{}},my={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function Lk(){if(UT)return my;UT=1;var t=ap();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,h=t.useDebugValue;return my.useSyncExternalStoreWithSelector=function(d,m,y,b,E){var x=a(null);if(x.current===null){var A={hasValue:!1,value:null};x.current=A}else A=x.current;x=u(function(){function O(F){if(!P){if(P=!0,V=F,F=b(F),E!==void 0&&A.hasValue){var Y=A.value;if(E(Y,F))return q=Y}return q=F}if(Y=q,n(V,F))return Y;var N=b(F);return E!==void 0&&E(Y,N)?(V=F,Y):(V=F,q=N)}var P=!1,V,q,ne=y===void 0?null:y;return[function(){return O(m())},ne===null?void 0:function(){return O(ne())}]},[m,y,b,E]);var M=r(d,x[0],x[1]);return o(function(){A.hasValue=!0,A.value=M},[M]),h(M),M},my}var FT;function Vk(){return FT||(FT=1,py.exports=Lk()),py.exports}var Uk=Vk();function Fk(t){t()}function Bk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Fk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var BT={notify(){},get:()=>[]};function zk(t,e){let n,r=BT,a=0,o=!1;function u(M){y();const O=r.subscribe(M);let P=!1;return()=>{P||(P=!0,O(),b())}}function h(){r.notify()}function d(){A.onStateChange&&A.onStateChange()}function m(){return o}function y(){a++,n||(n=t.subscribe(d),r=Bk())}function b(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=BT)}function E(){o||(o=!0,y())}function x(){o&&(o=!1,b())}const A={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:d,isSubscribed:m,trySubscribe:E,tryUnsubscribe:x,getListeners:()=>r};return A}var qk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$k=qk(),Hk=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gk=Hk(),Kk=()=>$k||Gk?D.useLayoutEffect:D.useEffect,Qk=Kk(),Yk=Symbol.for("react-redux-context"),Xk=typeof globalThis<"u"?globalThis:{};function Wk(){if(!D.createContext)return{};const t=Xk[Yk]??=new Map;let e=t.get(D.createContext);return e||(e=D.createContext(null),t.set(D.createContext,e)),e}var ea=Wk();function Zk(t){const{children:e,context:n,serverState:r,store:a}=t,o=D.useMemo(()=>{const d=zk(a);return{store:a,subscription:d,getServerState:r?()=>r:void 0}},[a,r]),u=D.useMemo(()=>a.getState(),[a]);Qk(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,u]);const h=n||ea;return D.createElement(h.Provider,{value:o},e)}var Jk=Zk;function cv(t=ea){return function(){return D.useContext(t)}}var N2=cv();function O2(t=ea){const e=t===ea?N2:cv(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var e3=O2();function t3(t=ea){const e=t===ea?e3:O2(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var pp=t3(),n3=(t,e)=>t===e;function r3(t=ea){const e=t===ea?N2:cv(t),n=(r,a={})=>{const{equalityFn:o=n3}=typeof a=="function"?{equalityFn:a}:a,u=e(),{store:h,subscription:d,getServerState:m}=u;D.useRef(!0);const y=D.useCallback({[r.name](E){return r(E)}}[r.name],[r]),b=Uk.useSyncExternalStoreWithSelector(d.addNestedSub,h.getState,m||h.getState,y,o);return D.useDebugValue(b),b};return Object.assign(n,{withTypes:()=>n}),n}var Cl=r3();function an(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var i3=typeof Symbol=="function"&&Symbol.observable||"@@observable",zT=i3,gy=()=>Math.random().toString(36).substring(7).split("").join("."),s3={INIT:`@@redux/INIT${gy()}`,REPLACE:`@@redux/REPLACE${gy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gy()}`},Cd=s3;function hv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function D2(t,e,n){if(typeof t!="function")throw new Error(an(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(an(1));return n(D2)(t,e)}let r=t,a=e,o=new Map,u=o,h=0,d=!1;function m(){u===o&&(u=new Map,o.forEach((O,P)=>{u.set(P,O)}))}function y(){if(d)throw new Error(an(3));return a}function b(O){if(typeof O!="function")throw new Error(an(4));if(d)throw new Error(an(5));let P=!0;m();const V=h++;return u.set(V,O),function(){if(P){if(d)throw new Error(an(6));P=!1,m(),u.delete(V),o=null}}}function E(O){if(!hv(O))throw new Error(an(7));if(typeof O.type>"u")throw new Error(an(8));if(typeof O.type!="string")throw new Error(an(17));if(d)throw new Error(an(9));try{d=!0,a=r(a,O)}finally{d=!1}return(o=u).forEach(V=>{V()}),O}function x(O){if(typeof O!="function")throw new Error(an(10));r=O,E({type:Cd.REPLACE})}function A(){const O=b;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(an(11));function V(){const ne=P;ne.next&&ne.next(y())}return V(),{unsubscribe:O(V)}},[zT](){return this}}}return E({type:Cd.INIT}),{dispatch:E,subscribe:b,getState:y,replaceReducer:x,[zT]:A}}function a3(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Cd.INIT})>"u")throw new Error(an(12));if(typeof n(void 0,{type:Cd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function o3(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const u=e[o];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let a;try{a3(n)}catch(o){a=o}return function(u={},h){if(a)throw a;let d=!1;const m={};for(let y=0;y<r.length;y++){const b=r[y],E=n[b],x=u[b],A=E(x,h);if(typeof A>"u")throw h&&h.type,new Error(an(14));m[b]=A,d=d||A!==x}return d=d||r.length!==Object.keys(u).length,d?m:u}}function Id(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function l3(...t){return e=>(n,r)=>{const a=e(n,r);let o=()=>{throw new Error(an(15))};const u={getState:a.getState,dispatch:(d,...m)=>o(d,...m)},h=t.map(d=>d(u));return o=Id(...h)(a.dispatch),{...a,dispatch:o}}}function P2(t){return hv(t)&&"type"in t&&typeof t.type=="string"}var M2=Symbol.for("immer-nothing"),qT=Symbol.for("immer-draftable"),Qn=Symbol.for("immer-state");function wr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Il=Object.getPrototypeOf;function io(t){return!!t&&!!t[Qn]}function Wi(t){return t?j2(t)||Array.isArray(t)||!!t[qT]||!!t.constructor?.[qT]||rh(t)||gp(t):!1}var u3=Object.prototype.constructor.toString();function j2(t){if(!t||typeof t!="object")return!1;const e=Il(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===u3}function Nd(t,e){mp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function mp(t){const e=t[Qn];return e?e.type_:Array.isArray(t)?1:rh(t)?2:gp(t)?3:0}function Qy(t,e){return mp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function k2(t,e,n){const r=mp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function c3(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function rh(t){return t instanceof Map}function gp(t){return t instanceof Set}function Ga(t){return t.copy_||t.base_}function Yy(t,e){if(rh(t))return new Map(t);if(gp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=j2(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Qn];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const u=a[o],h=r[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[u]})}return Object.create(Il(t),r)}else{const r=Il(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function fv(t,e=!1){return yp(t)||io(t)||!Wi(t)||(mp(t)>1&&Object.defineProperties(t,{set:{value:Hf},add:{value:Hf},clear:{value:Hf},delete:{value:Hf}}),Object.freeze(t),e&&Object.values(t).forEach(n=>fv(n,!0))),t}function Hf(){wr(2)}function yp(t){return Object.isFrozen(t)}var h3={};function so(t){const e=h3[t];return e||wr(0,t),e}var Mc;function L2(){return Mc}function f3(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $T(t,e){e&&(so("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Xy(t){Wy(t),t.drafts_.forEach(d3),t.drafts_=null}function Wy(t){t===Mc&&(Mc=t.parent_)}function HT(t){return Mc=f3(Mc,t)}function d3(t){const e=t[Qn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Qn].modified_&&(Xy(e),wr(4)),Wi(t)&&(t=Od(e,t),e.parent_||Dd(e,t)),e.patches_&&so("Patches").generateReplacementPatches_(n[Qn].base_,t,e.patches_,e.inversePatches_)):t=Od(e,n,[]),Xy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==M2?t:void 0}function Od(t,e,n){if(yp(e))return e;const r=e[Qn];if(!r)return Nd(e,(a,o)=>KT(t,r,e,a,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Dd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,u=!1;r.type_===3&&(o=new Set(a),a.clear(),u=!0),Nd(o,(h,d)=>KT(t,r,a,h,d,n,u)),Dd(t,a,!1),n&&t.patches_&&so("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function KT(t,e,n,r,a,o,u){if(io(a)){const h=o&&e&&e.type_!==3&&!Qy(e.assigned_,r)?o.concat(r):void 0,d=Od(t,a,h);if(k2(n,r,d),io(d))t.canAutoFreeze_=!1;else return}else u&&n.add(a);if(Wi(a)&&!yp(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Od(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(rh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Dd(t,a)}}function Dd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&fv(e,n)}function p3(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:L2(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=dv;n&&(a=[r],o=jc);const{revoke:u,proxy:h}=Proxy.revocable(a,o);return r.draft_=h,r.revoke_=u,h}var dv={get(t,e){if(e===Qn)return t;const n=Ga(t);if(!Qy(n,e))return m3(t,n,e);const r=n[e];return t.finalized_||!Wi(r)?r:r===yy(t.base_,e)?(vy(t),t.copy_[e]=Jy(r,t)):r},has(t,e){return e in Ga(t)},ownKeys(t){return Reflect.ownKeys(Ga(t))},set(t,e,n){const r=V2(Ga(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=yy(Ga(t),e),o=a?.[Qn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(c3(n,a)&&(n!==void 0||Qy(t.base_,e)))return!0;vy(t),Zy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return yy(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,vy(t),Zy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ga(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){wr(11)},getPrototypeOf(t){return Il(t.base_)},setPrototypeOf(){wr(12)}},jc={};Nd(dv,(t,e)=>{jc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jc.deleteProperty=function(t,e){return jc.set.call(this,t,e,void 0)};jc.set=function(t,e,n){return dv.set.call(this,t[0],e,n,t[0])};function yy(t,e){const n=t[Qn];return(n?Ga(n):t)[e]}function m3(t,e,n){const r=V2(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function V2(t,e){if(!(e in t))return;let n=Il(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Il(n)}}function Zy(t){t.modified_||(t.modified_=!0,t.parent_&&Zy(t.parent_))}function vy(t){t.copy_||(t.copy_=Yy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var g3=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const u=this;return function(d=o,...m){return u.produce(d,y=>n.call(this,y,...m))}}typeof n!="function"&&wr(6),r!==void 0&&typeof r!="function"&&wr(7);let a;if(Wi(e)){const o=HT(this),u=Jy(e,void 0);let h=!0;try{a=n(u),h=!1}finally{h?Xy(o):Wy(o)}return $T(o,r),GT(a,o)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===M2&&(a=void 0),this.autoFreeze_&&fv(a,!0),r){const o=[],u=[];so("Patches").generateReplacementPatches_(e,a,o,u),r(o,u)}return a}else wr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,d=>e(d,...h));let r,a;return[this.produce(e,n,(u,h)=>{r=u,a=h}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Wi(t)||wr(8),io(t)&&(t=y3(t));const e=HT(this),n=Jy(t,void 0);return n[Qn].isManual_=!0,Wy(e),n}finishDraft(t,e){const n=t&&t[Qn];(!n||!n.isManual_)&&wr(9);const{scope_:r}=n;return $T(r,e),GT(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=so("Patches").applyPatches_;return io(t)?r(t,e):this.produce(t,a=>r(a,e))}};function Jy(t,e){const n=rh(t)?so("MapSet").proxyMap_(t,e):gp(t)?so("MapSet").proxySet_(t,e):p3(t,e);return(e?e.scope_:L2()).drafts_.push(n),n}function y3(t){return io(t)||wr(10,t),U2(t)}function U2(t){if(!Wi(t)||yp(t))return t;const e=t[Qn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Yy(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Yy(t,!0);return Nd(n,(r,a)=>{k2(n,r,U2(a))}),e&&(e.finalized_=!1),n}var v3=new g3,F2=v3.produce;function B2(t){return({dispatch:n,getState:r})=>a=>o=>typeof o=="function"?o(n,r,t):a(o)}var _3=B2(),b3=B2,E3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Id:Id.apply(null,arguments)},w3=t=>t&&typeof t.match=="function";function Qi(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Kn(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>P2(r)&&r.type===t,n}var z2=class dc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dc(...e[0].concat(this)):new dc(...e.concat(this))}};function QT(t){return Wi(t)?F2(t,()=>{}):t}function Gf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function T3(t){return typeof t=="boolean"}var x3=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let u=new z2;return n&&(T3(n)?u.push(_3):u.push(b3(n.extraArgument))),u},S3="RTK_autoBatch",YT=t=>e=>{setTimeout(e,t)},A3=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,o=!1,u=!1;const h=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YT(10):t.type==="callback"?t.queueNotification:YT(t.timeout),m=()=>{u=!1,o&&(o=!1,h.forEach(y=>y()))};return Object.assign({},r,{subscribe(y){const b=()=>a&&y(),E=r.subscribe(b);return h.add(y),()=>{E(),h.delete(y)}},dispatch(y){try{return a=!y?.meta?.[S3],o=!a,o&&(u||(u=!0,d(m))),r.dispatch(y)}finally{a=!0}}})},R3=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new z2(t);return r&&a.push(A3(typeof r=="object"?r:void 0)),a};function C3(t){const e=x3(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:o=void 0,enhancers:u=void 0}=t||{};let h;if(typeof n=="function")h=n;else if(hv(n))h=o3(n);else throw new Error(Kn(1));let d;typeof r=="function"?d=r(e):d=e();let m=Id;a&&(m=E3({trace:!1,...typeof a=="object"&&a}));const y=l3(...d),b=R3(y);let E=typeof u=="function"?u(b):b();const x=m(...E);return D2(h,o,x)}function q2(t){const e={},n=[];let r;const a={addCase(o,u){const h=typeof o=="string"?o:o.type;if(!h)throw new Error(Kn(28));if(h in e)throw new Error(Kn(29));return e[h]=u,a},addAsyncThunk(o,u){return u.pending&&(e[o.pending.type]=u.pending),u.rejected&&(e[o.rejected.type]=u.rejected),u.fulfilled&&(e[o.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:o.settled,reducer:u.settled}),a},addMatcher(o,u){return n.push({matcher:o,reducer:u}),a},addDefaultCase(o){return r=o,a}};return t(a),[e,n,r]}function I3(t){return typeof t=="function"}function N3(t,e){let[n,r,a]=q2(e),o;if(I3(t))o=()=>QT(t());else{const h=QT(t);o=()=>h}function u(h=o(),d){let m=[n[d.type],...r.filter(({matcher:y})=>y(d)).map(({reducer:y})=>y)];return m.filter(y=>!!y).length===0&&(m=[a]),m.reduce((y,b)=>{if(b)if(io(y)){const x=b(y,d);return x===void 0?y:x}else{if(Wi(y))return F2(y,E=>b(E,d));{const E=b(y,d);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},h)}return u.getInitialState=o,u}var O3=(t,e)=>w3(t)?t.match(e):t(e);function D3(...t){return e=>t.some(n=>O3(n,e))}var P3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$2=(t=21)=>{let e="",n=t;for(;n--;)e+=P3[Math.random()*64|0];return e},M3=["name","message","stack","code"],_y=class{constructor(t,e){this.payload=t,this.meta=e}_type},XT=class{constructor(t,e){this.payload=t,this.meta=e}_type},j3=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of M3)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},WT="External signal was aborted",vp=(()=>{function t(e,n,r){const a=Qi(e+"/fulfilled",(d,m,y,b)=>({payload:d,meta:{...b||{},arg:y,requestId:m,requestStatus:"fulfilled"}})),o=Qi(e+"/pending",(d,m,y)=>({payload:void 0,meta:{...y||{},arg:m,requestId:d,requestStatus:"pending"}})),u=Qi(e+"/rejected",(d,m,y,b,E)=>({payload:b,error:(r&&r.serializeError||j3)(d||"Rejected"),meta:{...E||{},arg:y,requestId:m,rejectedWithValue:!!b,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function h(d,{signal:m}={}){return(y,b,E)=>{const x=r?.idGenerator?r.idGenerator(d):$2(),A=new AbortController;let M,O;function P(q){O=q,A.abort()}m&&(m.aborted?P(WT):m.addEventListener("abort",()=>P(WT),{once:!0}));const V=(async function(){let q;try{let F=r?.condition?.(d,{getState:b,extra:E});if(L3(F)&&(F=await F),F===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const Y=new Promise((N,C)=>{M=()=>{C({name:"AbortError",message:O||"Aborted"})},A.signal.addEventListener("abort",M)});y(o(x,d,r?.getPendingMeta?.({requestId:x,arg:d},{getState:b,extra:E}))),q=await Promise.race([Y,Promise.resolve(n(d,{dispatch:y,getState:b,extra:E,requestId:x,signal:A.signal,abort:P,rejectWithValue:(N,C)=>new _y(N,C),fulfillWithValue:(N,C)=>new XT(N,C)})).then(N=>{if(N instanceof _y)throw N;return N instanceof XT?a(N.payload,x,d,N.meta):a(N,x,d)})])}catch(F){q=F instanceof _y?u(null,x,d,F.payload,F.meta):u(F,x,d)}finally{M&&A.signal.removeEventListener("abort",M)}return r&&!r.dispatchConditionRejection&&u.match(q)&&q.meta.condition||y(q),q})();return Object.assign(V,{abort:P,requestId:x,arg:d,unwrap(){return V.then(k3)}})}}return Object.assign(h,{pending:o,rejected:u,fulfilled:a,settled:D3(u,a),typePrefix:e})}return t.withTypes=()=>t,t})();function k3(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function L3(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var V3=Symbol.for("rtk-slice-createasyncthunk");function U3(t,e){return`${t}/${e}`}function F3({creators:t}={}){const e=t?.asyncThunk?.[V3];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(Kn(11));const u=(typeof r.reducers=="function"?r.reducers(q3()):r.reducers)||{},h=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(q,ne){const F=typeof q=="string"?q:q.type;if(!F)throw new Error(Kn(12));if(F in d.sliceCaseReducersByType)throw new Error(Kn(13));return d.sliceCaseReducersByType[F]=ne,m},addMatcher(q,ne){return d.sliceMatchers.push({matcher:q,reducer:ne}),m},exposeAction(q,ne){return d.actionCreators[q]=ne,m},exposeCaseReducer(q,ne){return d.sliceCaseReducersByName[q]=ne,m}};h.forEach(q=>{const ne=u[q],F={reducerName:q,type:U3(a,q),createNotation:typeof r.reducers=="function"};H3(ne)?K3(F,ne,m,e):$3(F,ne,m)});function y(){const[q={},ne=[],F=void 0]=typeof r.extraReducers=="function"?q2(r.extraReducers):[r.extraReducers],Y={...q,...d.sliceCaseReducersByType};return N3(r.initialState,N=>{for(let C in Y)N.addCase(C,Y[C]);for(let C of d.sliceMatchers)N.addMatcher(C.matcher,C.reducer);for(let C of ne)N.addMatcher(C.matcher,C.reducer);F&&N.addDefaultCase(F)})}const b=q=>q,E=new Map,x=new WeakMap;let A;function M(q,ne){return A||(A=y()),A(q,ne)}function O(){return A||(A=y()),A.getInitialState()}function P(q,ne=!1){function F(N){let C=N[q];return typeof C>"u"&&ne&&(C=Gf(x,F,O)),C}function Y(N=b){const C=Gf(E,ne,()=>new WeakMap);return Gf(C,N,()=>{const I={};for(const[L,U]of Object.entries(r.selectors??{}))I[L]=B3(U,N,()=>Gf(x,N,O),ne);return I})}return{reducerPath:q,getSelectors:Y,get selectors(){return Y(F)},selectSlice:F}}const V={name:a,reducer:M,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:O,...P(o),injectInto(q,{reducerPath:ne,...F}={}){const Y=ne??o;return q.inject({reducerPath:Y,reducer:M},F),{...V,...P(Y,!0)}}};return V}}function B3(t,e,n,r){function a(o,...u){let h=e(o);return typeof h>"u"&&r&&(h=n()),t(h,...u)}return a.unwrapped=t,a}var z3=F3();function q3(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function $3({type:t,reducerName:e,createNotation:n},r,a){let o,u;if("reducer"in r){if(n&&!G3(r))throw new Error(Kn(17));o=r.reducer,u=r.prepare}else o=r;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,u?Qi(t,u):Qi(t))}function H3(t){return t._reducerDefinitionType==="asyncThunk"}function G3(t){return t._reducerDefinitionType==="reducerWithPrepare"}function K3({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Kn(18));const{payloadCreator:o,fulfilled:u,pending:h,rejected:d,settled:m,options:y}=n,b=a(t,o,y);r.exposeAction(e,b),u&&r.addCase(b.fulfilled,u),h&&r.addCase(b.pending,h),d&&r.addCase(b.rejected,d),m&&r.addMatcher(b.settled,m),r.exposeCaseReducer(e,{fulfilled:u||Kf,pending:h||Kf,rejected:d||Kf,settled:m||Kf})}function Kf(){}var Q3="task",H2="listener",G2="completed",pv="cancelled",Y3=`task-${pv}`,X3=`task-${G2}`,e0=`${H2}-${pv}`,W3=`${H2}-${G2}`,_p=class{constructor(t){this.code=t,this.message=`${Q3} ${pv} (reason: ${t})`}name="TaskAbortError";message},mv=(t,e)=>{if(typeof t!="function")throw new TypeError(Kn(32))},Pd=()=>{},K2=(t,e=Pd)=>(t.catch(e),t),Q2=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Wa=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Za=t=>{if(t.aborted){const{reason:e}=t;throw new _p(e)}};function Y2(t,e){let n=Pd;return new Promise((r,a)=>{const o=()=>a(new _p(t.reason));if(t.aborted){o();return}n=Q2(t,o),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Pd})}var Z3=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof _p?"cancelled":"rejected",error:n}}finally{e?.()}},Md=t=>e=>K2(Y2(t,e).then(n=>(Za(t),n))),X2=t=>{const e=Md(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:El}=Object,ZT={},bp="listenerMiddleware",J3=(t,e)=>{const n=r=>Q2(t,()=>Wa(r,t.reason));return(r,a)=>{mv(r);const o=new AbortController;n(o);const u=Z3(async()=>{Za(t),Za(o.signal);const h=await r({pause:Md(o.signal),delay:X2(o.signal),signal:o.signal});return Za(o.signal),h},()=>Wa(o,X3));return a?.autoJoin&&e.push(u.catch(Pd)),{result:Md(t)(u),cancel(){Wa(o,Y3)}}}},e6=(t,e)=>{const n=async(r,a)=>{Za(e);let o=()=>{};const h=[new Promise((d,m)=>{let y=t({predicate:r,effect:(b,E)=>{E.unsubscribe(),d([b,E.getState(),E.getOriginalState()])}});o=()=>{y(),m()}})];a!=null&&h.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await Y2(e,Promise.race(h));return Za(e),d}finally{o()}};return(r,a)=>K2(n(r,a))},W2=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:o}=t;if(e)a=Qi(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Kn(21));return mv(o),{predicate:a,type:e,effect:o}},Z2=El(t=>{const{type:e,predicate:n,effect:r}=W2(t);return{id:$2(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Kn(22))}}},{withTypes:()=>Z2}),JT=(t,e)=>{const{type:n,effect:r,predicate:a}=W2(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===a)&&o.effect===r)},t0=t=>{t.pending.forEach(e=>{Wa(e,e0)})},t6=t=>()=>{t.forEach(t0),t.clear()},ex=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},J2=El(Qi(`${bp}/add`),{withTypes:()=>J2}),n6=Qi(`${bp}/removeAll`),eA=El(Qi(`${bp}/remove`),{withTypes:()=>eA}),r6=(...t)=>{console.error(`${bp}/error`,...t)},i6=(t={})=>{const e=new Map,{extra:n,onError:r=r6}=t;mv(r);const a=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),b=>{y.unsubscribe(),b?.cancelActive&&t0(y)}),o=y=>{const b=JT(e,y)??Z2(y);return a(b)};El(o,{withTypes:()=>o});const u=y=>{const b=JT(e,y);return b&&(b.unsubscribe(),y.cancelActive&&t0(b)),!!b};El(u,{withTypes:()=>u});const h=async(y,b,E,x)=>{const A=new AbortController,M=e6(o,A.signal),O=[];try{y.pending.add(A),await Promise.resolve(y.effect(b,El({},E,{getOriginalState:x,condition:(P,V)=>M(P,V).then(Boolean),take:M,delay:X2(A.signal),pause:Md(A.signal),extra:n,signal:A.signal,fork:J3(A.signal,O),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((P,V,q)=>{P!==A&&(Wa(P,e0),q.delete(P))})},cancel:()=>{Wa(A,e0),y.pending.delete(A)},throwIfCancelled:()=>{Za(A.signal)}})))}catch(P){P instanceof _p||ex(r,P,{raisedBy:"effect"})}finally{await Promise.all(O),Wa(A,W3),y.pending.delete(A)}},d=t6(e);return{middleware:y=>b=>E=>{if(!P2(E))return b(E);if(J2.match(E))return o(E.payload);if(n6.match(E)){d();return}if(eA.match(E))return u(E.payload);let x=y.getState();const A=()=>{if(x===ZT)throw new Error(Kn(23));return x};let M;try{if(M=b(E),e.size>0){const O=y.getState(),P=Array.from(e.values());for(const V of P){let q=!1;try{q=V.predicate(E,O,x)}catch(ne){q=!1,ex(r,ne,{raisedBy:"predicate"})}q&&h(V,E,y,A)}}}finally{x=ZT}return M},startListening:o,stopListening:u,clearListeners:d}};function Kn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const s6=()=>{};var tx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},a6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},nA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,x=m&63;d||(x=64,u||(E=64)),r.push(n[y],n[b],n[E],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||m==null||b==null)throw new o6;const E=o<<2|h>>4;if(r.push(E),m!==64){const x=h<<4&240|m>>2;if(r.push(x),b!==64){const A=m<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l6=function(t){const e=tA(t);return nA.encodeByteArray(e,!0)},jd=function(t){return l6(t).replace(/\./g,"")},rA=function(t){try{return nA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=()=>u6().__FIREBASE_DEFAULTS__,h6=()=>{if(typeof process>"u"||typeof tx>"u")return;const t=tx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rA(t[1]);return e&&JSON.parse(e)},Ep=()=>{try{return s6()||c6()||h6()||f6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iA=t=>Ep()?.emulatorHosts?.[t],d6=t=>{const e=iA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sA=()=>Ep()?.config,aA=t=>Ep()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jd(JSON.stringify(n)),jd(JSON.stringify(u)),""].join(".")}const Tc={};function g6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?t.emulator.push(e):t.prod.push(e);return t}function y6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nx=!1;function lA(t,e){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||Tc[t]===e||Tc[t]||nx)return;Tc[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=g6().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{nx=!0,u()},E}function y(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=y6(r),x=n("text"),A=document.getElementById(x)||document.createElement("span"),M=n("learnmore"),O=document.getElementById(M)||document.createElement("a"),P=n("preprendIcon"),V=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;h(q),y(O,M);const ne=m();d(V,P),q.append(V,A,O,ne),document.body.appendChild(q)}o?(A.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function _6(){const t=Ep()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T6(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x6(){return!_6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S6(){try{return typeof indexedDB=="object"}catch{return!1}}function A6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R6,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.create)}}class ih{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?C6(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new rs(a,h,r)}}function C6(t,e){return t.replace(I6,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const I6=/\{\$([^}]+)}/g;function N6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(rx(o)&&rx(u)){if(!ao(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function rx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function O6(t,e){const n=new D6(t,e);return n.subscribe.bind(n)}class D6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P6(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=by),a.error===void 0&&(a.error=by),a.complete===void 0&&(a.complete=by);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function by(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k6(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j6(t){return t===Ka?void 0:t}function k6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const V6={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},U6=Be.INFO,F6={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},B6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=F6[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let gv=class{constructor(e){this.name=e,this._logLevel=U6,this._logHandler=B6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}};const z6=(t,e)=>e.some(n=>t instanceof n);let ix,sx;function q6(){return ix||(ix=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $6(){return sx||(sx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uA=new WeakMap,n0=new WeakMap,cA=new WeakMap,Ey=new WeakMap,yv=new WeakMap;function H6(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Ks(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&uA.set(n,t)}).catch(()=>{}),yv.set(e,t),e}function G6(t){if(n0.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});n0.set(t,e)}let r0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return n0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K6(t){r0=t(r0)}function Q6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wy(this),e,...n);return cA.set(r,e.sort?e.sort():[e]),Ks(r)}:$6().includes(t)?function(...e){return t.apply(wy(this),e),Ks(uA.get(this))}:function(...e){return Ks(t.apply(wy(this),e))}}function Y6(t){return typeof t=="function"?Q6(t):(t instanceof IDBTransaction&&G6(t),z6(t,q6())?new Proxy(t,r0):t)}function Ks(t){if(t instanceof IDBRequest)return H6(t);if(Ey.has(t))return Ey.get(t);const e=Y6(t);return e!==t&&(Ey.set(t,e),yv.set(e,t)),e}const wy=t=>yv.get(t);function X6(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=Ks(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ks(u.result),d.oldVersion,d.newVersion,Ks(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const W6=["get","getKey","getAll","getAllKeys","count"],Z6=["put","add","delete","clear"],Ty=new Map;function ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ty.get(e))return Ty.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Z6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||W6.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Ty.set(e,o),o}K6(t=>({...t,get:(e,n,r)=>ax(e,n)||t.get(e,n,r),has:(e,n)=>!!ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eL(t){return t.getComponent()?.type==="VERSION"}const i0="@firebase/app",ox="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new gv("@firebase/app"),tL="@firebase/app-compat",nL="@firebase/analytics-compat",rL="@firebase/analytics",iL="@firebase/app-check-compat",sL="@firebase/app-check",aL="@firebase/auth",oL="@firebase/auth-compat",lL="@firebase/database",uL="@firebase/data-connect",cL="@firebase/database-compat",hL="@firebase/functions",fL="@firebase/functions-compat",dL="@firebase/installations",pL="@firebase/installations-compat",mL="@firebase/messaging",gL="@firebase/messaging-compat",yL="@firebase/performance",vL="@firebase/performance-compat",_L="@firebase/remote-config",bL="@firebase/remote-config-compat",EL="@firebase/storage",wL="@firebase/storage-compat",TL="@firebase/firestore",xL="@firebase/ai",SL="@firebase/firestore-compat",AL="firebase",RL="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="[DEFAULT]",CL={[i0]:"fire-core",[tL]:"fire-core-compat",[rL]:"fire-analytics",[nL]:"fire-analytics-compat",[sL]:"fire-app-check",[iL]:"fire-app-check-compat",[aL]:"fire-auth",[oL]:"fire-auth-compat",[lL]:"fire-rtdb",[uL]:"fire-data-connect",[cL]:"fire-rtdb-compat",[hL]:"fire-fn",[fL]:"fire-fn-compat",[dL]:"fire-iid",[pL]:"fire-iid-compat",[mL]:"fire-fcm",[gL]:"fire-fcm-compat",[yL]:"fire-perf",[vL]:"fire-perf-compat",[_L]:"fire-rc",[bL]:"fire-rc-compat",[EL]:"fire-gcs",[wL]:"fire-gcs-compat",[TL]:"fire-fst",[SL]:"fire-fst-compat",[xL]:"fire-vertex","fire-js":"fire-js",[AL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map,IL=new Map,a0=new Map;function lx(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nl(t){const e=t.name;if(a0.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;a0.set(e,t);for(const n of kd.values())lx(n,t);for(const n of IL.values())lx(n,t);return!0}function vv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new ih("app","Firebase",NL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=RL;function hA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:s0,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Qs.create("bad-app-name",{appName:String(a)});if(n||(n=sA()),!n)throw Qs.create("no-options");const o=kd.get(a);if(o){if(ao(n,o.options)&&ao(r,o.config))return o;throw Qs.create("duplicate-app",{appName:a})}const u=new L6(a);for(const d of a0.values())u.addComponent(d);const h=new OL(n,r,u);return kd.set(a,h),h}function fA(t=s0){const e=kd.get(t);if(!e&&t===s0&&sA())return hA();if(!e)throw Qs.create("no-app",{appName:t});return e}function Ys(t,e,n){let r=CL[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(u.join(" "));return}Nl(new oo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="firebase-heartbeat-database",PL=1,kc="firebase-heartbeat-store";let xy=null;function dA(){return xy||(xy=X6(DL,PL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),xy}async function ML(t){try{const n=(await dA()).transaction(kc),r=await n.objectStore(kc).get(pA(t));return await n.done,r}catch(e){if(e instanceof rs)Zi.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(n.message)}}}async function ux(t,e){try{const r=(await dA()).transaction(kc,"readwrite");await r.objectStore(kc).put(e,pA(t)),await r.done}catch(n){if(n instanceof rs)Zi.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(r.message)}}}function pA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=1024,kL=30;class LL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>kL){const a=FL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cx(),{heartbeatsToSend:n,unsentEntries:r}=VL(this._heartbeatsCache.heartbeats),a=jd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Zi.warn(e),""}}}function cx(){return new Date().toISOString().substring(0,10)}function VL(t,e=jL){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),hx(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),hx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S6()?A6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ML(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ux(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ux(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hx(t){return jd(JSON.stringify({version:2,heartbeats:t})).length}function FL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){Nl(new oo("platform-logger",e=>new J6(e),"PRIVATE")),Nl(new oo("heartbeat",e=>new LL(e),"PRIVATE")),Ys(i0,ox,t),Ys(i0,ox,"esm2020"),Ys("fire-js","")}BL("");var zL="firebase",qL="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(zL,qL,"app");function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $L=mA,gA=new ih("auth","Firebase",mA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new gv("@firebase/auth");function HL(t,...e){Ld.logLevel<=Be.WARN&&Ld.warn(`Auth (${ql}): ${t}`,...e)}function ud(t,...e){Ld.logLevel<=Be.ERROR&&Ld.error(`Auth (${ql}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw _v(t,...e)}function Zr(t,...e){return _v(t,...e)}function yA(t,e,n){const r={...$L(),[e]:n};return new ih("auth","Firebase",r).create(e,{appName:t.name})}function Yi(t){return yA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gA.create(t,...e)}function Re(t,e,...n){if(!t)throw _v(e,...n)}function Hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ud(e),new Error(e)}function Ji(t,e){t||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){return typeof self<"u"&&self.location?.href||""}function GL(){return fx()==="http:"||fx()==="https:"}function fx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GL()||E6()||"connection"in navigator)?navigator.onLine:!0}function QL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=v6()||w6()}get(){return KL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WL=new ah(3e4,6e4);function is(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ci(t,e,n,r,a={}){return _A(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=sh({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...o};return b6()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&zl(t.emulatorConfig.host)&&(m.credentials="include"),vA.fetch()(await bA(t,t.config.apiHost,n,h),m)})}async function _A(t,e,n){t._canInitEmulator=!1;const r={...YL,...e};try{const a=new JL(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Qf(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Qf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Qf(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw yA(t,y,m);Ar(t,y)}}catch(a){if(a instanceof rs)throw a;Ar(t,"network-request-failed",{message:String(a)})}}async function oh(t,e,n,r,a={}){const o=await ci(t,e,n,r,a);return"mfaPendingCredential"in o&&Ar(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function bA(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?bv(t.config,a):`${t.config.apiScheme}://${a}`;return XL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function ZL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),WL.get())})}}function Qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Zr(t,e,r);return a.customData._tokenResponse=n,a}function dx(t){return t!==void 0&&t.enterprise!==void 0}class eV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tV(t,e){return ci(t,"GET","/v2/recaptchaConfig",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e){return ci(t,"POST","/v1/accounts:delete",e)}async function Vd(t,e){return ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rV(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),a=Ev(r);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:xc(Sy(a.auth_time)),issuedAtTime:xc(Sy(a.iat)),expirationTime:xc(Sy(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Sy(t){return Number(t)*1e3}function Ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ud("JWT malformed, contained fewer than 3 sections"),null;try{const a=rA(n);return a?JSON.parse(a):(ud("Failed to decode base64 JWT payload"),null)}catch(a){return ud("Caught error parsing JWT payload as JSON",a?.toString()),null}}function px(t){const e=Ev(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&iV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){const e=t.auth,n=await t.getIdToken(),r=await Ol(t,Vd(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=a.providerUserInfo?.length?EA(a.providerUserInfo):[],u=oV(t.providerData,o),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new l0(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function aV(t){const e=Vt(t);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oV(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function EA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t,e){const n=await _A(t,{},async()=>{const r=sh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await bA(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&zl(t.emulatorConfig.host)&&(d.credentials="include"),vA.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uV(t,e){return ci(t,"POST","/v2/accounts:revokeToken",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=px(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await lV(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new wl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Re(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Re(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xr{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new sV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new l0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rV(this,e)}reload(){return aV(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Ol(this,nV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,o=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:x,providerData:A,stsTokenManager:M}=n;Re(b&&M,e,"internal-error");const O=wl.fromJSON(this.name,M);Re(typeof b=="string",e,"internal-error"),js(r,e.name),js(a,e.name),Re(typeof E=="boolean",e,"internal-error"),Re(typeof x=="boolean",e,"internal-error"),js(o,e.name),js(u,e.name),js(h,e.name),js(d,e.name),js(m,e.name),js(y,e.name);const P=new xr({uid:b,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:O,createdAt:m,lastLoginAt:y});return A&&Array.isArray(A)&&(P.providerData=A.map(V=>({...V}))),d&&(P._redirectEventId=d),P}static async _fromIdTokenResponse(e,n,r=!1){const a=new wl;a.updateFromServerResponse(n);const o=new xr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Ud(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?EA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new wl;h.updateFromIdToken(r);const d=new xr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new l0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new Map;function Gi(t){Ji(t instanceof Function,"Expected a class definition");let e=mx.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wA.type="NONE";const gx=wA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=cd(this.userKey,a.apiKey,o),this.fullPersistenceKey=cd("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vd(this.auth,{idToken:e}).catch(()=>{});return n?xr._fromGetAccountInfoResponse(this.auth,n,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tl(Gi(gx),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Gi(gx);const u=cd(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const y=await m._get(u);if(y){let b;if(typeof y=="string"){const E=await Vd(e,{idToken:y}).catch(()=>{});if(!E)break;b=await xr._fromGetAccountInfoResponse(e,E,y)}else b=xr._fromJSON(e,y);m!==o&&(h=b),o=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Tl(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Tl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CA(e))return"Blackberry";if(IA(e))return"Webos";if(xA(e))return"Safari";if((e.includes("chrome/")||SA(e))&&!e.includes("edge/"))return"Chrome";if(RA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function TA(t=yn()){return/firefox\//i.test(t)}function xA(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SA(t=yn()){return/crios\//i.test(t)}function AA(t=yn()){return/iemobile/i.test(t)}function RA(t=yn()){return/android/i.test(t)}function CA(t=yn()){return/blackberry/i.test(t)}function IA(t=yn()){return/webos/i.test(t)}function wv(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cV(t=yn()){return wv(t)&&!!window.navigator?.standalone}function hV(){return T6()&&document.documentMode===10}function NA(t=yn()){return wv(t)||RA(t)||IA(t)||CA(t)||/windows phone/i.test(t)||AA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e=[]){let n;switch(t){case"Browser":n=yx(yn());break;case"Worker":n=`${yx(yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ql}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e={}){return ci(t,"GET","/v2/passwordPolicy",is(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=6;class mV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vx(this),this.idTokenSubscription=new vx(this),this.beforeStateQueue=new fV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vd(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ur(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Yi(this));const n=e?Vt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dV(this),n=new mV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ih("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ca(t){return Vt(t)}class vx{constructor(e){this.auth=e,this.observer=null,this.addObserver=O6(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yV(t){wp=t}function DA(t){return wp.loadJS(t)}function vV(){return wp.recaptchaEnterpriseScript}function _V(){return wp.gapiScript}function bV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class EV{constructor(){this.enterprise=new wV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const TV="recaptcha-enterprise",PA="NO_RECAPTCHA";class xV{constructor(e){this.type=TV,this.auth=ca(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{tV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new eV(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(o,u,h){const d=window.grecaptcha;dx(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(PA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EV().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!n&&dx(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=vV();d.length!==0&&(d+=h),DA(d).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function _x(t,e,n,r=!1,a=!1){const o=new xV(t);let u;if(a)u=PA;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Fd(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await _x(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await _x(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e){const n=vv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(ao(o,e??{}))return a;Ar(a,"already-initialized")}return n.initialize({options:e})}function AV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function RV(t,e,n){const r=ca(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=MA(e),{host:u,port:h}=CV(e),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(ao(m,r.config.emulator)&&ao(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,zl(u)?(oA(`${o}//${u}${d}`),lA("Auth",!0)):IV()}function MA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CV(t){const e=MA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:bx(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:bx(u)}}}function bx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function NV(t,e){return ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e){return oh(t,"POST","/v1/accounts:signInWithPassword",is(t,e))}async function DV(t,e){return ci(t,"POST","/v1/accounts:sendOobCode",is(t,e))}async function PV(t,e){return DV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}async function jV(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Tv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fd(e,n,"signInWithPassword",OV);case"emailLink":return MV(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fd(e,r,"signUpPassword",NV);case"emailLink":return jV(e,{idToken:n,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e){return oh(t,"POST","/v1/accounts:signInWithIdp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="http://localhost";class lo extends Tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=n;if(!r||!a)return null;const u=new lo(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:kV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VV(t){const e=pc(mc(t)).link,n=e?pc(mc(e)).deep_link_id:null,r=pc(mc(t)).deep_link_id;return(r?pc(mc(r)).link:null)||r||n||e||t}class xv{constructor(e){const n=pc(mc(e)),r=n.apiKey??null,a=n.oobCode??null,o=LV(n.mode??null);Re(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VV(e);try{return new xv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,n){return Lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xv.parseLink(n);return Re(r,"argument-error"),Lc._fromEmailAndCode(e,r.code,r.tenantId)}}$l.PROVIDER_ID="password";$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends jA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends lh{constructor(){super("facebook.com")}static credential(e){return lo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends lh{constructor(){super("github.com")}static credential(e){return lo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends lh{constructor(){super("twitter.com")}static credential(e,n){return lo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e){return oh(t,"POST","/v1/accounts:signUp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await xr._fromIdTokenResponse(e,r,a),u=Ex(r);return new uo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Ex(r);return new uo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Ex(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends rs{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Bd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Bd(e,n,r,a)}}function kA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bd._fromErrorAndOperation(t,o,e,r):o})}async function FV(t,e,n=!1){const r=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(Yi(r));const a="reauthenticate";try{const o=await Ol(t,kA(r,a,e,t),n);Re(o.idToken,r,"internal-error");const u=Ev(o.idToken);Re(u,r,"internal-error");const{sub:h}=u;return Re(t.uid===h,r,"user-mismatch"),uo._forOperation(t,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ar(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(t,e,n=!1){if(ur(t.app))return Promise.reject(Yi(t));const r="signIn",a=await kA(t,r,e),o=await uo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function zV(t,e){return LA(ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t){const e=ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qV(t,e,n){const r=ca(t);await Fd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",PV)}async function $V(t,e,n){if(ur(t.app))return Promise.reject(Yi(t));const r=ca(t),u=await Fd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&VA(t),d}),h=await uo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function HV(t,e,n){return ur(t.app)?Promise.reject(Yi(t)):zV(Vt(t),$l.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e){return ci(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Vt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Ol(r,GV(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function QV(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function YV(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}function XV(t,e,n,r){return Vt(t).onAuthStateChanged(e,n,r)}function WV(t){return Vt(t).signOut()}const zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=1e3,JV=10;class FA extends UA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);hV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,JV):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FA.type="LOCAL";const e9=FA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA extends UA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BA.type="SESSION";const zA=BA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Tp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async m=>m(n.origin,o)),d=await t9(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=Sv("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function r9(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function i9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s9(){return navigator?.serviceWorker?.controller||null}function a9(){return qA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebaseLocalStorageDb",o9=1,qd="firebaseLocalStorage",HA="fbase_key";class uh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xp(t,e){return t.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function l9(){const t=indexedDB.deleteDatabase($A);return new uh(t).toPromise()}function u0(){const t=indexedDB.open($A,o9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qd,{keyPath:HA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qd)?e(r):(r.close(),await l9(),e(await u0()))})})}async function wx(t,e,n){const r=xp(t,!0).put({[HA]:e,value:n});return new uh(r).toPromise()}async function u9(t,e){const n=xp(t,!1).get(e),r=await new uh(n).toPromise();return r===void 0?null:r.value}function Tx(t,e){const n=xp(t,!0).delete(e);return new uh(n).toPromise()}const c9=800,h9=3;class GA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await u0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>h9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tp._getInstance(a9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await i9(),!this.activeServiceWorker)return;this.sender=new n9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await u0();return await wx(e,zd,"1"),await Tx(e,zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>u9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=xp(a,!1).getAll();return new uh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GA.type="LOCAL";const f9=GA;new ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t,e){return e?Gi(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p9(t){return LA(t.auth,new Av(t),t.bypassAuthState)}function m9(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),BV(n,new Av(t),t.bypassAuthState)}async function g9(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),FV(n,new Av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p9;case"linkViaPopup":case"linkViaRedirect":return g9;case"reauthViaPopup":case"reauthViaRedirect":return m9;default:Ar(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=new ah(2e3,1e4);class bl extends KA{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=Sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y9.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="pendingRedirect",hd=new Map;class _9 extends KA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hd.get(this.auth._key());if(!e){try{const r=await b9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hd.set(this.auth._key(),e)}return this.bypassAuthState||hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b9(t,e){const n=T9(e),r=w9(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function E9(t,e){hd.set(t._key(),e)}function w9(t){return Gi(t._redirectPersistence)}function T9(t){return cd(v9,t.config.apiKey,t.name)}async function x9(t,e,n=!1){if(ur(t.app))return Promise.reject(Yi(t));const r=ca(t),a=d9(r,e),u=await new _9(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=600*1e3;class A9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!QA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S9&&this.cachedEventUids.clear(),this.cachedEventUids.has(xx(e))}saveEventToCache(e){this.cachedEventUids.add(xx(e)),this.lastProcessedEventTime=Date.now()}}function xx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function R9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e={}){return ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N9=/^https?/;async function O9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await C9(t);for(const n of e)try{if(D9(n))return}catch{}Ar(t,"unauthorized-domain")}function D9(t){const e=o0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!N9.test(n))return!1;if(I9.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new ah(3e4,6e4);function Sx(){const t=Jr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M9(t){return new Promise((e,n)=>{function r(){Sx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sx(),n(Zr(t,"network-request-failed"))},timeout:P9.get()})}if(Jr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jr().gapi?.load)r();else{const a=bV("iframefcb");return Jr()[a]=()=>{gapi.load?r():n(Zr(t,"network-request-failed"))},DA(`${_V()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw fd=null,e})}let fd=null;function j9(t){return fd=fd||M9(t),fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=new ah(5e3,15e3),L9="__/auth/iframe",V9="emulator/auth/iframe",U9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B9(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bv(e,V9):`https://${t.config.authDomain}/${L9}`,r={apiKey:e.apiKey,appName:t.name,v:ql},a=F9.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${sh(r).slice(1)}`}async function z9(t){const e=await j9(t),n=Jr().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:B9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U9,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Zr(t,"network-request-failed"),h=Jr().setTimeout(()=>{o(u)},k9.get());function d(){Jr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$9=500,H9=600,G9="_blank",K9="http://localhost";class Ax{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q9(t,e,n,r=$9,a=H9){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...q9,width:r.toString(),height:a.toString(),top:o,left:u},m=yn().toLowerCase();n&&(h=SA(m)?G9:n),TA(m)&&(e=e||K9,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[x,A])=>`${E}${x}=${A},`,"");if(cV(m)&&h!=="_self")return Y9(e||"",h),new Ax(null);const b=window.open(e||"",h,y);Re(b,t,"popup-blocked");try{b.focus()}catch{}return new Ax(b)}function Y9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="__/auth/handler",W9="emulator/auth/handler",Z9=encodeURIComponent("fac");async function Rx(t,e,n,r,a,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ql,eventId:a};if(e instanceof jA){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",N6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof lh){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),m=d?`#${Z9}=${encodeURIComponent(d)}`:"";return`${J9(t)}?${sh(h).slice(1)}${m}`}function J9({config:t}){return t.emulator?bv(t,W9):`https://${t.authDomain}/${X9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="webStorageSupport";class e5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zA,this._completeRedirectFn=x9,this._overrideRedirectResult=E9}async _openPopup(e,n,r,a){Ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Rx(e,n,r,o0(),a);return Q9(e,o,Sv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await Rx(e,n,r,o0(),a);return r9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(Ji(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await z9(e),r=new A9(e);return n.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ay,{type:Ay},a=>{const o=a?.[0]?.[Ay];o!==void 0&&n(!!o),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NA()||xA()||wv()}}const t5=e5;var Cx="@firebase/auth",Ix="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i5(t){Nl(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OA(t)},m=new gV(r,a,o,d);return AV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nl(new oo("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(r=>new n5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(Cx,Ix,r5(t)),Ys(Cx,Ix,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=300,a5=aA("authIdTokenMaxAge")||s5;let Nx=null;const o5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>a5)return;const a=n?.token;Nx!==a&&(Nx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function l5(t=fA()){const e=vv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SV(t,{popupRedirectResolver:t5,persistence:[f9,e9,zA]}),r=aA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=o5(o.toString());YV(n,u,()=>u(n.currentUser)),QV(n,h=>u(h))}}const a=iA("auth");return a&&RV(n,`http://${a}`),n}function u5(){return document.getElementsByTagName("head")?.[0]??document}yV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Zr("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",u5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i5("Browser");var Ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,YA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function I(){}I.prototype=C.prototype,N.D=C.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(L,U,$){for(var j=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)j[Ve-2]=arguments[Ve];return C.prototype[U].apply(L,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,C,I){I||(I=0);var L=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)L[U]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(U=0;16>U;++U)L[U]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=N.g[0],I=N.g[1],U=N.g[2];var $=N.g[3],j=C+($^I&(U^$))+L[0]+3614090360&4294967295;C=I+(j<<7&4294967295|j>>>25),j=$+(U^C&(I^U))+L[1]+3905402710&4294967295,$=C+(j<<12&4294967295|j>>>20),j=U+(I^$&(C^I))+L[2]+606105819&4294967295,U=$+(j<<17&4294967295|j>>>15),j=I+(C^U&($^C))+L[3]+3250441966&4294967295,I=U+(j<<22&4294967295|j>>>10),j=C+($^I&(U^$))+L[4]+4118548399&4294967295,C=I+(j<<7&4294967295|j>>>25),j=$+(U^C&(I^U))+L[5]+1200080426&4294967295,$=C+(j<<12&4294967295|j>>>20),j=U+(I^$&(C^I))+L[6]+2821735955&4294967295,U=$+(j<<17&4294967295|j>>>15),j=I+(C^U&($^C))+L[7]+4249261313&4294967295,I=U+(j<<22&4294967295|j>>>10),j=C+($^I&(U^$))+L[8]+1770035416&4294967295,C=I+(j<<7&4294967295|j>>>25),j=$+(U^C&(I^U))+L[9]+2336552879&4294967295,$=C+(j<<12&4294967295|j>>>20),j=U+(I^$&(C^I))+L[10]+4294925233&4294967295,U=$+(j<<17&4294967295|j>>>15),j=I+(C^U&($^C))+L[11]+2304563134&4294967295,I=U+(j<<22&4294967295|j>>>10),j=C+($^I&(U^$))+L[12]+1804603682&4294967295,C=I+(j<<7&4294967295|j>>>25),j=$+(U^C&(I^U))+L[13]+4254626195&4294967295,$=C+(j<<12&4294967295|j>>>20),j=U+(I^$&(C^I))+L[14]+2792965006&4294967295,U=$+(j<<17&4294967295|j>>>15),j=I+(C^U&($^C))+L[15]+1236535329&4294967295,I=U+(j<<22&4294967295|j>>>10),j=C+(U^$&(I^U))+L[1]+4129170786&4294967295,C=I+(j<<5&4294967295|j>>>27),j=$+(I^U&(C^I))+L[6]+3225465664&4294967295,$=C+(j<<9&4294967295|j>>>23),j=U+(C^I&($^C))+L[11]+643717713&4294967295,U=$+(j<<14&4294967295|j>>>18),j=I+($^C&(U^$))+L[0]+3921069994&4294967295,I=U+(j<<20&4294967295|j>>>12),j=C+(U^$&(I^U))+L[5]+3593408605&4294967295,C=I+(j<<5&4294967295|j>>>27),j=$+(I^U&(C^I))+L[10]+38016083&4294967295,$=C+(j<<9&4294967295|j>>>23),j=U+(C^I&($^C))+L[15]+3634488961&4294967295,U=$+(j<<14&4294967295|j>>>18),j=I+($^C&(U^$))+L[4]+3889429448&4294967295,I=U+(j<<20&4294967295|j>>>12),j=C+(U^$&(I^U))+L[9]+568446438&4294967295,C=I+(j<<5&4294967295|j>>>27),j=$+(I^U&(C^I))+L[14]+3275163606&4294967295,$=C+(j<<9&4294967295|j>>>23),j=U+(C^I&($^C))+L[3]+4107603335&4294967295,U=$+(j<<14&4294967295|j>>>18),j=I+($^C&(U^$))+L[8]+1163531501&4294967295,I=U+(j<<20&4294967295|j>>>12),j=C+(U^$&(I^U))+L[13]+2850285829&4294967295,C=I+(j<<5&4294967295|j>>>27),j=$+(I^U&(C^I))+L[2]+4243563512&4294967295,$=C+(j<<9&4294967295|j>>>23),j=U+(C^I&($^C))+L[7]+1735328473&4294967295,U=$+(j<<14&4294967295|j>>>18),j=I+($^C&(U^$))+L[12]+2368359562&4294967295,I=U+(j<<20&4294967295|j>>>12),j=C+(I^U^$)+L[5]+4294588738&4294967295,C=I+(j<<4&4294967295|j>>>28),j=$+(C^I^U)+L[8]+2272392833&4294967295,$=C+(j<<11&4294967295|j>>>21),j=U+($^C^I)+L[11]+1839030562&4294967295,U=$+(j<<16&4294967295|j>>>16),j=I+(U^$^C)+L[14]+4259657740&4294967295,I=U+(j<<23&4294967295|j>>>9),j=C+(I^U^$)+L[1]+2763975236&4294967295,C=I+(j<<4&4294967295|j>>>28),j=$+(C^I^U)+L[4]+1272893353&4294967295,$=C+(j<<11&4294967295|j>>>21),j=U+($^C^I)+L[7]+4139469664&4294967295,U=$+(j<<16&4294967295|j>>>16),j=I+(U^$^C)+L[10]+3200236656&4294967295,I=U+(j<<23&4294967295|j>>>9),j=C+(I^U^$)+L[13]+681279174&4294967295,C=I+(j<<4&4294967295|j>>>28),j=$+(C^I^U)+L[0]+3936430074&4294967295,$=C+(j<<11&4294967295|j>>>21),j=U+($^C^I)+L[3]+3572445317&4294967295,U=$+(j<<16&4294967295|j>>>16),j=I+(U^$^C)+L[6]+76029189&4294967295,I=U+(j<<23&4294967295|j>>>9),j=C+(I^U^$)+L[9]+3654602809&4294967295,C=I+(j<<4&4294967295|j>>>28),j=$+(C^I^U)+L[12]+3873151461&4294967295,$=C+(j<<11&4294967295|j>>>21),j=U+($^C^I)+L[15]+530742520&4294967295,U=$+(j<<16&4294967295|j>>>16),j=I+(U^$^C)+L[2]+3299628645&4294967295,I=U+(j<<23&4294967295|j>>>9),j=C+(U^(I|~$))+L[0]+4096336452&4294967295,C=I+(j<<6&4294967295|j>>>26),j=$+(I^(C|~U))+L[7]+1126891415&4294967295,$=C+(j<<10&4294967295|j>>>22),j=U+(C^($|~I))+L[14]+2878612391&4294967295,U=$+(j<<15&4294967295|j>>>17),j=I+($^(U|~C))+L[5]+4237533241&4294967295,I=U+(j<<21&4294967295|j>>>11),j=C+(U^(I|~$))+L[12]+1700485571&4294967295,C=I+(j<<6&4294967295|j>>>26),j=$+(I^(C|~U))+L[3]+2399980690&4294967295,$=C+(j<<10&4294967295|j>>>22),j=U+(C^($|~I))+L[10]+4293915773&4294967295,U=$+(j<<15&4294967295|j>>>17),j=I+($^(U|~C))+L[1]+2240044497&4294967295,I=U+(j<<21&4294967295|j>>>11),j=C+(U^(I|~$))+L[8]+1873313359&4294967295,C=I+(j<<6&4294967295|j>>>26),j=$+(I^(C|~U))+L[15]+4264355552&4294967295,$=C+(j<<10&4294967295|j>>>22),j=U+(C^($|~I))+L[6]+2734768916&4294967295,U=$+(j<<15&4294967295|j>>>17),j=I+($^(U|~C))+L[13]+1309151649&4294967295,I=U+(j<<21&4294967295|j>>>11),j=C+(U^(I|~$))+L[4]+4149444226&4294967295,C=I+(j<<6&4294967295|j>>>26),j=$+(I^(C|~U))+L[11]+3174756917&4294967295,$=C+(j<<10&4294967295|j>>>22),j=U+(C^($|~I))+L[2]+718787259&4294967295,U=$+(j<<15&4294967295|j>>>17),j=I+($^(U|~C))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(U+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+$&4294967295}r.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var I=C-this.blockSize,L=this.B,U=this.h,$=0;$<C;){if(U==0)for(;$<=I;)a(this,N,$),$+=this.blockSize;if(typeof N=="string"){for(;$<C;)if(L[U++]=N.charCodeAt($++),U==this.blockSize){a(this,L),U=0;break}}else for(;$<C;)if(L[U++]=N[$++],U==this.blockSize){a(this,L),U=0;break}}this.h=U,this.o+=C},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var I=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=I&255,I/=256;for(this.u(N),N=Array(16),C=I=0;4>C;++C)for(var L=0;32>L;L+=8)N[I++]=this.g[C]>>>L&255;return N};function o(N,C){var I=h;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=C(N)}function u(N,C){this.h=C;for(var I=[],L=!0,U=N.length-1;0<=U;U--){var $=N[U]|0;L&&$==C||(I[U]=$,L=!1)}this.g=I}var h={};function d(N){return-128<=N&&128>N?o(N,function(C){return new u([C|0],0>C?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return O(m(-N));for(var C=[],I=1,L=0;N>=I;L++)C[L]=N/I|0,I*=4294967296;return new u(C,0)}function y(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return O(y(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(C,8)),L=b,U=0;U<N.length;U+=8){var $=Math.min(8,N.length-U),j=parseInt(N.substring(U,U+$),C);8>$?($=m(Math.pow(C,$)),L=L.j($).add(m(j))):(L=L.j(I),L=L.add(m(j)))}return L}var b=d(0),E=d(1),x=d(16777216);t=u.prototype,t.m=function(){if(M(this))return-O(this).m();for(var N=0,C=1,I=0;I<this.g.length;I++){var L=this.i(I);N+=(0<=L?L:4294967296+L)*C,C*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(M(this))return"-"+O(this).toString(N);for(var C=m(Math.pow(N,6)),I=this,L="";;){var U=ne(I,C).g;I=P(I,U.j(C));var $=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=U,A(I))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function M(N){return N.h==-1}t.l=function(N){return N=P(this,N),M(N)?-1:A(N)?0:1};function O(N){for(var C=N.g.length,I=[],L=0;L<C;L++)I[L]=~N.g[L];return new u(I,~N.h).add(E)}t.abs=function(){return M(this)?O(this):this},t.add=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],L=0,U=0;U<=C;U++){var $=L+(this.i(U)&65535)+(N.i(U)&65535),j=($>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);L=j>>>16,$&=65535,j&=65535,I[U]=j<<16|$}return new u(I,I[I.length-1]&-2147483648?-1:0)};function P(N,C){return N.add(O(C))}t.j=function(N){if(A(this)||A(N))return b;if(M(this))return M(N)?O(this).j(O(N)):O(O(this).j(N));if(M(N))return O(this.j(O(N)));if(0>this.l(x)&&0>N.l(x))return m(this.m()*N.m());for(var C=this.g.length+N.g.length,I=[],L=0;L<2*C;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<N.g.length;U++){var $=this.i(L)>>>16,j=this.i(L)&65535,Ve=N.i(U)>>>16,We=N.i(U)&65535;I[2*L+2*U]+=j*We,V(I,2*L+2*U),I[2*L+2*U+1]+=$*We,V(I,2*L+2*U+1),I[2*L+2*U+1]+=j*Ve,V(I,2*L+2*U+1),I[2*L+2*U+2]+=$*Ve,V(I,2*L+2*U+2)}for(L=0;L<C;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=C;L<2*C;L++)I[L]=0;return new u(I,0)};function V(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function q(N,C){this.g=N,this.h=C}function ne(N,C){if(A(C))throw Error("division by zero");if(A(N))return new q(b,b);if(M(N))return C=ne(O(N),C),new q(O(C.g),O(C.h));if(M(C))return C=ne(N,O(C)),new q(O(C.g),C.h);if(30<N.g.length){if(M(N)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var I=E,L=C;0>=L.l(N);)I=F(I),L=F(L);var U=Y(I,1),$=Y(L,1);for(L=Y(L,2),I=Y(I,2);!A(L);){var j=$.add(L);0>=j.l(N)&&(U=U.add(I),$=j),L=Y(L,1),I=Y(I,1)}return C=P(N,U.j(C)),new q(U,C)}for(U=b;0<=N.l(C);){for(I=Math.max(1,Math.floor(N.m()/C.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=m(I),j=$.j(C);M(j)||0<j.l(N);)I-=L,$=m(I),j=$.j(C);A($)&&($=E),U=U.add($),N=P(N,j)}return new q(U,N)}t.A=function(N){return ne(this,N).h},t.and=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],L=0;L<C;L++)I[L]=this.i(L)&N.i(L);return new u(I,this.h&N.h)},t.or=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],L=0;L<C;L++)I[L]=this.i(L)|N.i(L);return new u(I,this.h|N.h)},t.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],L=0;L<C;L++)I[L]=this.i(L)^N.i(L);return new u(I,this.h^N.h)};function F(N){for(var C=N.g.length+1,I=[],L=0;L<C;L++)I[L]=N.i(L)<<1|N.i(L-1)>>>31;return new u(I,N.h)}function Y(N,C){var I=C>>5;C%=32;for(var L=N.g.length-I,U=[],$=0;$<L;$++)U[$]=0<C?N.i($+I)>>>C|N.i($+I+1)<<32-C:N.i($+I);return new u(U,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Xs=u}).apply(typeof Ox<"u"?Ox:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XA,gc,WA,dd,c0,ZA,JA,eR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,w){return f==Array.prototype||f==Object.prototype||(f[v]=w.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var v=0;v<f.length;++v){var w=f[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(f,v){if(v)e:{var w=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var K=f[R];if(!(K in w))break e;w=w[K]}f=f[f.length-1],R=w[f],v=v(R),v!=R&&v!=null&&e(w,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var w=0,R=!1,K={next:function(){if(!R&&w<f.length){var ee=w++;return{value:v(ee,f[ee]),done:!1}}return R=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(f){return f||function(){return o(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function m(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,w){return f.call.apply(f.bind,arguments)}function b(f,v,w){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,R),f.apply(v,K)}}return function(){return f.apply(v,arguments)}}function E(f,v,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,E.apply(null,arguments)}function x(f,v){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function A(f,v){function w(){}w.prototype=v.prototype,f.aa=v.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(R,K,ee){for(var he=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)he[$e-2]=arguments[$e];return v.prototype[K].apply(R,he)}}function M(f){const v=f.length;if(0<v){const w=Array(v);for(let R=0;R<v;R++)w[R]=f[R];return w}return[]}function O(f,v){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(d(R)){const K=f.length||0,ee=R.length||0;f.length=K+ee;for(let he=0;he<ee;he++)f[K+he]=R[he]}else f.push(R)}}class P{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ne(f){return ne[" "](f),f}ne[" "]=function(){};var F=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Y(f,v,w){for(const R in f)v.call(w,f[R],R,f)}function N(f,v){for(const w in f)v.call(void 0,f[w],w,f)}function C(f){const v={};for(const w in f)v[w]=f[w];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,v){let w,R;for(let K=1;K<arguments.length;K++){R=arguments[K];for(w in R)f[w]=R[w];for(let ee=0;ee<I.length;ee++)w=I[ee],Object.prototype.hasOwnProperty.call(R,w)&&(f[w]=R[w])}}function U(f){var v=1;f=f.split(":");const w=[];for(;0<v&&f.length;)w.push(f.shift()),v--;return f.length&&w.push(f.join(":")),w}function $(f){h.setTimeout(()=>{throw f},0)}function j(){var f=Me;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Ve{constructor(){this.h=this.g=null}add(v,w){const R=We.get();R.set(v,w),this.h?this.h.next=R:this.g=R,this.h=R}}var We=new P(()=>new te,f=>f.reset());class te{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,Me=new Ve,B=()=>{const f=h.Promise.resolve(void 0);ce=()=>{f.then(H)}};var H=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(w){$(w)}var v=We;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var _e=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};h.addEventListener("test",w,v),h.removeEventListener("test",w,v)}catch{}return f})();function De(f,v){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(F){e:{try{ne(v.nodeName);var K=!0;break e}catch{}K=!1}K||(v=null)}}else w=="mouseover"?v=f.fromElement:w=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ae[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&De.aa.h.call(this)}}A(De,le);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Mn(f,v,w,R,K){this.listener=f,this.proxy=null,this.src=v,this.type=w,this.capture=!!R,this.ha=K,this.key=++et,this.da=this.fa=!1}function mr(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function jn(f){this.src=f,this.g={},this.h=0}jn.prototype.add=function(f,v,w,R,K){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var he=Ir(f,v,R,K);return-1<he?(v=f[he],w||(v.fa=!1)):(v=new Mn(v,this.src,ee,!!R,K),v.fa=w,f.push(v)),v};function hi(f,v){var w=v.type;if(w in f.g){var R=f.g[w],K=Array.prototype.indexOf.call(R,v,void 0),ee;(ee=0<=K)&&Array.prototype.splice.call(R,K,1),ee&&(mr(v),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Ir(f,v,w,R){for(var K=0;K<f.length;++K){var ee=f[K];if(!ee.da&&ee.listener==v&&ee.capture==!!w&&ee.ha==R)return K}return-1}var fi="closure_lm_"+(1e6*Math.random()|0),da={};function Eo(f,v,w,R,K){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)Eo(f,v[ee],w,R,K);return null}return w=we(w),f&&f[wt]?f.K(v,w,m(R)?!!R.capture:!1,K):Rn(f,v,w,!1,R,K)}function Rn(f,v,w,R,K,ee){if(!v)throw Error("Invalid event type");var he=m(K)?!!K.capture:!!K,$e=fe(f);if($e||(f[fi]=$e=new jn(f)),w=$e.add(v,w,R,he,ee),w.proxy)return w;if(R=tu(),w.proxy=R,R.src=f,R.listener=w,f.addEventListener)_e||(K=he),K===void 0&&(K=!1),f.addEventListener(v.toString(),R,K);else if(f.attachEvent)f.attachEvent(pi(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function tu(){function f(w){return v.call(f.src,f.listener,w)}const v=J;return f}function di(f,v,w,R,K){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)di(f,v[ee],w,R,K);else R=m(R)?!!R.capture:!!R,w=we(w),f&&f[wt]?(f=f.i,v=String(v).toString(),v in f.g&&(ee=f.g[v],w=Ir(ee,w,R,K),-1<w&&(mr(ee[w]),Array.prototype.splice.call(ee,w,1),ee.length==0&&(delete f.g[v],f.h--)))):f&&(f=fe(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Ir(v,w,R,K)),(w=-1<f?v[f]:null)&&ss(w))}function ss(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[wt])hi(v.i,f);else{var w=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(w,R,f.capture):v.detachEvent?v.detachEvent(pi(w),R):v.addListener&&v.removeListener&&v.removeListener(R),(w=fe(v))?(hi(w,f),w.h==0&&(w.src=null,v[fi]=null)):mr(f)}}}function pi(f){return f in da?da[f]:da[f]="on"+f}function J(f,v){if(f.da)f=!0;else{v=new De(v,this);var w=f.listener,R=f.ha||f.src;f.fa&&ss(f),f=w.call(R,v)}return f}function fe(f){return f=f[fi],f instanceof jn?f:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(f){return typeof f=="function"?f:(f[ye]||(f[ye]=function(v){return f.handleEvent(v)}),f[ye])}function ve(){ue.call(this),this.i=new jn(this),this.M=this,this.F=null}A(ve,ue),ve.prototype[wt]=!0,ve.prototype.removeEventListener=function(f,v,w,R){di(this,f,v,w,R)};function be(f,v){var w,R=f.F;if(R)for(w=[];R;R=R.F)w.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new le(v,f);else if(v instanceof le)v.target=v.target||f;else{var K=v;v=new le(R,f),L(v,K)}if(K=!0,w)for(var ee=w.length-1;0<=ee;ee--){var he=v.g=w[ee];K=tt(he,R,!0,v)&&K}if(he=v.g=f,K=tt(he,R,!0,v)&&K,K=tt(he,R,!1,v)&&K,w)for(ee=0;ee<w.length;ee++)he=v.g=w[ee],K=tt(he,R,!1,v)&&K}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var w=f.g[v],R=0;R<w.length;R++)mr(w[R]);delete f.g[v],f.h--}}this.F=null},ve.prototype.K=function(f,v,w,R){return this.i.add(String(f),v,!1,w,R)},ve.prototype.L=function(f,v,w,R){return this.i.add(String(f),v,!0,w,R)};function tt(f,v,w,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var K=!0,ee=0;ee<v.length;++ee){var he=v[ee];if(he&&!he.da&&he.capture==w){var $e=he.listener,Bt=he.ha||he.src;he.fa&&hi(f.i,he),K=$e.call(Bt,R)!==!1&&K}}return K&&!R.defaultPrevented}function ct(f,v,w){if(typeof f=="function")w&&(f=E(f,w));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function as(f){f.g=ct(()=>{f.g=null,f.i&&(f.i=!1,as(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class pa extends ue{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:as(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(f){ue.call(this),this.h=f,this.g={}}A(mi,ue);var Nr=[];function gi(f){Y(f.g,function(v,w){this.g.hasOwnProperty(w)&&ss(v)},f),f.g={}}mi.prototype.N=function(){mi.aa.N.call(this),gi(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=h.JSON.stringify,wo=h.JSON.parse,ma=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function nu(){}nu.prototype.h=null;function ru(f){return f.h||(f.h=f.i())}function iu(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){le.call(this,"d")}A(vi,le);function su(){le.call(this,"c")}A(su,le);var Or={},au=null;function os(){return au=au||new ve}Or.La="serverreachability";function To(f){le.call(this,Or.La,f)}A(To,le);function ls(f){const v=os();be(v,new To(v))}Or.STAT_EVENT="statevent";function _h(f,v){le.call(this,Or.STAT_EVENT,f),this.stat=v}A(_h,le);function gt(f){const v=os();be(v,new _h(v,f))}Or.Ma="timingevent";function Ft(f,v){le.call(this,Or.Ma,f),this.size=v}A(Ft,le);function Ot(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function ou(f,v,w,R,K,ee){f.info(function(){if(f.g)if(ee)for(var he="",$e=ee.split("&"),Bt=0;Bt<$e.length;Bt++){var He=$e[Bt].split("=");if(1<He.length){var Qt=He[0];He=He[1];var zt=Qt.split("_");he=2<=zt.length&&zt[1]=="type"?he+(Qt+"="+He+"&"):he+(Qt+"=redacted&")}}else he=null;else he=ee;return"XMLHTTP REQ ("+R+") [attempt "+K+"]: "+v+`
`+w+`
`+he})}function Wp(f,v,w,R,K,ee,he){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+K+"]: "+v+`
`+w+`
`+ee+" "+he})}function us(f,v,w,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+ga(f,w)+(R?" "+R:"")})}function bh(f,v){f.info(function(){return"TIMEOUT: "+v})}Yn.prototype.info=function(){};function ga(f,v){if(!f.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var R=w[f];if(!(2>R.length)){var K=R[1];if(Array.isArray(K)&&!(1>K.length)){var ee=K[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var he=1;he<K.length;he++)K[he]=""}}}}return gr(w)}catch{return v}}var cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function Pr(){}A(Pr,nu),Pr.prototype.g=function(){return new XMLHttpRequest},Pr.prototype.i=function(){return{}},Dr=new Pr;function vn(f,v,w,R){this.j=f,this.i=v,this.l=w,this.R=R||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var lu={},xo={};function yr(f,v,w){f.L=1,f.v=Ea(kn(v)),f.m=w,f.P=!0,bi(f,null)}function bi(f,v){f.F=Date.now(),ya(f),f.A=kn(f.v);var w=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),pu(w.i,"t",R),f.C=0,w=f.j.J,f.h=new At,f.g=kh(f.j,w?v:null,!f.m),0<f.O&&(f.M=new pa(E(f.Y,f,f.g),f.O)),v=f.U,w=f.g,R=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Nr[0]=K.toString()),K=Nr);for(var ee=0;ee<K.length;ee++){var he=Eo(w,K[ee],R||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),ls(),ou(f.i,f.u,f.A,f.l,f.R,f.m)}vn.prototype.ca=function(f){f=f.target;const v=this.M;v&&Jn(f)==3?v.j():this.Y(f)},vn.prototype.Y=function(f){try{if(f==this.g)e:{const zt=Jn(this.g);var v=this.g.Ba();const Ci=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Ch(this.g)))){this.J||zt!=4||v==7||(v==8||0>=Ci?ls(3):ls(2)),hs(this);var w=this.g.Z();this.X=w;t:if(Eh(this)){var R=Ch(this.g);f="";var K=R.length,ee=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Mr(this);var he="";break t}this.h.i=new h.TextDecoder}for(v=0;v<K;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(ee&&v==K-1)});R.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=w==200,Wp(this.i,this.u,this.A,this.l,this.R,zt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Bt=this.g;if(($e=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V($e)){var He=$e;break t}}He=null}if(w=He)us(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,w);else{this.o=!1,this.s=3,gt(12),en(this),Mr(this);break e}}if(this.P){w=!0;let tn;for(;!this.J&&this.C<he.length;)if(tn=wh(this,he),tn==xo){zt==4&&(this.s=4,gt(14),w=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==lu){this.s=4,gt(15),us(this.i,this.l,he,"[Invalid Chunk]"),w=!1;break}else us(this.i,this.l,tn,null),va(this,tn);if(Eh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||he.length!=0||this.h.h||(this.s=1,gt(16),w=!1),this.o=this.o&&w,!w)us(this.i,this.l,he,"[Invalid Chunked Response]"),en(this),Mr(this);else if(0<he.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ia(Qt),Qt.M=!0,gt(11))}}else us(this.i,this.l,he,null),va(this,he);zt==4&&en(this),this.o&&!this.J&&(zt==4?Ph(this.j,this):(this.o=!1,ya(this)))}else nm(this.g),w==400&&0<he.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),en(this),Mr(this)}}}catch{}finally{}};function Eh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function wh(f,v){var w=f.C,R=v.indexOf(`
`,w);return R==-1?xo:(w=Number(v.substring(w,R)),isNaN(w)?lu:(R+=1,R+w>v.length?xo:(v=v.slice(R,R+w),f.C=R+w,v)))}vn.prototype.cancel=function(){this.J=!0,en(this)};function ya(f){f.S=Date.now()+f.I,Th(f,f.I)}function Th(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ot(E(f.ba,f),v)}function hs(f){f.B&&(h.clearTimeout(f.B),f.B=null)}vn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(bh(this.i,this.A),this.L!=2&&(ls(),gt(17)),en(this),this.s=2,Mr(this)):Th(this,this.S-f)};function Mr(f){f.j.G==0||f.J||Ph(f.j,f)}function en(f){hs(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,gi(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function va(f,v){try{var w=f.j;if(w.G!=0&&(w.g==f||uu(w.h,f))){if(!f.K&&uu(w.h,f)&&w.G==3){try{var R=w.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var K=R;if(K[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)ko(w),Mo(w);else break e;_u(w),gt(18)}}else w.za=K[1],0<w.za-w.T&&37500>K[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ot(E(w.Za,w),6e3));if(1>=Ao(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ri(w,11)}else if((f.K||w.g==f)&&ko(w),!V(v))for(K=w.Da.g.parse(v),v=0;v<K.length;v++){let He=K[v];if(w.T=He[0],He=He[1],w.G==2)if(He[0]=="c"){w.K=He[1],w.ia=He[2];const Qt=He[3];Qt!=null&&(w.la=Qt,w.j.info("VER="+w.la));const zt=He[4];zt!=null&&(w.Aa=zt,w.j.info("SVER="+w.Aa));const Ci=He[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(R=1.5*Ci,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const tn=f.g;if(tn){const Br=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var ee=R.h;ee.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ro(ee,ee.h),ee.h=null))}if(R.D){const Eu=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eu&&(R.ya=Eu,st(R.I,R.D,Eu))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var he=f;if(R.qa=jh(R,R.J?R.ia:null,R.W),he.K){_n(R.h,he);var $e=he,Bt=R.L;Bt&&($e.I=Bt),$e.B&&(hs($e),ya($e)),R.g=he}else Oh(R);0<w.i.length&&jo(w)}else He[0]!="stop"&&He[0]!="close"||Ri(w,7);else w.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ri(w,7):yu(w):He[0]!="noop"&&w.l&&w.l.ta(He),w.v=0)}}ls(4)}catch{}}var xh=class{constructor(f,v){this.g=f,this.map=v}};function Ei(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function So(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ao(f){return f.h?1:f.g?f.g.size:0}function uu(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Ro(f,v){f.g?f.g.add(v):f.h=v}function _n(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Ei.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function cu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const w of f.g.values())v=v.concat(w.D);return v}return M(f.i)}function Zp(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],w=f.length,R=0;R<w;R++)v.push(f[R]);return v}v=[],w=0;for(R in f)v[w++]=f[R];return v}function Co(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var w=0;w<f;w++)v.push(w);return v}v=[],w=0;for(const R in f)v[w++]=R;return v}}}function hu(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var w=Co(f),R=Zp(f),K=R.length,ee=0;ee<K;ee++)v.call(void 0,R[ee],w&&w[ee],f)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jp(f,v){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var R=f[w].indexOf("="),K=null;if(0<=R){var ee=f[w].substring(0,R);K=f[w].substring(R+1)}else ee=f[w];v(ee,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Dt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Dt){this.h=f.h,ba(this,f.j),this.o=f.o,this.g=f.g,fs(this,f.s),this.l=f.l;var v=f.i,w=new Ti;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),wi(this,w),this.m=f.m}else f&&(v=String(f).match(_a))?(this.h=!1,ba(this,v[1]||"",!0),this.o=Xn(v[2]||""),this.g=Xn(v[3]||"",!0),fs(this,v[4]),this.l=Xn(v[5]||"",!0),wi(this,v[6]||"",!0),this.m=Xn(v[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Dt.prototype.toString=function(){var f=[],v=this.j;v&&f.push(wa(v,fu,!0),":");var w=this.g;return(w||v=="file")&&(f.push("//"),(v=this.o)&&f.push(wa(v,fu,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(wa(w,w.charAt(0)=="/"?em:du,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",wa(w,Io)),f.join("")};function kn(f){return new Dt(f)}function ba(f,v,w){f.j=w?Xn(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function fs(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function wi(f,v,w){v instanceof Ti?(f.i=v,Ah(f.i,f.h)):(w||(v=wa(v,tm)),f.i=new Ti(v,f.h))}function st(f,v,w){f.i.set(v,w)}function Ea(f){return st(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Xn(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function wa(f,v,w){return typeof f=="string"?(f=encodeURI(f).replace(v,Sh),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fu=/[#\/\?@]/g,du=/[#\?:]/g,em=/[#\?]/g,tm=/[#\?@]/g,Io=/#/g;function Ti(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Wn(f){f.g||(f.g=new Map,f.h=0,f.i&&Jp(f.i,function(v,w){f.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}t=Ti.prototype,t.add=function(f,v){Wn(this),this.i=null,f=jr(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(v),this.h+=1,this};function xi(f,v){Wn(f),v=jr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Si(f,v){return Wn(f),v=jr(f,v),f.g.has(v)}t.forEach=function(f,v){Wn(this),this.g.forEach(function(w,R){w.forEach(function(K){f.call(v,K,R,this)},this)},this)},t.na=function(){Wn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let R=0;R<v.length;R++){const K=f[R];for(let ee=0;ee<K.length;ee++)w.push(v[R])}return w},t.V=function(f){Wn(this);let v=[];if(typeof f=="string")Si(this,f)&&(v=v.concat(this.g.get(jr(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)v=v.concat(f[w])}return v},t.set=function(f,v){return Wn(this),this.i=null,f=jr(this,f),Si(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function pu(f,v,w){xi(f,v),0<w.length&&(f.i=null,f.g.set(jr(f,v),M(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var R=v[w];const ee=encodeURIComponent(String(R)),he=this.V(R);for(R=0;R<he.length;R++){var K=ee;he[R]!==""&&(K+="="+encodeURIComponent(String(he[R]))),f.push(K)}}return this.i=f.join("&")};function jr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Ah(f,v){v&&!f.j&&(Wn(f),f.i=null,f.g.forEach(function(w,R){var K=R.toLowerCase();R!=K&&(xi(this,R),pu(this,K,w))},f)),f.j=v}function Ta(f,v){const w=new Yn;if(h.Image){const R=new Image;R.onload=x(Zn,w,"TestLoadImage: loaded",!0,v,R),R.onerror=x(Zn,w,"TestLoadImage: error",!1,v,R),R.onabort=x(Zn,w,"TestLoadImage: abort",!1,v,R),R.ontimeout=x(Zn,w,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function vr(f,v){const w=new Yn,R=new AbortController,K=setTimeout(()=>{R.abort(),Zn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(ee=>{clearTimeout(K),ee.ok?Zn(w,"TestPingServer: ok",!0,v):Zn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),Zn(w,"TestPingServer: error",!1,v)})}function Zn(f,v,w,R,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),R(w)}catch{}}function xa(){this.g=new ma}function kr(f,v,w){const R=w||"";try{hu(f,function(K,ee){let he=K;m(K)&&(he=gr(K)),v.push(R+ee+"="+encodeURIComponent(he))})}catch(K){throw v.push(R+"type="+encodeURIComponent("_badmap")),K}}function ds(f){this.l=f.Ub||null,this.j=f.eb||!1}A(ds,nu),ds.prototype.g=function(){return new Ai(this.l,this.j)},ds.prototype.i=(function(f){return function(){return f}})({});function Ai(f,v){ve.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ai,ve),t=Ai.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Vr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function mu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Lr(this):Vr(this),this.readyState==3&&mu(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Lr(this))},t.Qa=function(f){this.g&&(this.response=f,Lr(this))},t.ga=function(){this.g&&Lr(this)};function Lr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Vr(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=v.next();return f.join(`\r
`)};function Vr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function gu(f){let v="";return Y(f,function(w,R){v+=R,v+=":",v+=w,v+=`\r
`}),v}function Kt(f,v,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=gu(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):st(f,v,w))}function Ze(f){ve.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ze,ve);var No=/^https?$/i,Sa=["POST","PUT"];t=Ze.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?ru(this.o):ru(Dr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ee){Rh(this,ee);return}if(f=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var K in R)w.set(K,R[K]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())w.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(ee=>ee.toLowerCase()=="content-type"),K=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Sa,v,void 0))||R||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of w)this.g.setRequestHeader(ee,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aa(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){Rh(this,ee)}};function Rh(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Oo(f),Ur(f)}function Oo(f){f.A||(f.A=!0,be(f,"complete"),be(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,be(this,"complete"),be(this,"abort"),Ur(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Do(this):this.bb())},t.bb=function(){Do(this)};function Do(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Jn(f)!=4||f.Z()!=2)){if(f.u&&Jn(f)==4)ct(f.Ea,0,f);else if(be(f,"readystatechange"),Jn(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var R;if(R=he===0){var K=String(f.D).match(_a)[1]||null;!K&&h.self&&h.self.location&&(K=h.self.location.protocol.slice(0,-1)),R=!No.test(K?K.toLowerCase():"")}w=R}if(w)be(f,"complete"),be(f,"success");else{f.m=6;try{var ee=2<Jn(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",Oo(f)}}finally{Ur(f)}}}}function Ur(f,v){if(f.g){Aa(f);const w=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||be(f,"ready");try{w.onreadystatechange=R}catch{}}}function Aa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Jn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),wo(v)}};function Ch(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function nm(f){const v={};f=(f.g&&2<=Jn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(V(f[R]))continue;var w=U(f[R]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ee=v[K]||[];v[K]=ee,ee.push(w)}N(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(f,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||v}function Po(f){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,f),this.cb=Ra("retryDelaySeedMs",1e4,f),this.Wa=Ra("forwardChannelMaxRetries",2,f),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(f&&f.concurrentRequestLimit),this.Da=new xa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Po.prototype,t.la=8,t.G=1,t.connect=function(f,v,w,R){gt(0),this.W=f,this.H=v||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=jh(this,null,this.W),jo(this)};function yu(f){if(Ih(f),f.G==3){var v=f.U++,w=kn(f.I);if(st(w,"SID",f.K),st(w,"RID",v),st(w,"TYPE","terminate"),Ca(f,w),v=new vn(f,f.j,v),v.L=2,v.v=Ea(kn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=v.v,w=!0),w||(v.g=kh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ya(v)}Mh(f)}function Mo(f){f.g&&(Ia(f),f.g.cancel(),f.g=null)}function Ih(f){Mo(f),f.u&&(h.clearTimeout(f.u),f.u=null),ko(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function jo(f){if(!So(f.h)&&!f.s){f.s=!0;var v=f.Ga;ce||B(),pe||(ce(),pe=!0),Me.add(v,f),f.B=0}}function rm(f,v){return Ao(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ot(E(f.Ga,f,v),bu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new vn(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=C(ee),L(ee,this.S)):ee=this.S),this.m!==null||this.O||(K.H=ee,ee=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Nh(this,K,v),w=kn(this.I),st(w,"RID",f),st(w,"CVER",22),this.D&&st(w,"X-HTTP-Session-Id",this.D),Ca(this,w),ee&&(this.O?v="headers="+encodeURIComponent(String(gu(ee)))+"&"+v:this.m&&Kt(w,this.m,ee)),Ro(this.h,K),this.Ua&&st(w,"TYPE","init"),this.P?(st(w,"$req",v),st(w,"SID","null"),K.T=!0,yr(K,w,null)):yr(K,w,v),this.G=2}}else this.G==3&&(f?vu(this,f):this.i.length==0||So(this.h)||vu(this))};function vu(f,v){var w;v?w=v.l:w=f.U++;const R=kn(f.I);st(R,"SID",f.K),st(R,"RID",w),st(R,"AID",f.T),Ca(f,R),f.m&&f.o&&Kt(R,f.m,f.o),w=new vn(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Nh(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ro(f.h,w),yr(w,R,v)}function Ca(f,v){f.H&&Y(f.H,function(w,R){st(v,R,w)}),f.l&&hu({},function(w,R){st(v,R,w)})}function Nh(f,v,w){w=Math.min(f.i.length,w);var R=f.l?E(f.l.Na,f.l,f):null;e:{var K=f.i;let ee=-1;for(;;){const he=["count="+w];ee==-1?0<w?(ee=K[0].g,he.push("ofs="+ee)):ee=0:he.push("ofs="+ee);let $e=!0;for(let Bt=0;Bt<w;Bt++){let He=K[Bt].g;const Qt=K[Bt].map;if(He-=ee,0>He)ee=Math.max(0,K[Bt].g-100),$e=!1;else try{kr(Qt,he,"req"+He+"_")}catch{R&&R(Qt)}}if($e){R=he.join("&");break e}}}return f=f.i.splice(0,w),v.D=f,R}function Oh(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ce||B(),pe||(ce(),pe=!0),Me.add(v,f),f.v=0}}function _u(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ot(E(f.Fa,f),bu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Dh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ot(E(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Mo(this),Dh(this))};function Ia(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Dh(f){f.g=new vn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=kn(f.qa);st(v,"RID","rpc"),st(v,"SID",f.K),st(v,"AID",f.T),st(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&st(v,"TO",f.ja),st(v,"TYPE","xmlhttp"),Ca(f,v),f.m&&f.o&&Kt(v,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=Ea(kn(v)),w.m=null,w.P=!0,bi(w,f)}t.Za=function(){this.C!=null&&(this.C=null,Mo(this),_u(this),gt(19))};function ko(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Ph(f,v){var w=null;if(f.g==v){ko(f),Ia(f),f.g=null;var R=2}else if(uu(f.h,v))w=v.D,_n(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var K=f.B;R=os(),be(R,new Ft(R,w)),jo(f)}else Oh(f);else if(K=v.s,K==3||K==0&&0<v.X||!(R==1&&rm(f,v)||R==2&&_u(f)))switch(w&&0<w.length&&(v=f.h,v.i=v.i.concat(w)),K){case 1:Ri(f,5);break;case 4:Ri(f,10);break;case 3:Ri(f,6);break;default:Ri(f,2)}}}function bu(f,v){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*v}function Ri(f,v){if(f.j.info("Error code "+v),v==2){var w=E(f.fb,f),R=f.Xa;const K=!R;R=new Dt(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ba(R,"https"),Ea(R),K?Ta(R.toString(),w):vr(R.toString(),w)}else gt(2);f.G=0,f.l&&f.l.sa(v),Mh(f),Ih(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Mh(f){if(f.G=0,f.ka=[],f.l){const v=cu(f.h);(v.length!=0||f.i.length!=0)&&(O(f.ka,v),O(f.ka,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.ra()}}function jh(f,v,w){var R=w instanceof Dt?kn(w):new Dt(w);if(R.g!="")v&&(R.g=v+"."+R.g),fs(R,R.s);else{var K=h.location;R=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;var ee=new Dt(null);R&&ba(ee,R),v&&(ee.g=v),K&&fs(ee,K),w&&(ee.l=w),R=ee}return w=f.D,v=f.ya,w&&v&&st(R,w,v),st(R,"VER",f.la),Ca(f,R),R}function kh(f,v,w){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Ze(new ds({eb:w})):new Ze(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lh(){}t=Lh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lo(){}Lo.prototype.g=function(f,v){return new bn(f,v)};function bn(f,v){ve.call(this),this.g=new Po(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!V(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Fr(this)}A(bn,ve),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){yu(this.g)},bn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=gr(f),f=w);v.i.push(new xh(v.Ya++,f)),v.G==3&&jo(v)},bn.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,bn.aa.N.call(this)};function Vh(f){vi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const w in v){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}A(Vh,vi);function Uh(){su.call(this),this.status=1}A(Uh,su);function Fr(f){this.g=f}A(Fr,Lh),Fr.prototype.ua=function(){be(this.g,"a")},Fr.prototype.ta=function(f){be(this.g,new Vh(f))},Fr.prototype.sa=function(f){be(this.g,new Uh)},Fr.prototype.ra=function(){be(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,eR=function(){return new Lo},JA=function(){return os()},ZA=Or,c0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,dd=cs,_i.COMPLETE="complete",WA=_i,iu.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",ve.prototype.listen=ve.prototype.K,gc=iu,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,XA=Ze}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});const Dx="@firebase/firestore",Px="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new gv("@firebase/firestore");function gl(){return co.logLevel}function me(t,...e){if(co.logLevel<=Be.DEBUG){const n=e.map(Rv);co.debug(`Firestore (${Hl}): ${t}`,...n)}}function es(t,...e){if(co.logLevel<=Be.ERROR){const n=e.map(Rv);co.error(`Firestore (${Hl}): ${t}`,...n)}}function Dl(t,...e){if(co.logLevel<=Be.WARN){const n=e.map(Rv);co.warn(`Firestore (${Hl}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tR(t,r,n)}function tR(t,e,n){let r=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw es(r),new Error(r)}function Xe(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||tR(e,a,r)}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class h5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class f5{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ei,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ei)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new nR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class d5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new d5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Mx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=g5(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function h0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),o=e.charAt(r);if(a!==o)return Ry(a)===Ry(o)?ze(a,o):Ry(a)?1:-1}return ze(t.length,e.length)}const y5=55296,v5=57343;function Ry(t){const e=t.charCodeAt(0);return e>=y5&&e<=v5}function Pl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="__name__";class Yr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Yr.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return ze(e.length,n.length)}static compareSegments(e,n){const r=Yr.isNumericId(e),a=Yr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Yr.extractNumericId(e).compare(Yr.extractNumericId(n)):h0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class dt extends Yr{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const _5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Yr{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return _5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jx}static keyField(){return new un([jx])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(dt.fromString(e))}static fromName(e){return new Te(dt.fromString(e).popFirst(5))}static empty(){return new Te(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e,n){if(!n)throw new de(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b5(t,e,n,r){if(e===!0&&r===!0)throw new de(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kx(t){if(!Te.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lx(t){if(Te.isDocumentKey(t))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function An(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sp(t);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ch(t,e){if(!iR(t))throw new de(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new de(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=-62135596800,Ux=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ux);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vx)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ux}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ch(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Lt("string",mt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new mt(0,0))}static max(){return new Pe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-1;function E5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new ta(a,Te.empty(),e)}function w5(t){return new ta(t.readTime,t.key,Vc)}class ta{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ta(Pe.min(),Te.empty(),Vc)}static max(){return new ta(Pe.max(),Te.empty(),Vc)}}function T5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==x5)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&n()}),(d=>r(d)))})),u=!0,o===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((a=>a?oe.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,o)=>{r.push(n.call(this,a,o))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(e[m]).next((y=>{u[m]=y,++h,h===o&&r(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new oe(((r,a)=>{const o=()=>{e()===!0?n().next((()=>{o()}),a):r()};o()}))}}function A5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ap.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=-1;function Rp(t){return t==null}function $d(t){return t===0&&1/t==-1/0}function R5(t){return typeof t=="number"&&Number.isInteger(t)&&!$d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="";function C5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fx(e)),e=I5(t.get(n),e);return Fx(e)}function I5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case sR:n+="";break;default:n+=o}}return n}function Fx(t){return t+sR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N5(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function aR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??ln.RED,this.left=a??ln.EMPTY,this.right=o??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new ln(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ln.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zx(this.data.getIterator())}getIteratorFrom(e){return new zx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class zx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Gt(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oR("Invalid base64 string: "+o):o}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const O5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=O5.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="server_timestamp",uR="__type__",cR="__previous_value__",hR="__local_write_time__";function Nv(t){return(t?.mapValue?.fields||{})[uR]?.stringValue===lR}function Cp(t){const e=t.mapValue.fields[cR];return Nv(e)?Cp(e):e}function Uc(t){const e=na(t.mapValue.fields[hR].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,a,o,u,h,d,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y}}const Hd="(default)";class Fc{constructor(e,n){this.projectId=e,this.database=n||Hd}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="__type__",P5="__max__",Wf={mapValue:{}},dR="__vector__",Gd="value";function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nv(t)?4:j5(t)?9007199254740991:M5(t)?10:11:Ce(28295,{value:t})}function si(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=na(a.timestampValue),h=na(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,o){return ra(a.bytesValue).isEqual(ra(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,o){return It(a.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(o.geoPointValue.longitude)})(t,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return It(a.integerValue)===It(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=It(a.doubleValue),h=It(o.doubleValue);return u===h?$d(u)===$d(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Pl(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Bx(u)!==Bx(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!si(u[d],h[d])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function Bc(t,e){return(t.values||[]).find((n=>si(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=ia(t),r=ia(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=It(o.integerValue||o.doubleValue),d=It(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return qx(t.timestampValue,e.timestampValue);case 4:return qx(Uc(t),Uc(e));case 5:return h0(t.stringValue,e.stringValue);case 6:return(function(o,u){const h=ra(o),d=ra(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=ze(h[m],d[m]);if(y!==0)return y}return ze(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=ze(It(o.latitude),It(u.latitude));return h!==0?h:ze(It(o.longitude),It(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $x(t.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},m=h[Gd]?.arrayValue,y=d[Gd]?.arrayValue,b=ze(m?.values?.length||0,y?.values?.length||0);return b!==0?b:$x(m,y)})(t.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Wf.mapValue&&u===Wf.mapValue)return 0;if(o===Wf.mapValue)return 1;if(u===Wf.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let b=0;b<d.length&&b<y.length;++b){const E=h0(d[b],y[b]);if(E!==0)return E;const x=Ml(h[d[b]],m[y[b]]);if(x!==0)return x}return ze(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function qx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=na(t),r=na(e),a=ze(n.seconds,r.seconds);return a!==0?a:ze(n.nanos,r.nanos)}function $x(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Ml(n[a],r[a]);if(o)return o}return ze(n.length,r.length)}function jl(t){return f0(t)}function f0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=na(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ra(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=f0(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${f0(n.fields[u])}`;return a+"}"})(t.mapValue):Ce(61005,{value:t})}function pd(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cp(t);return e?16+pd(e):16;case 5:return 2*t.stringValue.length;case 6:return ra(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+pd(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ha(r.fields,((o,u)=>{a+=o.length+pd(u)})),a})(t.mapValue);default:throw Ce(13486,{value:t})}}function Hx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d0(t){return!!t&&"integerValue"in t}function Ov(t){return!!t&&"arrayValue"in t}function Gx(t){return!!t&&"nullValue"in t}function Kx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function md(t){return!!t&&"mapValue"in t}function M5(t){return(t?.mapValue?.fields||{})[fR]?.stringValue===dR}function Sc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Sc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return{...t}}function j5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===P5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=un.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=Sc(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];md(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ha(n,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new Pn(Sc(this.value))}}function pR(t){const e=[];return ha(t.fields,((n,r)=>{const a=new un([n]);if(md(r)){const o=pR(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,a,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new mn(e,0,Pe.min(),Pe.min(),Pe.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,a){return new mn(e,1,n,Pe.min(),r,a,0)}static newNoDocument(e,n){return new mn(e,2,n,Pe.min(),Pe.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Pe.min(),Pe.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.position=e,this.inclusive=n}}function Qx(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),n.key):r=Ml(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function k5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{}class kt extends mR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V5(e,n,r):n==="array-contains"?new B5(e,r):n==="in"?new z5(e,r):n==="not-in"?new q5(e,r):n==="array-contains-any"?new $5(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U5(e,r):new F5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends mR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rr(e,n)}matches(e){return gR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gR(t){return t.op==="and"}function yR(t){return L5(t)&&gR(t)}function L5(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function p0(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(yR(t))return t.filters.map((e=>p0(e))).join(",");{const e=t.filters.map((n=>p0(n))).join(",");return`${t.op}(${e})`}}function vR(t,e){return t instanceof kt?(function(r,a){return a instanceof kt&&r.op===a.op&&r.field.isEqual(a.field)&&si(r.value,a.value)})(t,e):t instanceof Rr?(function(r,a){return a instanceof Rr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&vR(u,a.filters[h])),!0):!1})(t,e):void Ce(19439)}function _R(t){return t instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`})(t):t instanceof Rr?(function(n){return n.op.toString()+" {"+n.getFilters().map(_R).join(" ,")+"}"})(t):"Filter"}class V5 extends kt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class U5 extends kt{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class F5 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bR(t,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class B5 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ov(n)&&Bc(n.arrayValue,this.value)}}class z5 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bc(this.value.arrayValue,n)}}class q5 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bc(this.value.arrayValue,n)}}class $5 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Bc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Xx(t,e=null,n=[],r=[],a=null,o=null,u=null){return new H5(t,e,n,r,a,o,u)}function Dv(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>p0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>jl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>jl(r))).join(",")),e.Te=n}return e.Te}function Pv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yx(t.startAt,e.startAt)&&Yx(t.endAt,e.endAt)}function m0(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n=null,r=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G5(t,e,n,r,a,o,u,h){return new Ql(t,e,n,r,a,o,u,h)}function Ip(t){return new Ql(t)}function Wx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ER(t){return t.collectionGroup!==null}function Ac(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Gt(un.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new zc(o,r))})),n.has(un.keyField().canonicalString())||e.Ie.push(new zc(un.keyField(),r))}return e.Ie}function ti(t){const e=Oe(t);return e.Ee||(e.Ee=wR(e,Ac(t))),e.Ee}function K5(t){const e=Oe(t);return e.de||(e.de=wR(e,t.explicitOrderBy)),e.de}function wR(t,e){if(t.limitType==="F")return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new zc(a.field,o)}));const n=t.endAt?new Kd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kd(t.startAt.position,t.startAt.inclusive):null;return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g0(t,e){const n=t.filters.concat([e]);return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y0(t,e,n){return new Ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Np(t,e){return Pv(ti(t),ti(e))&&t.limitType===e.limitType}function TR(t){return`${Dv(ti(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>_R(a))).join(", ")}]`),Rp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>jl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>jl(a))).join(",")),`Target(${r})`})(ti(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,a){for(const o of Ac(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const m=Qx(u,h,d);return u.inclusive?m<=0:m<0})(r.startAt,Ac(r),a)||r.endAt&&!(function(u,h,d){const m=Qx(u,h,d);return u.inclusive?m>=0:m>0})(r.endAt,Ac(r),a))})(t,e)}function Q5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xR(t){return(e,n)=>{let r=!1;for(const a of Ac(t)){const o=Y5(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function Y5(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Ml(d,m):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((n,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return aR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new Et(Te.comparator);function ts(){return X5}const SR=new Et(Te.comparator);function yc(...t){let e=SR;for(const n of t)e=e.insert(n.key,n);return e}function AR(t){let e=SR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qa(){return Rc()}function RR(){return Rc()}function Rc(){return new _o((t=>t.toString()),((t,e)=>t.isEqual(e)))}const W5=new Et(Te.comparator),Z5=new Gt(Te.comparator);function qe(...t){let e=Z5;for(const n of t)e=e.add(n);return e}const J5=new Gt(ze);function eU(){return J5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function CR(t){return{integerValue:""+t}}function tU(t,e){return R5(e)?CR(e):Mv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this._=void 0}}function nU(t,e,n){return t instanceof qc?(function(a,o){const u={fields:{[uR]:{stringValue:lR},[hR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Nv(o)&&(o=Cp(o)),o&&(u.fields[cR]=o),{mapValue:u}})(n,e):t instanceof $c?NR(t,e):t instanceof Hc?OR(t,e):(function(a,o){const u=IR(a,o),h=Zx(u)+Zx(a.Ae);return d0(u)&&d0(a.Ae)?CR(h):Mv(a.serializer,h)})(t,e)}function rU(t,e,n){return t instanceof $c?NR(t,e):t instanceof Hc?OR(t,e):n}function IR(t,e){return t instanceof Qd?(function(r){return d0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class qc extends Dp{}class $c extends Dp{constructor(e){super(),this.elements=e}}function NR(t,e){const n=DR(e);for(const r of t.elements)n.some((a=>si(a,r)))||n.push(r);return{arrayValue:{values:n}}}class Hc extends Dp{constructor(e){super(),this.elements=e}}function OR(t,e){let n=DR(e);for(const r of t.elements)n=n.filter((a=>!si(a,r)));return{arrayValue:{values:n}}}class Qd extends Dp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Zx(t){return It(t.integerValue||t.doubleValue)}function DR(t){return Ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.field=e,this.transform=n}}function sU(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof $c&&a instanceof $c||r instanceof Hc&&a instanceof Hc?Pl(r.elements,a.elements,si):r instanceof Qd&&a instanceof Qd?si(r.Ae,a.Ae):r instanceof qc&&a instanceof qc})(t.transform,e.transform)}class aU{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Pp=class{};function PR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jv(t.key,hr.none()):new hh(t.key,t.data,hr.none());{const n=t.data,r=Pn.empty();let a=new Gt(un.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new fa(t.key,r,new $n(a.toArray()),hr.none())}}function oU(t,e,n){t instanceof hh?(function(a,o,u){const h=a.value.clone(),d=eS(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof fa?(function(a,o,u){if(!gd(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=eS(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(MR(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Cc(t,e,n,r){return t instanceof hh?(function(o,u,h,d){if(!gd(o.precondition,u))return h;const m=o.value.clone(),y=tS(o.fieldTransforms,d,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof fa?(function(o,u,h,d){if(!gd(o.precondition,u))return h;const m=tS(o.fieldTransforms,d,u),y=u.data;return y.setAll(MR(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(t,e,n,r):(function(o,u,h){return gd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function lU(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=IR(r.transform,a||null);o!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,o))}return n||null}function Jx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Pl(r,a,((o,u)=>sU(o,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hh extends Pp{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fa extends Pp{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function eS(t,e,n){const r=new Map;Xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,rU(u,h,n[a]))}return r}function tS(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,nU(o,u,e))}return r}class jv extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uU extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&oU(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RR();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const d=PR(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,((n,r)=>Jx(n,r)))&&Pl(this.baseMutations,e.baseMutations,((n,r)=>Jx(n,r)))}}class kv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return W5})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new kv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ke;function pU(t){switch(t){case se.OK:return Ce(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function jR(t){if(t===void 0)return es("GRPC error has no .code"),se.UNKNOWN;switch(t){case jt.OK:return se.OK;case jt.CANCELLED:return se.CANCELLED;case jt.UNKNOWN:return se.UNKNOWN;case jt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case jt.INTERNAL:return se.INTERNAL;case jt.UNAVAILABLE:return se.UNAVAILABLE;case jt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case jt.NOT_FOUND:return se.NOT_FOUND;case jt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case jt.ABORTED:return se.ABORTED;case jt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case jt.DATA_LOSS:return se.DATA_LOSS;default:return Ce(39323,{code:t})}}(Ke=jt||(jt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new Xs([4294967295,4294967295],0);function nS(t){const e=mU().encode(t),n=new YA;return n.update(e),new Uint8Array(n.digest())}function rS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xs([n,r],0),new Xs([a,o],0)]}class Lv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vc(`Invalid padding: ${n}`);if(r<0)throw new vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xs.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Xs.fromNumber(r)));return a.compare(gU)===1&&(a=new Xs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nS(e),[r,a]=rS(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Lv(o,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=nS(e),[r,a]=rS(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mp(Pe.min(),a,new Et(ze),ts(),qe())}}class fh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fh(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class kR{constructor(e,n){this.targetId=e,this.Ce=n}}class LR{constructor(e,n,r=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class iS{constructor(){this.ve=0,this.Fe=sS(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ce(38017,{changeType:o})}})),new fh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=sS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yU{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.Je=Zf(),this.He=Zf(),this.Ye=new Et(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const o=a.target;if(m0(o))if(r===0){const u=new Te(o.path);this.et(n,u,mn.newNoDocument(u,Pe.min()))}else Xe(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=ra(r).toUint8Array()}catch(d){if(d instanceof oR)return Dl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Lv(u,a,o)}catch(d){return Dl(d instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&m0(h.target)){const d=new Te(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,mn.newNoDocument(d,e))}o.Be&&(n.set(u,o.ke()),o.qe())}}));let r=qe();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Mp(e,n,this.Ye,this.je,r);return this.je=ts(),this.Je=Zf(),this.He=Zf(),this.Ye=new Et(ze),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zf(){return new Et(Te.comparator)}function sS(){return new Et(Te.comparator)}const vU={asc:"ASCENDING",desc:"DESCENDING"},_U={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bU={and:"AND",or:"OR"};class EU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v0(t,e){return t.useProto3Json||Rp(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wU(t,e){return Yd(t,e.toTimestamp())}function ni(t){return Xe(!!t,49232),Pe.fromTimestamp((function(n){const r=na(n);return new mt(r.seconds,r.nanos)})(t))}function Vv(t,e){return _0(t,e).canonicalString()}function _0(t,e){const n=(function(a){return new dt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function UR(t){const e=dt.fromString(t);return Xe(HR(e),10190,{key:e.toString()}),e}function b0(t,e){return Vv(t.databaseId,e.path)}function Cy(t,e){const n=UR(e);if(n.get(1)!==t.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(BR(n))}function FR(t,e){return Vv(t.databaseId,e)}function TU(t){const e=UR(t);return e.length===4?dt.emptyPath():BR(e)}function E0(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BR(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aS(t,e,n){return{name:b0(t,e),fields:n.value.mapValue.fields}}function xU(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?se.UNKNOWN:jR(m.code);return new de(y,m.message||"")})(u);n=new LR(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Cy(t,r.document.name),o=ni(r.document.updateTime),u=r.document.createTime?ni(r.document.createTime):Pe.min(),h=new Pn({mapValue:{fields:r.document.fields}}),d=mn.newFoundDocument(a,o,u,h),m=r.targetIds||[],y=r.removedTargetIds||[];n=new yd(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Cy(t,r.document),o=r.readTime?ni(r.readTime):Pe.min(),u=mn.newNoDocument(a,o),h=r.removedTargetIds||[];n=new yd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Cy(t,r.document),o=r.removedTargetIds||[];n=new yd([],o,a,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new dU(a,o),h=r.targetId;n=new kR(h,u)}}return n}function SU(t,e){let n;if(e instanceof hh)n={update:aS(t,e.key,e.value)};else if(e instanceof jv)n={delete:b0(t,e.key)};else if(e instanceof fa)n={update:aS(t,e.key,e.data),updateMask:MU(e.fieldMask)};else{if(!(e instanceof uU))return Ce(16599,{Vt:e.type});n={verify:b0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof $c)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Hc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Qd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ce(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:wU(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ce(27497)})(t,e.precondition)),n}function AU(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(a,o){let u=a.updateTime?ni(a.updateTime):ni(o);return u.isEqual(Pe.min())&&(u=ni(o)),new aU(u,a.transformResults||[])})(n,e)))):[]}function RU(t,e){return{documents:[FR(t,e.path)]}}function zR(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FR(t,a);const o=(function(m){if(m.length!==0)return $R(Rr.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const u=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:zs(E.field),direction:OU(E.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=v0(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function CU(t,e,n,r){const{ft:a,parent:o}=zR(t,e),u={},h=[];let d=0;return n.forEach((m=>{const y="aggregate_"+d++;u[y]=m.alias,m.aggregateType==="count"?h.push({alias:y,count:{}}):m.aggregateType==="avg"?h.push({alias:y,avg:{field:zs(m.fieldPath)}}):m.aggregateType==="sum"&&h.push({alias:y,sum:{field:zs(m.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:a.structuredQuery},parent:a.parent},gt:u,parent:o}}function IU(t){let e=TU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Xe(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=(function(b){const E=qR(b);return E instanceof Rr&&yR(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((E=>(function(A){return new zc(vl(A.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let E;return E=typeof b=="object"?b.value:b,Rp(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(b){const E=!!b.before,x=b.values||[];return new Kd(x,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const E=!b.before,x=b.values||[];return new Kd(x,E)})(n.endAt)),G5(e,a,u,o,h,"F",d,m)}function NU(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vl(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=vl(n.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vl(n.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=vl(n.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return kt.create(vl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Rr.create(n.compositeFilter.filters.map((r=>qR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function OU(t){return vU[t]}function DU(t){return _U[t]}function PU(t){return bU[t]}function zs(t){return{fieldPath:t.canonicalString()}}function vl(t){return un.fromServerFormat(t.fieldPath)}function $R(t){return t instanceof kt?(function(n){if(n.op==="=="){if(Kx(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(Gx(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kx(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(Gx(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:DU(n.op),value:n.value}}})(t):t instanceof Rr?(function(n){const r=n.getFilters().map((a=>$R(a)));return r.length===1?r[0]:{compositeFilter:{op:PU(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function MU(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,a,o=Pe.min(),u=Pe.min(),h=cn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.yt=e}}function kU(t){const e=IU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.Cn=new VU}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(ta.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class VU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Gt(dt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Gt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GR=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(GR,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kl(0)}static cr(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="LruGarbageCollector",UU=1048576;function uS([t,e],[n,r]){const a=ze(t,n);return a===0?ze(e,r):a}class FU{constructor(e){this.Ir=e,this.buffer=new Gt(uS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(lS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kl(n)?me(lS,"Ignoring IndexedDB error during garbage collection: ",n):await Gl(n)}await this.Vr(3e5)}))}}class zU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Ap.ce);const r=new FU(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(oS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,o,u,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,h=Date.now(),this.removeTargets(e,r,n)))).next((b=>(o=b,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(m=Date.now(),gl()<=Be.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function qU(t,e){return new zU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.changes=new _o((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Cc(r.mutation,a,$n.empty(),mt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const a=Qa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((o=>{let u=yc();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Qa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const a=[];return r.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let o=ts();const u=Rc(),h=(function(){return Rc()})();return n.forEach(((d,m)=>{const y=r.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof fa)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Cc(y.mutation,m,y.mutation.getFieldMask(),mt.now())):u.set(m.key,$n.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((m,y)=>u.set(m,y))),n.forEach(((m,y)=>h.set(m,new HU(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Rc();let a=new Et(((u,h)=>u-h)),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let y=r.get(d)||$n.empty();y=h.applyToLocalView(m,y),r.set(d,y);const b=(a.get(h.batchId)||qe()).add(d);a=a.insert(h.batchId,b)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,b=RR();y.forEach((E=>{if(!o.has(E)){const x=PR(n.get(E),r.get(E));x!==null&&b.set(E,x),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,b))}return oe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ER(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):oe.resolve(Qa());let h=Vc,d=o;return u.next((m=>oe.forEach(m,((y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,d,m,qe()))).next((y=>({batchId:h,changes:AR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let a=yc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=yc();return this.indexManager.getCollectionParents(e,o).next((h=>oe.forEach(h,(d=>{const m=(function(b,E){return new Ql(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((y=>{y.forEach(((b,E)=>{u=u.insert(b,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a)))).next((u=>{o.forEach(((d,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,mn.newInvalidDocument(y)))}));let h=yc();return u.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&Cc(y.mutation,m,$n.empty(),mt.now()),Op(n,m)&&(h=h.insert(d,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ni(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:kU(a.bundledQuery),readTime:ni(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.overlays=new Et(Te.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qa();return oe.forEach(n,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,o)=>{this.St(e,n,o)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const a=Qa(),o=n.length+1,u=new Te(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Et(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=Qa(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Qa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return oe.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new hU(n,r));let o=this.qr.get(n);o===void 0&&(o=qe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.Qr=new Gt(Zt.$r),this.Ur=new Gt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Te(new dt([])),r=new Zt(n,e),a=new Zt(n,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new dt([])),r=new Zt(n,e),a=new Zt(n,e+1);let o=qe();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const n=new Zt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Zt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new cU(o,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Zt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),o=a<0?0:a;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Iv:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(ze);return n.forEach((a=>{const o=new Zt(a,0),u=new Zt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Te.isDocumentKey(o)||(o=o.child(""));const u=new Zt(new Te(o),0);let h=new Gt(ze);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Yr)),!0)}),u),oe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(a=>{const o=new Zt(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Zt(n,0),a=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.ri=e,this.docs=(function(){return new Et(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=ts();return n.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():mn.newInvalidDocument(a))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=ts();const u=n.path,h=new Te(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||T5(w5(y),r)<=0||(a.has(y.key)||Op(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Ce(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ZU(this)}getSize(e){return oe.resolve(this.size)}}class ZU extends $U{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.persistence=e,this.si=new _o((n=>Dv(n)),Pv),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Uv,this.targetCount=0,this.ai=kl.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new kl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),oe.waitFor(o).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ap(0),this.li=!1,this.li=!0,this.hi=new YU,this.referenceDelegate=e(this),this.Pi=new JU(this),this.indexManager=new LU,this.remoteDocumentCache=(function(a){return new WU(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new jU(n),this.Ii=new KU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new XU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const a=new e7(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class e7 extends S5{constructor(e){super(),this.currentSequenceNumber=e}}class Fv{constructor(e){this.persistence=e,this.Ri=new Uv,this.Vi=null}static mi(e){return new Fv(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const a=Te.fromPath(r);return this.gi(e,a).next((o=>{o||n.removeEntry(a,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xd{constructor(e,n){this.persistence=e,this.pi=new _o((r=>C5(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=qU(this,n)}static mi(e,n){return new Xd(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?oe.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,o.removeEntry(u,Pe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pd(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=qe(),a=qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Bv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return x6()?8:A5(yn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.ys(e,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,n,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new t7;return this.Ss(e,n,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>o.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(gl()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(gl()<=Be.DEBUG&&me("QueryEngine","Query:",yl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(gl()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):oe.resolve())}ys(e,n){if(Wx(n))return oe.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=y0(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=qe(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.Ds(n,h);return this.Cs(n,m,u,d.readTime)?this.ys(e,y0(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ws(e,n,r,a){return Wx(n)||a.isEqual(Pe.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(n,o);return this.Cs(n,u,r,a)?oe.resolve(null):(gl()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yl(n)),this.vs(e,u,n,E5(a,Vc)).next((h=>h)))}))}Ds(e,n){let r=new Gt(xR(e));return n.forEach(((a,o)=>{Op(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,n,r){return gl()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ps.getDocumentsMatchingQuery(e,n,ta.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LocalStore",r7=3e8;class i7{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Et(ze),this.xs=new _o((o=>Dv(o)),Pv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function s7(t,e,n,r){return new i7(t,e,n,r)}async function QR(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let d=qe();for(const m of a){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function a7(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const b=m.batch,E=b.keys();let x=oe.resolve();return E.forEach((A=>{x=x.next((()=>y.getEntry(d,A))).next((M=>{const O=m.docVersions.get(A);Xe(O!==null,48541),M.version.compareTo(O)<0&&(b.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=qe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function YR(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function o7(t,e){const n=Oe(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,b)=>{const E=a.get(b);if(!E)return;h.push(n.Pi.removeMatchingKeys(o,y.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(o,y.addedDocuments,b))));let x=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(cn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),a=a.insert(b,x),(function(M,O,P){return M.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=r7?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(E,x,y)&&h.push(n.Pi.updateTargetData(o,x))}));let d=ts(),m=qe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(l7(o,u,e.documentUpdates).next((y=>{d=y.ks,m=y.qs}))),!r.isEqual(Pe.min())){const y=n.Pi.getLastRemoteSnapshotVersion(o).next((b=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(y)}return oe.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(n.Ms=a,o)))}function l7(t,e,n){let r=qe(),a=qe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let u=ts();return n.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):me(zv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function u7(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Iv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function c7(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((o=>o?(a=o,oe.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new $s(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function w0(t,e,n){const r=Oe(t),a=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Kl(u))throw u;me(zv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function cS(t,e,n){const r=Oe(t);let a=Pe.min(),o=qe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,y){const b=Oe(d),E=b.xs.get(y);return E!==void 0?oe.resolve(b.Ms.get(E)):b.Pi.getTargetData(m,y)})(r,u,ti(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Pe.min(),n?o:qe()))).next((h=>(h7(r,Q5(e),h),{documents:h,Qs:o})))))}function h7(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class hS{constructor(){this.activeTargetIds=eU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f7{constructor(){this.Mo=new hS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="ConnectivityMonitor";class dS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(fS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(fS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function T0(){return Jf===null?Jf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="RestConnection",p7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Hd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,o){const u=T0(),h=this.zo(e,n.toUriEncodedString());me(Iy,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:m}=new URL(h),y=zl(m);return this.Jo(e,h,d,r,y).then((b=>(me(Iy,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Dl(Iy,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",r),b}))}Ho(e,n,r,a,o,u){return this.Go(e,n,r,a,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,n){const r=p7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class y7 extends m7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,o){const u=T0();return new Promise(((h,d)=>{const m=new XA;m.setWithCredentials(!0),m.listenOnce(WA.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case dd.NO_ERROR:const b=m.getResponseJson();me(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case dd.TIMEOUT:me(dn,`RPC '${e}' ${u} timed out`),d(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:const E=m.getStatus();if(me(dn,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x?.error;if(A&&A.status&&A.message){const M=(function(P){const V=P.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(V)>=0?V:se.UNKNOWN})(A.status);d(new de(M,A.message))}else d(new de(se.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new de(se.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(dn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);me(dn,`RPC '${e}' ${u} sending request:`,a),m.send(n,"POST",y,r,15)}))}T_(e,n,r){const a=T0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=eR(),h=JA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=o.join("");me(dn,`Creating RPC '${e}' stream ${a}: ${y}`,d);const b=u.createWebChannel(y,d);this.I_(b);let E=!1,x=!1;const A=new g7({Yo:O=>{x?me(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(E||(me(dn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),me(dn,`RPC '${e}' stream ${a} sending:`,O),b.send(O))},Zo:()=>b.close()}),M=(O,P,V)=>{O.listen(P,(q=>{try{V(q)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return M(b,gc.EventType.OPEN,(()=>{x||(me(dn,`RPC '${e}' stream ${a} transport opened.`),A.o_())})),M(b,gc.EventType.CLOSE,(()=>{x||(x=!0,me(dn,`RPC '${e}' stream ${a} transport closed`),A.a_(),this.E_(b))})),M(b,gc.EventType.ERROR,(O=>{x||(x=!0,Dl(dn,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),A.a_(new de(se.UNAVAILABLE,"The operation could not be completed")))})),M(b,gc.EventType.MESSAGE,(O=>{if(!x){const P=O.data[0];Xe(!!P,16349);const V=P,q=V?.error||V[0]?.error;if(q){me(dn,`RPC '${e}' stream ${a} received error:`,q);const ne=q.status;let F=(function(C){const I=jt[C];if(I!==void 0)return jR(I)})(ne),Y=q.message;F===void 0&&(F=se.INTERNAL,Y="Unknown error status: "+ne+" with message "+q.message),x=!0,A.a_(new de(F,Y)),b.close()}else me(dn,`RPC '${e}' stream ${a} received:`,P),A.u_(P)}})),M(h,ZA.STAT_EVENT,(O=>{O.stat===c0.PROXY?me(dn,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===c0.NOPROXY&&me(dn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){return new EU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="PersistentStream";class WR{constructor(e,n,r,a,o,u,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new de(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(pS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(pS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class v7 extends WR{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Pe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?ni(u.readTime):Pe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=E0(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=m0(d)?{documents:RU(o,d)}:{query:zR(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=VR(o,u.resumeToken);const m=v0(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Pe.min())>0){h.readTime=Yd(o,u.snapshotVersion.toTimestamp());const m=v0(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=NU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=E0(this.serializer),n.removeTarget=e,this.q_(n)}}class _7 extends WR{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AU(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=E0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>SU(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{}class E7 extends b7{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,_0(n,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(se.UNKNOWN,o.toString())}))}Ho(e,n,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,_0(n,r),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="RemoteStore";class T7{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{bo(this)&&(me(ho,"Restarting streams for network reachability change."),await(async function(d){const m=Oe(d);m.Ea.add(4),await dh(m),m.Ra.set("Unknown"),m.Ea.delete(4),await kp(m)})(this))}))})),this.Ra=new w7(r,a)}}async function kp(t){if(bo(t))for(const e of t.da)await e(!0)}async function dh(t){for(const e of t.da)await e(!1)}function ZR(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gv(n)?Hv(n):Yl(n).O_()&&$v(n,e))}function qv(t,e){const n=Oe(t),r=Yl(n);n.Ia.delete(e),r.O_()&&JR(n,e),n.Ia.size===0&&(r.O_()?r.L_():bo(n)&&n.Ra.set("Unknown"))}function $v(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yl(t).Y_(e)}function JR(t,e){t.Va.Ue(e),Yl(t).Z_(e)}function Hv(t){t.Va=new yU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yl(t).start(),t.Ra.ua()}function Gv(t){return bo(t)&&!Yl(t).x_()&&t.Ia.size>0}function bo(t){return Oe(t).Ea.size===0}function eC(t){t.Va=void 0}async function x7(t){t.Ra.set("Online")}async function S7(t){t.Ia.forEach(((e,n)=>{$v(t,e)}))}async function A7(t,e){eC(t),Gv(t)?(t.Ra.ha(e),Hv(t)):t.Ra.set("Unknown")}async function R7(t,e,n){if(t.Ra.set("Online"),e instanceof LR&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){me(ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wd(t,r)}else if(e instanceof yd?t.Va.Ze(e):e instanceof kR?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await YR(t.localStore);n.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),JR(o,d);const b=new $s(y.target,d,m,y.sequenceNumber);$v(o,b)})),o.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){me(ho,"Failed to raise snapshot:",r),await Wd(t,r)}}async function Wd(t,e,n){if(!Kl(e))throw e;t.Ea.add(1),await dh(t),t.Ra.set("Offline"),n||(n=()=>YR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(ho,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kp(t)}))}function tC(t,e){return e().catch((n=>Wd(t,n,e)))}async function Lp(t){const e=Oe(t),n=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Iv;for(;C7(e);)try{const a=await u7(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,I7(e,a)}catch(a){await Wd(e,a)}nC(e)&&rC(e)}function C7(t){return bo(t)&&t.Ta.length<10}function I7(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nC(t){return bo(t)&&!sa(t).x_()&&t.Ta.length>0}function rC(t){sa(t).start()}async function N7(t){sa(t).ra()}async function O7(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function D7(t,e,n){const r=t.Ta.shift(),a=kv.from(r,e,n);await tC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Lp(t)}async function P7(t,e){e&&sa(t).X_&&await(async function(r,a){if((function(u){return pU(u)&&u!==se.ABORTED})(a.code)){const o=r.Ta.shift();sa(r).B_(),await tC(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Lp(r)}})(t,e),nC(t)&&rC(t)}async function mS(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),me(ho,"RemoteStore received new credentials");const r=bo(n);n.Ea.add(3),await dh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kp(n)}async function M7(t,e){const n=Oe(t);e?(n.Ea.delete(2),await kp(n)):e||(n.Ea.add(2),await dh(n),n.Ra.set("Unknown"))}function Yl(t){return t.ma||(t.ma=(function(n,r,a){const o=Oe(n);return o.sa(),new v7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:x7.bind(null,t),t_:S7.bind(null,t),r_:A7.bind(null,t),H_:R7.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Gv(t)?Hv(t):t.Ra.set("Unknown")):(await t.ma.stop(),eC(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,r,a){const o=Oe(n);return o.sa(),new _7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:N7.bind(null,t),r_:P7.bind(null,t),ta:O7.bind(null,t),na:D7.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Lp(t)):(await t.fa.stop(),t.Ta.length>0&&(me(ho,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,h=new Kv(e,n,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qv(t,e){if(es("AsyncQueue",`${e}: ${t}`),Kl(t))return new de(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{static emptySet(e){return new Sl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=yc(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.ga=new Et(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ll{constructor(e,n,r,a,o,u,h,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Ll(e,n,Sl.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class k7{constructor(){this.queries=yS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Oe(n),o=a.queries;a.queries=yS(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new de(se.ABORTED,"Firestore shutting down"))}}function yS(){return new _o((t=>TR(t)),Np)}async function Yv(t,e){const n=Oe(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new j7,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=Qv(u,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Wv(n)}async function Xv(t,e){const n=Oe(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function L7(t,e){const n=Oe(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&Wv(n)}function V7(t,e,n){const r=Oe(t),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(n);r.queries.delete(e)}function Wv(t){t.Ca.forEach((e=>{e.next()}))}var x0,vS;(vS=x0||(x0={})).Ma="default",vS.Cache="cache";class Zv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==x0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.key=e}}class sC{constructor(e){this.key=e}}class U7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=xR(e),this.tu=new Sl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gS,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,b)=>{const E=a.get(y),x=Op(this.query,b)?b:null,A=!!E&&this.mutatedKeys.has(E.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let O=!1;E&&x?E.data.isEqual(x.data)?A!==M&&(r.track({type:3,doc:x}),O=!0):this.su(E,x)||(r.track({type:2,doc:x}),O=!0,(d&&this.eu(x,d)>0||m&&this.eu(x,m)<0)&&(h=!0)):!E&&x?(r.track({type:0,doc:x}),O=!0):E&&!x&&(r.track({type:1,doc:E}),O=!0,(d||m)&&(h=!0)),O&&(x?(u=u.add(x),o=M?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(x,A){const M=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:O})}};return M(x)-M(A)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,m=d!==this.Za;return this.Za=d,u.length!==0||m?{snapshot:new Ll(this.query,e.tu,o,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new sC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new iC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jv="SyncEngine";class F7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class B7{constructor(e){this.key=e,this.hu=!1}}class z7{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new _o((h=>TR(h)),Np),this.Iu=new Map,this.Eu=new Set,this.du=new Et(Te.comparator),this.Au=new Map,this.Ru=new Uv,this.Vu={},this.mu=new Map,this.fu=kl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q7(t,e,n=!0){const r=hC(t);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await aC(r,e,n,!0),a}async function $7(t,e){const n=hC(t);await aC(n,e,!0,!1)}async function aC(t,e,n,r){const a=await c7(t.localStore,ti(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await H7(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&ZR(t.remoteStore,a),h}async function H7(t,e,n,r,a){t.pu=(b,E,x)=>(async function(M,O,P,V){let q=O.view.ru(P);q.Cs&&(q=await cS(M.localStore,O.query,!1).then((({documents:N})=>O.view.ru(N,q))));const ne=V&&V.targetChanges.get(O.targetId),F=V&&V.targetMismatches.get(O.targetId)!=null,Y=O.view.applyChanges(q,M.isPrimaryClient,ne,F);return bS(M,O.targetId,Y.au),Y.snapshot})(t,b,E,x);const o=await cS(t.localStore,e,!0),u=new U7(e,o.Qs),h=u.ru(o.documents),d=fh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),m=u.applyChanges(h,t.isPrimaryClient,d);bS(t,n,m.au);const y=new F7(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function G7(t,e,n){const r=Oe(t),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!Np(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await w0(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&qv(r.remoteStore,a.targetId),S0(r,a.targetId)})).catch(Gl)):(S0(r,a.targetId),await w0(r.localStore,a.targetId,!0))}async function K7(t,e){const n=Oe(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qv(n.remoteStore,r.targetId))}async function Q7(t,e,n){const r=t8(t);try{const a=await(function(u,h){const d=Oe(u),m=mt.now(),y=h.reduce(((x,A)=>x.add(A.key)),qe());let b,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let A=ts(),M=qe();return d.Ns.getEntries(x,y).next((O=>{A=O,A.forEach(((P,V)=>{V.isValidDocument()||(M=M.add(P))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,A))).next((O=>{b=O;const P=[];for(const V of h){const q=lU(V,b.get(V.key).overlayedDocument);q!=null&&P.push(new fa(V.key,q,pR(q.value.mapValue),hr.exists(!0)))}return d.mutationQueue.addMutationBatch(x,m,P,h)})).next((O=>{E=O;const P=O.applyToLocalDocumentSet(b,M);return d.documentOverlayCache.saveOverlays(x,O.batchId,P)}))})).then((()=>({batchId:E.batchId,changes:AR(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let m=u.Vu[u.currentUser.toKey()];m||(m=new Et(ze)),m=m.insert(h,d),u.Vu[u.currentUser.toKey()]=m})(r,a.batchId,n),await ph(r,a.changes),await Lp(r.remoteStore)}catch(a){const o=Qv(a,"Failed to persist write");n.reject(o)}}async function oC(t,e){const n=Oe(t);try{const r=await o7(n.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Xe(u.hu,14607):a.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await ph(n,r,e)}catch(r){await Gl(r)}}function _S(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Oe(u);d.onlineState=h;let m=!1;d.queries.forEach(((y,b)=>{for(const E of b.Sa)E.va(h)&&(m=!0)})),m&&Wv(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y7(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new Et(Te.comparator);u=u.insert(o,mn.newNoDocument(o,Pe.min()));const h=qe().add(o),d=new Mp(Pe.min(),new Map,new Et(ze),u,h);await oC(r,d),r.du=r.du.remove(o),r.Au.delete(e),e_(r)}else await w0(r.localStore,e,!1).then((()=>S0(r,e,n))).catch(Gl)}async function X7(t,e){const n=Oe(t),r=e.batch.batchId;try{const a=await a7(n.localStore,e);uC(n,r,null),lC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ph(n,a)}catch(a){await Gl(a)}}async function W7(t,e,n){const r=Oe(t);try{const a=await(function(u,h){const d=Oe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((b=>(Xe(b!==null,37113),y=b.keys(),d.mutationQueue.removeMutationBatch(m,b)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);uC(r,e,n),lC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ph(r,a)}catch(a){await Gl(a)}}function lC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function uC(t,e,n){const r=Oe(t);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function S0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||cC(t,r)}))}function cC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),e_(t))}function bS(t,e,n){for(const r of n)r instanceof iC?(t.Ru.addReference(r.key,e),Z7(t,r)):r instanceof sC?(me(Jv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||cC(t,r.key)):Ce(19791,{wu:r})}function Z7(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(me(Jv,"New document in limbo: "+n),t.Eu.add(r),e_(t))}function e_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(dt.fromString(e)),r=t.fu.next();t.Au.set(r,new B7(n)),t.du=t.du.insert(n,r),ZR(t.remoteStore,new $s(ti(Ip(n.path)),r,"TargetPurposeLimboResolution",Ap.ce))}}async function ph(t,e,n){const r=Oe(t),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=Bv.As(d.targetId,m);o.push(y)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(d,m){const y=Oe(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(m,(E=>oe.forEach(E.Es,(x=>y.persistence.referenceDelegate.addReference(b,E.targetId,x))).next((()=>oe.forEach(E.ds,(x=>y.persistence.referenceDelegate.removeReference(b,E.targetId,x)))))))))}catch(b){if(!Kl(b))throw b;me(zv,"Failed to update sequence numbers: "+b)}for(const b of m){const E=b.targetId;if(!b.fromCache){const x=y.Ms.get(E),A=x.snapshotVersion,M=x.withLastLimboFreeSnapshotVersion(A);y.Ms=y.Ms.insert(E,M)}}})(r.localStore,o))}async function J7(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){me(Jv,"User change. New user:",e.toKey());const r=await QR(n.localStore,e);n.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(se.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ph(n,r.Ls)}}function e8(t,e){const n=Oe(t),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let a=qe();const o=n.Iu.get(e);if(!o)return a;for(const u of o){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function hC(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y7.bind(null,e),e.Pu.H_=L7.bind(null,e.eventManager),e.Pu.yu=V7.bind(null,e.eventManager),e}function t8(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W7.bind(null,e),e}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return s7(this.persistence,new n7,e.initialUser,this.serializer)}Cu(e){return new KR(Fv.mi,this.serializer)}Du(e){return new f7}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class n8 extends Zd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Xd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new BU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new KR((r=>Xd.mi(r,n)),this.serializer)}}class A0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_S(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J7.bind(null,this.syncEngine),await M7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new k7})()}createDatastore(e){const n=jp(e.databaseInfo.databaseId),r=(function(o){return new y7(o)})(e.databaseInfo);return(function(o,u,h,d){return new E7(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,o,u,h){return new T7(r,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>_S(this.syncEngine,n,0)),(function(){return dS.v()?new dS:new d7})())}createSyncEngine(e,n){return(function(a,o,u,h,d,m,y){const b=new z7(a,o,u,h,d,m);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Oe(n);me(ho,"RemoteStore shutting down."),r.Ea.add(5),await dh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}A0.provider={build:()=>new A0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class r8{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=Cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{me(aa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(aa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Oy(t,e){t.asyncQueue.verifyOperationInProgress(),me(aa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await QR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ES(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i8(t);me(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>mS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>mS(e.remoteStore,a))),t._onlineComponents=e}async function i8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(aa,"Using user provided OfflineComponentProvider");try{await Oy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await Oy(t,new Zd)}}else me(aa,"Using default OfflineComponentProvider"),await Oy(t,new n8(void 0));return t._offlineComponents}async function n_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(aa,"Using user provided OnlineComponentProvider"),await ES(t,t._uninitializedComponentsProvider._online)):(me(aa,"Using default OnlineComponentProvider"),await ES(t,new A0))),t._onlineComponents}function s8(t){return n_(t).then((e=>e.syncEngine))}function a8(t){return n_(t).then((e=>e.datastore))}async function Jd(t){const e=await n_(t),n=e.eventManager;return n.onListen=q7.bind(null,e.syncEngine),n.onUnlisten=G7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K7.bind(null,e.syncEngine),n}function o8(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,m){const y=new t_({next:E=>{y.Nu(),u.enqueueAndForget((()=>Xv(o,b)));const x=E.docs.has(h);!x&&E.fromCache?m.reject(new de(se.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&d&&d.source==="server"?m.reject(new de(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),b=new Zv(Ip(h.path),y,{includeMetadataChanges:!0,qa:!0});return Yv(o,b)})(await Jd(t),t.asyncQueue,e,n,r))),r.promise}function l8(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,m){const y=new t_({next:E=>{y.Nu(),u.enqueueAndForget((()=>Xv(o,b))),E.fromCache&&d.source==="server"?m.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),b=new Zv(h,y,{includeMetadataChanges:!0,qa:!0});return Yv(o,b)})(await Jd(t),t.asyncQueue,e,n,r))),r.promise}function u8(t,e,n){const r=new ei;return t.asyncQueue.enqueueAndForget((async()=>{try{const a=await a8(t);r.resolve((async function(u,h,d){const m=Oe(u),{request:y,gt:b,parent:E}=CU(m.serializer,K5(h),d);m.connection.$o||delete y.parent;const x=(await m.Ho("RunAggregationQuery",m.serializer.databaseId,E,y,1)).filter((M=>!!M.result));Xe(x.length===1,64727);const A=x[0].result?.aggregateFields;return Object.keys(A).reduce(((M,O)=>(M[b[O]]=A[O],M)),{})})(a,e,n))}catch(a){r.reject(a)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="firestore.googleapis.com",TS=!0;class xS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dC,this.ssl=TS}else this.host=e.host,this.ssl=e.ssl??TS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UU)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new c5;switch(r.type){case"firstParty":return new p5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=wS.get(n);r&&(me("ComponentProvider","Removing Datastore"),wS.delete(n),r.terminate())})(this),Promise.resolve()}}function c8(t,e,n,r={}){t=An(t,Vp);const a=zl(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(oA(`https://${h}`),lA("Firestore",!0)),o.host!==dC&&o.host!==h&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!ao(d,u)&&(t._setSettings(d),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=pn.MOCK_USER;else{m=m6(r.mockUserToken,t._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new pn(b)}t._authCredentials=new h5(new nR(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=class pC{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pC(this.firestore,e,this._query)}};class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ch(n,St._jsonSchema))return new St(e,r||null,new Te(dt.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Lt("string",St._jsonSchemaVersion),referencePath:Lt("string")};class Ws extends Xl{constructor(e,n,r){super(e,n,Ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new Te(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function Wl(t,e,...n){if(t=Vt(t),rR("collection","path",e),t instanceof Vp){const r=dt.fromString(e,...n);return Lx(r),new Ws(t,null,r)}{if(!(t instanceof St||t instanceof Ws))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return Lx(r),new Ws(t.firestore,null,r)}}function Sr(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=Cv.newId()),rR("doc","path",e),t instanceof Vp){const r=dt.fromString(e,...n);return kx(r),new St(t,null,new Te(r))}{if(!(t instanceof St||t instanceof Ws))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return kx(r),new St(t.firestore,t instanceof Ws?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="AsyncQueue";class AS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XR(this,"async_queue_retry"),this._c=()=>{const r=Ny();r&&me(SS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Kl(e))throw e;me(SS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",RS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Kv.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Ce(47125,{Pc:RS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(t,["next","error","complete"])}class ai extends Vp{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new AS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AS(e),this._firestoreClient=void 0,await e}}}function h8(t,e){const n=typeof t=="object"?t:fA(),r=typeof t=="string"?t:Hd,a=vv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=d6("firestore");o&&c8(a,...o)}return a}function mh(t){if(t._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||f8(t),t._firestoreClient}function f8(t){const e=t._freezeSettings(),n=(function(a,o,u,h){return new D5(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new r8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class p8{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cr(cn.fromBase64String(e))}catch(n){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cr(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:cr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ch(e,cr._jsonSchema))return cr.fromBase64String(e.bytes)}}cr._jsonSchemaVersion="firestore/bytes/1.0",cr._jsonSchema={type:Lt("string",cr._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(ch(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Lt("string",ri._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ch(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new de(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Lt("string",ii._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=/^__.*__$/;class g8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new hh(e,this.data,n,this.fieldTransforms)}}class mC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class r_{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new r_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ep(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gC(this.Ac)&&m8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class y8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jp(e)}Cc(e,n,r,a=!1){return new r_({Ac:e,methodName:n,Dc:r,path:un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(t){const e=t._freezeSettings(),n=jp(t._databaseId);return new y8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yC(t,e,n,r,a,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,a);s_("Data must be an object, but it was:",u,r);const h=vC(r,u);let d,m;if(o.merge)d=new $n(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const E=R0(e,b,n);if(!u.contains(E))throw new de(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);bC(y,E)||y.push(E)}d=new $n(y),m=u.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,m=u.fieldTransforms;return new g8(new Pn(h),d,m)}class zp extends Fp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zp}}class i_ extends Fp{_toFieldTransform(e){return new iU(e.path,new qc)}isEqual(e){return e instanceof i_}}function v8(t,e,n,r){const a=t.Cc(1,e,n);s_("Data must be an object, but it was:",a,r);const o=[],u=Pn.empty();ha(r,((d,m)=>{const y=a_(e,d,n);m=Vt(m);const b=a.yc(y);if(m instanceof zp)o.push(y);else{const E=gh(m,b);E!=null&&(o.push(y),u.set(y,E))}}));const h=new $n(o);return new mC(u,h,a.fieldTransforms)}function _8(t,e,n,r,a,o){const u=t.Cc(1,e,n),h=[R0(e,r,n)],d=[a];if(o.length%2!=0)throw new de(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(R0(e,o[E])),d.push(o[E+1]);const m=[],y=Pn.empty();for(let E=h.length-1;E>=0;--E)if(!bC(m,h[E])){const x=h[E];let A=d[E];A=Vt(A);const M=u.yc(x);if(A instanceof zp)m.push(x);else{const O=gh(A,M);O!=null&&(m.push(x),y.set(x,O))}}const b=new $n(m);return new mC(y,b,u.fieldTransforms)}function b8(t,e,n,r=!1){return gh(n,t.Cc(r?4:3,e))}function gh(t,e){if(_C(t=Vt(t)))return s_("Unsupported field value:",e,t),vC(t,e);if(t instanceof Fp)return(function(r,a){if(!gC(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let d=gh(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(t,e)}return(function(r,a){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tU(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mt.fromDate(r);return{timestampValue:Yd(a.serializer,o)}}if(r instanceof mt){const o=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(a.serializer,o)}}if(r instanceof ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cr)return{bytesValue:VR(a.serializer,r._byteString)};if(r instanceof St){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ii)return(function(u,h){return{mapValue:{fields:{[fR]:{stringValue:dR},[Gd]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Mv(h.serializer,m)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Sp(r)}`)})(t,e)}function vC(t,e){const n={};return aR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,((r,a)=>{const o=gh(a,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function _C(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof ri||t instanceof cr||t instanceof St||t instanceof Fp||t instanceof ii)}function s_(t,e,n){if(!_C(n)||!iR(n)){const r=Sp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function R0(t,e,n){if((e=Vt(e))instanceof Up)return e._internalPath;if(typeof e=="string")return a_(t,e);throw ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const E8=new RegExp("[~\\*/\\[\\]]");function a_(t,e,n){if(e.search(E8)>=0)throw ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Up(...e.split("."))._internalPath}catch{throw ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ep(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new de(se.INVALID_ARGUMENT,h+t+d)}function bC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w8 extends EC{data(){return super.data()}}function qp(t,e){return typeof e=="string"?a_(t,e):e instanceof Up?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o_{}class TC extends o_{}function yh(t,e,...n){let r=[];e instanceof o_&&r.push(e),r=r.concat(n),(function(o){const u=o.filter((d=>d instanceof l_)).length,h=o.filter((d=>d instanceof $p)).length;if(u>1||u>0&&h>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class $p extends TC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $p(e,n,r)}_apply(e){const n=this._parse(e);return xC(e._query,n),new Xl(e.firestore,e.converter,g0(e._query,n))}_parse(e){const n=Bp(e.firestore);return(function(o,u,h,d,m,y,b){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){NS(b,y);const A=[];for(const M of b)A.push(IS(d,o,M));E={arrayValue:{values:A}}}else E=IS(d,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||NS(b,y),E=b8(h,u,b,y==="in"||y==="not-in");return kt.create(m,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _c(t,e,n){const r=e,a=qp("where",t);return $p._create(a,r,n)}class l_ extends o_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)xC(u,d),u=g0(u,d)})(e._query,n),new Xl(e.firestore,e.converter,g0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class u_ extends TC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new u_(e,n)}_apply(e){const n=(function(a,o,u){if(a.startAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(o,u)})(e._query,this._field,this._direction);return new Xl(e.firestore,e.converter,(function(a,o){const u=a.explicitOrderBy.concat([o]);return new Ql(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function vd(t,e="asc"){const n=e,r=qp("orderBy",t);return u_._create(r,n)}function IS(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ER(e)&&n.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!Te.isDocumentKey(r))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hx(t,new Te(r))}if(n instanceof St)return Hx(t,n._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sp(n)}.`)}function NS(t,e){if(!Array.isArray(t)||t.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xC(t,e){const n=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T8{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,((a,o)=>{r[a]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[Gd].arrayValue?.values?.map((r=>It(r.doubleValue)));return new ii(n)}convertGeoPoint(e){return new ri(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const n=na(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);Xe(HR(r),9688,{name:e});const a=new Fc(r.get(1),r.get(3)),o=new Te(r.popFirst(5));return a.isEqual(n)||es(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function x8(){return new d8("count")}class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends EC{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:Lt("string",Ja._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class _d extends Ja{data(e={}){return super.data(e)}}class eo{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new bc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new _d(this._firestore,this._userDataWriter,r.key,r,new bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new _d(a._firestore,a._userDataWriter,h.doc.key,h.doc,new bc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new _d(a._firestore,a._userDataWriter,h.doc.key,h.doc,new bc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:S8(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){t=An(t,St);const e=An(t.firestore,ai);return o8(mh(e),t._key).then((n=>IC(e,t,n)))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Lt("string",eo._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Hp extends T8{constructor(e){super(),this.firestore=e}convertBytes(e){return new cr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function AC(t){t=An(t,Xl);const e=An(t.firestore,ai),n=mh(e),r=new Hp(e);return wC(t._query),l8(n,t._query).then((a=>new eo(e,r,t,a)))}function OS(t,e,n){t=An(t,St);const r=An(t.firestore,ai),a=SC(t.converter,e);return Gp(r,[yC(Bp(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,hr.none())])}function RC(t,e,n,...r){t=An(t,St);const a=An(t.firestore,ai),o=Bp(a);let u;return u=typeof(e=Vt(e))=="string"||e instanceof Up?_8(o,"updateDoc",t._key,e,n,r):v8(o,"updateDoc",t._key,e),Gp(a,[u.toMutation(t._key,hr.exists(!0))])}function CC(t){return Gp(An(t.firestore,ai),[new jv(t._key,hr.none())])}function A8(t,e){const n=An(t.firestore,ai),r=Sr(t),a=SC(t.converter,e);return Gp(n,[yC(Bp(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then((()=>r))}function R8(t,...e){t=Vt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||CS(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(CS(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,u,h;if(t instanceof St)u=An(t.firestore,ai),h=Ip(t._key.path),o={next:d=>{e[r]&&e[r](IC(u,t,d))},error:e[r+1],complete:e[r+2]};else{const d=An(t,Xl);u=An(d.firestore,ai),h=d._query;const m=new Hp(u);o={next:y=>{e[r]&&e[r](new eo(u,m,d,y))},error:e[r+1],complete:e[r+2]},wC(t._query)}return(function(m,y,b,E){const x=new t_(E),A=new Zv(y,x,b);return m.asyncQueue.enqueueAndForget((async()=>Yv(await Jd(m),A))),()=>{x.Nu(),m.asyncQueue.enqueueAndForget((async()=>Xv(await Jd(m),A)))}})(mh(u),h,a,o)}function Gp(t,e){return(function(r,a){const o=new ei;return r.asyncQueue.enqueueAndForget((async()=>Q7(await s8(r),a,o))),o.promise})(mh(t),e)}function IC(t,e,n){const r=n.docs.get(e._key),a=new Hp(t);return new Ja(t,a,e._key,r,new bc(n.hasPendingWrites,n.fromCache),e.converter)}function h_(t){return C8(t,{count:x8()})}function C8(t,e){const n=An(t.firestore,ai),r=mh(n),a=N5(e,((o,u)=>new fU(u,o.aggregateType,o._internalFieldPath)));return u8(r,t._query,a).then((o=>(function(h,d,m){const y=new Hp(h);return new p8(d,y,m)})(n,t,o)))}function I8(){return new i_("serverTimestamp")}(function(e,n=!0){(function(a){Hl=a})(ql),Nl(new oo("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new ai(new f5(r.getProvider("auth-internal")),new m5(u,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(m.options.projectId,y)})(u,a),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ys(Dx,Px,e),Ys(Dx,Px,"esm2020")})();const N8={apiKey:'"AIzaSyB7-0piHaqr9nXpH1UIiL1ozOhW46GIPzw"',authDomain:'"riwaq-5d8c9.firebaseapp.com"',projectId:'"riwaq-5d8c9"',storageBucket:'"riwaq-5d8c9.firebasestorage.app"',messagingSenderId:'"119496148976"',appId:'"1:119496148976:web:e124a66cca06f8aa413f35"'},NC=hA(N8),vh=l5(NC),gn=h8(NC),OC=async t=>{if(t.includes("@"))return t;const e=await c_(Sr(gn,"usernames",t));if(!e.exists())throw{code:"auth/user-not-found"};return e.data().email},f_=(t,e="generic")=>{const n=t?.code||"auth/unknown",r=(a,o={})=>({code:n,message:a,fieldErrors:o});if(n==="auth/invalid-login-credentials"||n==="auth/invalid-credential")return r("Incorrect email/username or password.",{...e==="login"?{identifier:"Check this",password:"Check this"}:{}});switch(n){case"auth/user-not-found":return r("No account found.",{identifier:"Not found"});case"auth/wrong-password":return r("Incorrect password.",{password:"Wrong password"});case"auth/email-already-in-use":return r("This email is already in use.",{email:"Already in use"});case"auth/weak-password":return r("Password is too weak.",{password:"Too weak"});case"auth/username-taken":return r("Username is taken.",{username:"Taken"});case"auth/invalid-email":return r("Invalid email format.",{email:"Invalid"});default:return r("Something went wrong. Please try again.")}},C0=vp("auth/signInWithIdentifier",async({identifier:t,password:e},{rejectWithValue:n})=>{try{const r=await OC(t);return await HV(vh,r,e),!0}catch(r){return n(f_(r,"login"))}}),I0=vp("auth/signUp",async({name:t,email:e,username:n,password:r,locale:a="en"},{rejectWithValue:o})=>{try{if((await c_(Sr(gn,"usernames",n))).exists())throw{code:"auth/username-taken"};const h=await $V(vh,e,r);return await KV(h.user,{displayName:t}),await OS(Sr(gn,"users",h.user.uid),{email:e,name:t,isAdmin:!1,preferences:{locale:a},wishlist:[],favourites:[]}),await OS(Sr(gn,"usernames",n),{email:e,uid:h.user.uid}),!0}catch(u){return o(f_(u,"signup"))}}),N0=vp("auth/resetPassword",async({emailOrUsername:t},{rejectWithValue:e})=>{try{const n=await OC(t);return await qV(vh,n),!0}catch(n){return e(f_(n,"reset"))}}),DC=vp("auth/signOut",async()=>{await WV(vh)}),PC=z3({name:"auth",initialState:{user:null,isInitialized:!1,error:null},reducers:{setCurrentUser(t,{payload:e}){t.user=e},setAuthInitialized(t,{payload:e}){t.isInitialized=e},clearAuthError(t){t.error=null}},extraReducers:t=>{t.addCase(C0.rejected,(e,n)=>{e.error=n.payload}),t.addCase(I0.rejected,(e,n)=>{e.error=n.payload}),t.addCase(N0.rejected,(e,n)=>{e.error=n.payload}),t.addCase(DC.fulfilled,e=>{e.user=null})}}),{setCurrentUser:DS,setAuthInitialized:O8,clearAuthError:d_}=PC.actions,D8=PC.reducer,Kp=t=>t.auth.user,MC=t=>t.auth.isInitialized,P8=(t,e,n,r)=>{const a=[n,{code:e,...r||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);to(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},PS={},O0=(t,e,n,r)=>{to(n)&&PS[n]||(to(n)&&(PS[n]=new Date),P8(t,e,n,r))},jC=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},D0=(t,e,n)=>{t.loadNamespaces(e,jC(t,n))},MS=(t,e,n,r)=>{if(to(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return D0(t,n,r);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,jC(t,r))},M8=(t,e,n={})=>!e.languages||!e.languages.length?(O0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,t))return!1}}),to=t=>typeof t=="string",j8=t=>typeof t=="object"&&t!==null,k8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,L8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},V8=t=>L8[t],U8=t=>t.replace(k8,V8);let P0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:U8};const F8=(t={})=>{P0={...P0,...t}},B8=()=>P0;let kC;const z8=t=>{kC=t},q8=()=>kC,$8={type:"3rdParty",init(t){F8(t.options.react),z8(t)}},H8=D.createContext();class G8{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const K8=(t,e)=>{const n=D.useRef();return D.useEffect(()=>{n.current=t},[t,e]),n.current},LC=(t,e,n,r)=>t.getFixedT(e,n,r),Q8=(t,e,n,r)=>D.useCallback(LC(t,e,n,r),[t,e,n,r]),oi=(t,e={})=>{const{i18n:n}=e,{i18n:r,defaultNS:a}=D.useContext(H8)||{},o=n||r||q8();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new G8),!o){O0(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const ne=(Y,N)=>to(N)?N:j8(N)&&to(N.defaultValue)?N.defaultValue:Array.isArray(Y)?Y[Y.length-1]:Y,F=[ne,{},!1];return F.t=ne,F.i18n={},F.ready=!1,F}o.options.react?.wait&&O0(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...B8(),...o.options.react,...e},{useSuspense:h,keyPrefix:d}=u;let m=a||o.options?.defaultNS;m=to(m)?[m]:m||["translation"],o.reportNamespaces.addUsedNamespaces?.(m);const y=(o.isInitialized||o.initializedStoreOnce)&&m.every(ne=>M8(ne,o,u)),b=Q8(o,e.lng||null,u.nsMode==="fallback"?m:m[0],d),E=()=>b,x=()=>LC(o,e.lng||null,u.nsMode==="fallback"?m:m[0],d),[A,M]=D.useState(E);let O=m.join();e.lng&&(O=`${e.lng}${O}`);const P=K8(O),V=D.useRef(!0);D.useEffect(()=>{const{bindI18n:ne,bindI18nStore:F}=u;V.current=!0,!y&&!h&&(e.lng?MS(o,e.lng,m,()=>{V.current&&M(x)}):D0(o,m,()=>{V.current&&M(x)})),y&&P&&P!==O&&V.current&&M(x);const Y=()=>{V.current&&M(x)};return ne&&o?.on(ne,Y),F&&o?.store.on(F,Y),()=>{V.current=!1,o&&ne&&ne?.split(" ").forEach(N=>o.off(N,Y)),F&&o&&F.split(" ").forEach(N=>o.store.off(N,Y))}},[o,O]),D.useEffect(()=>{V.current&&y&&M(E)},[o,d,y]);const q=[A,o,y];if(q.t=A,q.i18n=o,q.ready=y,y||!y&&!h)return q;throw new Promise(ne=>{e.lng?MS(o,e.lng,m,()=>ne()):D0(o,m,()=>ne())})},Y8=nh({identifier:Sn().required("Required"),password:Sn().min(6,"Too short").required("Required")});function X8(){const{t}=oi(),[e,n]=D.useState(null),r=Cl(Kp),a=pp(),o=oa(),{search:u}=li(),h=new URLSearchParams(u).get("redirect")||"/",d=()=>o(h,{replace:!0});return D.useEffect(()=>()=>{a(d_())},[a]),_.jsxs(ov,{title:t("auth.login_title"),subtitle:t("auth.login_subtitle"),from:"from-[#49BBBD]",via:"via-[#36A2A4]",to:"to-[#2F7E80]",imageSrc:"/login.svg",brandName:"Riwaq",children:[e&&_.jsx("div",{role:"status","aria-live":"polite",className:"-mt-10 mb-3 rounded-lg bg-red-50 px-3 py-2 text-sm text-red-700",children:e}),_.jsx(dp,{initialValues:{identifier:"",password:""},validationSchema:Y8,onSubmit:async(m,{setSubmitting:y,setFieldError:b})=>{n(null);const E=await a(C0(m));if(y(!1),C0.rejected.match(E)){const x=E.payload;x?.fieldErrors&&Object.entries(x.fieldErrors).forEach(([A,M])=>{b(A,M)}),n(x?.message||"Login failed.")}else d()},children:({isSubmitting:m})=>_.jsxs(th,{className:"space-y-6",children:[_.jsx(ld,{name:"identifier",label:t("auth.email_username"),placeholder:"me@example.com or myusername",autoComplete:"username"}),_.jsxs("div",{children:[_.jsx(Ky,{name:"password",autoComplete:"current-password",label:t("auth.password")}),_.jsx("div",{className:"flex w-full items-end justify-end",children:_.jsx(Al,{to:"/reset",className:"text-sm text-blue-600 hover:text-blue-700",children:t("auth.forgot")})})]}),_.jsx("button",{type:"submit",disabled:m,className:"inline-flex w-full items-center justify-center rounded-2xl bg-blue-400 px-4 py-3.5 text-[17px] font-semibold text-white shadow-sm hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:outline-none disabled:opacity-60",children:t(m?"common.signing_in":"auth.login")}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Dont have an account?"," ",_.jsx(Al,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-700",children:"Create one"})]}),r&&_.jsxs("div",{className:"rounded-lg bg-green-50 px-3 py-2 text-xs text-green-700",children:["Youre signed in as"," ",_.jsx("span",{className:"font-medium",children:r.name||r.email}),"."]})]})})]})}const W8=nh({name:Sn().min(2,"Too short").required("Required"),email:Sn().email("Invalid email").required("Required"),username:Sn().min(3,"Min 3 chars").required("Required"),password:Sn().min(6,"Min 6 chars").required("Required"),confirm:Sn().oneOf([tk("password")],"Passwords must match").required("Required"),locale:Sn().oneOf(["en","ar"]).required("Required")});function Z8(){const[t,e]=D.useState(null),n=pp(),r=oa();D.useEffect(()=>()=>{n(d_())},[n]);const a=()=>{e("Account created! You are now signed in."),r("/",{replace:!0})};return _.jsxs(ov,{title:"Create your account",subtitle:"Join and start learning today.",imageSrc:"/register.svg",children:[t&&_.jsx("div",{role:"status","aria-live":"polite",className:`-mt-10 mb-3 rounded-lg px-3 py-2 text-sm ${t.startsWith("Account created")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:t}),_.jsx(dp,{initialValues:{name:"",email:"",username:"",password:"",confirm:"",locale:"en"},validationSchema:W8,onSubmit:async(o,{setSubmitting:u,setFieldError:h})=>{e(null);const{Confirm:d,...m}=o,y=await n(I0(m));if(u(!1),I0.rejected.match(y)){const b=y.payload;b?.fieldErrors&&Object.entries(b.fieldErrors).forEach(([E,x])=>{h(E,x)}),e(b?.message||"Signup failed.")}else a()},children:({isSubmitting:o})=>_.jsxs(th,{className:"space-y-6",children:[_.jsx(ld,{name:"name",label:"Full name"}),_.jsx(ld,{name:"username",label:"Username"}),_.jsx(ld,{name:"email",label:"Email",type:"email",autoComplete:"email"}),_.jsx(Ky,{name:"password",label:"Password"}),_.jsx(Ky,{name:"confirm",label:"Confirm password"}),_.jsx("button",{type:"submit",disabled:o,className:"inline-flex w-full items-center justify-center rounded-2xl bg-blue-400 px-4 py-3.5 text-[17px] font-semibold text-white shadow-sm hover:bg-blue-700 focus:ring-2 focus:ring-blue-600 focus:outline-none disabled:opacity-60",children:o?"Creating":"Create Account"}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",_.jsx(Al,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-700",children:"Sign in"})]})]})})]})}function J8(){return _.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}function jS({children:t,requireAdmin:e=!1}){const n=Cl(Kp);return Cl(MC)?n?e&&!n.isAdmin?_.jsx(Kw,{to:"/403",replace:!0}):t:_.jsx(Kw,{to:"/login",replace:!0}):_.jsx("div",{className:"flex h-screen items-center justify-center",children:_.jsx("div",{className:"h-32 w-32 animate-spin rounded-full border-b-2 border-gray-900"})})}const kS="ui.locale";function eF({className:t=""}){const{i18n:e}=oi(),n=Cl(Kp),[r,a]=D.useState(()=>localStorage.getItem(kS)||"en");D.useEffect(()=>{o(r,!1)},[]);async function o(u,h=!0){if(await e.changeLanguage(u),document.documentElement.lang=u,document.documentElement.dir=u==="ar"?"rtl":"ltr",h&&(localStorage.setItem(kS,u),n?.uid))try{await RC(Sr(gn,"users",n.uid),{"preferences.locale":u})}catch{}a(u)}return _.jsxs("div",{className:`inline-flex overflow-hidden rounded-lg border border-gray-200 bg-white p-0.5 shadow-sm ${t}`,children:[_.jsx("button",{onClick:()=>o("en"),className:`px-3 py-1.5 text-sm font-medium ${r==="en"?"bg-[#49BBBD]/10 text-[#2F7E80] ring-1 ring-[#49BBBD]/30":"text-gray-700 hover:bg-[#49BBBD]/5"}`,"aria-pressed":r==="en",children:"EN"}),_.jsx("button",{onClick:()=>o("ar"),className:`px-3 py-1.5 text-sm font-medium ${r==="ar"?"bg-[#49BBBD]/10 text-[#2F7E80] ring-1 ring-[#49BBBD]/30":"text-gray-700 hover:bg-[#49BBBD]/5"}`,"aria-pressed":r==="ar",children:"AR"})]})}function tF(){const{t}=oi(),e=Cl(Kp),n=pp(),r=oa(),[a,o]=D.useState(!1),u=()=>o(E=>!E),h=()=>o(!1),d=async()=>{await n(DC()),h(),r("/",{replace:!0})},m=[{label:t("nav.home"),path:"/"},{label:t("nav.courses"),path:"/courses"},{label:t("nav.careers"),path:"/careers"},{label:t("nav.blog"),path:"/blog"},{label:t("nav.about"),path:"/about"},...e?.isAdmin?[{label:t("nav.admin"),path:"/admin"}]:[]],y=({isActive:E})=>`group relative inline-block px-1 py-0.5 text-[15px] font-medium transition ${E?"text-white after:scale-x-100":"text-white/85 after:scale-x-0 hover:text-white"} after:absolute after:-bottom-0.5 after:left-0 after:h-[2px] after:w-full after:origin-left after:bg-white after:transition-transform after:duration-300`,b=(e?.name?.trim()?.charAt(0)||e?.email?.trim()?.charAt(0)||"U").toUpperCase();return _.jsxs("header",{className:"fixed inset-x-0 top-0 z-50 h-16 bg-[#49BBBD] text-white shadow-sm",children:[_.jsxs("nav",{className:"mx-auto flex h-full max-w-7xl items-center justify-between px-4",children:[_.jsx(Jt,{to:"/",onClick:h,className:"text-3xl font-extrabold tracking-tight",children:_.jsx("span",{className:"rounded-md bg-white px-2 py-1 text-[#49BBBD]",children:"Riwaq"})}),_.jsxs("div",{className:"hidden items-center gap-6 md:flex",children:[m.map(({label:E,path:x})=>_.jsx(Jt,{to:x,onClick:h,className:y,children:E},x)),_.jsx(eF,{}),e?_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"grid h-8 w-8 place-items-center rounded-full bg-white/25 text-sm font-bold",children:b}),_.jsx("span",{className:"hidden text-sm text-white/90 lg:inline",children:e.name||e.email})]}),_.jsx("button",{onClick:d,className:"text-sm font-semibold hover:text-white/90",children:t("auth.logout")})]}):_.jsxs(_.Fragment,{children:[_.jsx(Jt,{to:"/login",onClick:h,className:"rounded-full bg-white/20 px-4 py-2 text-sm font-semibold text-white hover:opacity-90",children:t("auth.login")}),_.jsx(Jt,{to:"/register",onClick:h,className:"rounded-full bg-white/20 px-4 py-2 text-sm font-semibold text-white hover:opacity-90",children:t("auth.register")})]})]}),_.jsx("button",{onClick:u,className:"text-2xl text-white focus:outline-none md:hidden","aria-label":"Toggle menu","aria-expanded":a,children:a?_.jsx(I2,{}):_.jsx(S2,{})})]}),a&&_.jsxs("div",{className:"space-y-2 bg-[#49BBBD] px-4 pt-2 pb-4 text-white md:hidden",children:[m.map(({label:E,path:x})=>_.jsx(Jt,{to:x,onClick:h,className:"block px-2 py-2 text-[16px] hover:text-white/95",children:E},x)),e?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center gap-2 px-2 py-2",children:[_.jsx("div",{className:"grid h-8 w-8 place-items-center rounded-full bg-white/25 text-sm font-bold",children:b}),_.jsx("span",{className:"text-sm",children:e.name||e.email})]}),_.jsx("button",{onClick:d,className:"block w-full px-2 py-2 text-left text-[16px] hover:text-white/95",children:t("auth.logout")})]}):_.jsxs(_.Fragment,{children:[_.jsx(Jt,{to:"/login",onClick:h,className:"block px-2 py-2 text-[16px] hover:text-white/95",children:t("auth.login")}),_.jsx(Jt,{to:"/register",onClick:h,className:"block px-2 py-2 text-[16px] hover:text-white/95",children:t("auth.register")})]})]})]})}const nF=nh({emailOrUsername:Sn().required("Required")});function rF(){const[t,e]=D.useState(null),n=pp();return D.useEffect(()=>()=>{n(d_())},[n]),_.jsxs(ov,{title:"Reset your password",subtitle:"Well send a password reset link to your email.",imageSrc:"/reset-password.svg",children:[t&&_.jsx("div",{className:`-mt-10 mb-3 rounded-lg px-3 py-2 text-sm ${t.startsWith("If")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:t}),_.jsx(dp,{initialValues:{emailOrUsername:""},validationSchema:nF,onSubmit:async(r,{setSubmitting:a,setFieldError:o})=>{e(null);const u=await n(N0(r));if(a(!1),N0.rejected.match(u)){const h=u.payload;h?.fieldErrors&&Object.entries(h.fieldErrors).forEach(([d,m])=>{o(d,m)}),e(h?.message||"Reset failed.")}else e("If the account exists, a reset email has been sent.")},children:({isSubmitting:r})=>_.jsxs(th,{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email or Username"}),_.jsx(Kr,{name:"emailOrUsername",className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"}),_.jsx("div",{className:"mt-1 h-5",children:_.jsx($i,{name:"emailOrUsername",component:"p",className:"text-xs text-red-600"})})]}),_.jsx("button",{type:"submit",disabled:r,className:"inline-flex w-full items-center justify-center rounded-lg bg-blue-600 px-4 py-2.5 font-medium text-white shadow-sm hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:outline-none disabled:opacity-60",children:r?"Sending":"Send reset email"}),_.jsx("p",{className:"text-sm text-gray-600",children:_.jsx(Al,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-700",children:"Back to login"})})]})})]})}function iF(){const{t}=oi();return _.jsxs("section",{"aria-labelledby":"nf-title",className:`
        relative
        min-h-[calc(100svh-var(--nav-h))]
        overflow-hidden
        bg-gradient-to-br from-[#49BBBD] via-[#36A2A4] to-[#2F7E80]
        text-white
      `,children:[_.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[_.jsx("div",{className:"absolute -top-20 -left-20 h-72 w-72 rounded-full bg-white/10 blur-3xl"}),_.jsx("div",{className:"absolute -bottom-24 -right-24 h-80 w-80 rounded-full bg-white/10 blur-3xl"})]}),_.jsx("div",{className:"mx-auto flex min-h-[inherit] w-full max-w-7xl items-center justify-center px-4 py-16 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"mx-auto max-w-md text-center",children:[_.jsx("h1",{id:"nf-title",className:"text-[70px] font-extrabold leading-none sm:text-[96px]",children:t("errors.404_code")}),_.jsx("p",{className:"mt-2 text-xl font-semibold sm:text-2xl",children:t("errors.404_title")}),_.jsx("p",{className:"mt-3 text-white/90",children:t("errors.404_message")}),_.jsx("div",{className:"mt-8",children:_.jsx(Jt,{to:"/",className:`
                inline-flex items-center justify-center
                rounded-xl border border-white/80 bg-white/10
                px-6 py-3 text-base font-semibold
                backdrop-blur-sm transition
                hover:bg-white hover:text-[#2F7E80]
                focus:outline-none focus:ring-2 focus:ring-white/80
              `,children:t("common.go_home")})})]})})]})}function sF(){const{t}=oi();return _.jsxs("section",{"aria-labelledby":"forbidden-title",className:"relative min-h-[calc(100svh-var(--nav-h))] overflow-hidden bg-gradient-to-br from-[#49BBBD] via-[#36A2A4] to-[#2F7E80] text-white",children:[_.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[_.jsx("div",{className:"absolute -top-10 right-[-30%] h-[140%] w-[60%] rotate-12 bg-gradient-to-b from-rose-500/25 to-transparent blur-2xl"}),_.jsx("div",{className:"absolute -bottom-24 -left-24 h-80 w-80 rounded-full bg-rose-400/20 blur-3xl"})]}),_.jsx("div",{className:"mx-auto flex min-h-[inherit] w-full max-w-7xl items-center justify-center px-4 py-16 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"mx-auto max-w-md text-center",children:[_.jsxs("div",{className:"mx-auto mb-6 inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-sm font-semibold text-white/90 ring-1 ring-white/20",children:[_.jsx(E2,{className:"text-rose-300"}),_.jsx("span",{className:"tracking-wide",children:"Access Restricted"})]}),_.jsx("h1",{id:"forbidden-title",className:"text-[56px] leading-none font-extrabold sm:text-[80px] md:text-[96px]",children:t("errors.403_code")}),_.jsxs("h2",{className:"mt-2 text-xl font-semibold sm:text-2xl",children:[t("errors.403_title")," ",t("errors.403_message"),"."]}),_.jsx("p",{className:"mt-3 text-white/90",children:"If you think this is a mistake, contact an administrator or try signing in with a different account."}),_.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center gap-3 sm:flex-row",children:[_.jsx(Jt,{to:"/",className:"inline-flex items-center justify-center rounded-xl border border-white/80 bg-white/10 px-6 py-3 text-base font-semibold backdrop-blur-sm transition hover:bg-white hover:text-[#2F7E80] focus:ring-2 focus:ring-white/80 focus:outline-none",children:t("common.go_home")}),_.jsxs("button",{type:"button",onClick:()=>window.history.back(),className:"inline-flex items-center justify-center gap-2 rounded-xl bg-rose-500/90 px-6 py-3 text-base font-semibold text-white shadow-sm transition hover:bg-rose-500 focus:ring-2 focus:ring-white/80 focus:outline-none",children:[_.jsx(jk,{"aria-hidden":!0}),"Back"]})]})]})})]})}function Qp({title:t,actions:e}){return _.jsxs("header",{className:"mb-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[_.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:t}),e?_.jsx("div",{className:"flex items-center gap-2",children:e}):null]})}var Zl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},oF=class{#e=aF;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Ya=new oF;function lF(t){setTimeout(t,0)}var fo=typeof window>"u"||"Deno"in globalThis;function Tn(){}function uF(t,e){return typeof t=="function"?t(e):t}function M0(t){return typeof t=="number"&&t>=0&&t!==1/0}function VC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zs(t,e){return typeof t=="function"?t(e):t}function lr(t,e){return typeof t=="function"?t(e):t}function LS(t,e){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:u,stale:h}=t;if(u){if(r){if(e.queryHash!==p_(u,e.options))return!1}else if(!Gc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||o&&!o(e))}function VS(t,e){const{exact:n,status:r,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(po(e.options.mutationKey)!==po(o))return!1}else if(!Gc(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function p_(t,e){return(e?.queryKeyHashFn||po)(t)}function po(t){return JSON.stringify(t,(e,n)=>j0(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Gc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gc(t[n],e[n])):!1}var cF=Object.prototype.hasOwnProperty;function UC(t,e){if(t===e)return t;const n=US(t)&&US(e);if(!n&&!(j0(t)&&j0(e)))return e;const a=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),u=o.length,h=n?new Array(u):{};let d=0;for(let m=0;m<u;m++){const y=n?m:o[m],b=t[y],E=e[y];if(b===E){h[y]=b,(n?m<a:cF.call(t,y))&&d++;continue}if(b===null||E===null||typeof b!="object"||typeof E!="object"){h[y]=E;continue}const x=UC(b,E);h[y]=x,x===b&&d++}return a===u&&d===a?t:h}function tp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function US(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function j0(t){if(!FS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!FS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function FS(t){return Object.prototype.toString.call(t)==="[object Object]"}function hF(t){return new Promise(e=>{Ya.setTimeout(e,t)})}function k0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?UC(t,e):e}function fF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var m_=Symbol();function FC(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===m_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function BC(t,e){return typeof t=="function"?t(...e):!!t}var pF=class extends Zl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!fo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},g_=new pF;function L0(){let t,e;const n=new Promise((a,o)=>{t=a,e=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),e(a)},n}var mF=lF;function gF(){let t=[],e=0,n=h=>{h()},r=h=>{h()},a=mF;const o=h=>{e?t.push(h):a(()=>{n(h)})},u=()=>{const h=t;t=[],h.length&&a(()=>{r(()=>{h.forEach(d=>{n(d)})})})};return{batch:h=>{let d;e++;try{d=h()}finally{e--,e||u()}return d},batchCalls:h=>(...d)=>{o(()=>{h(...d)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{a=h}}}var Ht=gF(),yF=class extends Zl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!fo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},np=new yF;function vF(t){return Math.min(1e3*2**t,3e4)}function zC(t){return(t??"online")==="online"?np.isOnline():!0}var V0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function qC(t){let e=!1,n=0,r;const a=L0(),o=()=>a.status!=="pending",u=M=>{if(!o()){const O=new V0(M);E(O),t.onCancel?.(O)}},h=()=>{e=!0},d=()=>{e=!1},m=()=>g_.isFocused()&&(t.networkMode==="always"||np.isOnline())&&t.canRun(),y=()=>zC(t.networkMode)&&t.canRun(),b=M=>{o()||(r?.(),a.resolve(M))},E=M=>{o()||(r?.(),a.reject(M))},x=()=>new Promise(M=>{r=O=>{(o()||m())&&M(O)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),A=()=>{if(o())return;let M;const O=n===0?t.initialPromise:void 0;try{M=O??t.fn()}catch(P){M=Promise.reject(P)}Promise.resolve(M).then(b).catch(P=>{if(o())return;const V=t.retry??(fo?0:3),q=t.retryDelay??vF,ne=typeof q=="function"?q(n,P):q,F=V===!0||typeof V=="number"&&n<V||typeof V=="function"&&V(n,P);if(e||!F){E(P);return}n++,t.onFail?.(n,P),hF(ne).then(()=>m()?void 0:x()).then(()=>{e?E(P):A()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(r?.(),a),cancelRetry:h,continueRetry:d,canStart:y,start:()=>(y()?A():x().then(A),a)}}var $C=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M0(this.gcTime)&&(this.#e=Ya.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ya.clearTimeout(this.#e),this.#e=void 0)}},_F=class extends $C{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=BS(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=BS(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=k0(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>lr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===m_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!VC(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(d=>d.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const h=FC(this.options,e),m=(()=>{const y={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(y),y})();return this.#o=!1,this.options.persister?this.options.persister(h,m,this):h(m)},u=(()=>{const h={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return r(h),h})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#s({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=qC({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:h=>{h instanceof V0&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(h,d)=>{this.#s({type:"failed",failureCount:h,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof V0){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#s({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...HC(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Ht.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function HC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BS(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bF=class extends Zl{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=L0(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#f;#d;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),zS(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#E(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof lr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!tp(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&qS(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||lr(this.options.enabled,this.#t)!==lr(e.enabled,this.#t)||Zs(this.options.staleTime,this.#t)!==Zs(e.staleTime,this.#t))&&this.#g();const a=this.#y();r&&(this.#t!==n||lr(this.options.enabled,this.#t)!==lr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return wF(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Tn)),e}#g(){this.#b();const t=Zs(this.options.staleTime,this.#t);if(fo||this.#i.isStale||!M0(t))return;const n=VC(this.#i.dataUpdatedAt,t)+1;this.#u=Ya.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#E(),this.#l=t,!(fo||lr(this.options.enabled,this.#t)===!1||!M0(this.#l)||this.#l===0)&&(this.#c=Ya.setInterval(()=>{(this.options.refetchIntervalInBackground||g_.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(Ya.clearTimeout(this.#u),this.#u=void 0)}#E(){this.#c&&(Ya.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,r=this.options,a=this.#i,o=this.#r,u=this.#a,d=t!==n?t.state:this.#n,{state:m}=t;let y={...m},b=!1,E;if(e._optimisticResults){const C=this.hasListeners(),I=!C&&zS(t,e),L=C&&qS(t,n,e,r);(I||L)&&(y={...y,...HC(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:x,errorUpdatedAt:A,status:M}=y;E=y.data;let O=!1;if(e.placeholderData!==void 0&&E===void 0&&M==="pending"){let C;a?.isPlaceholderData&&e.placeholderData===u?.placeholderData?(C=a.data,O=!0):C=typeof e.placeholderData=="function"?e.placeholderData(this.#d?.state.data,this.#d):e.placeholderData,C!==void 0&&(M="success",E=k0(a?.data,C,e),b=!0)}if(e.select&&E!==void 0&&!O)if(a&&E===o?.data&&e.select===this.#m)E=this.#f;else try{this.#m=e.select,E=e.select(E),E=k0(a?.data,E,e),this.#f=E,this.#s=null}catch(C){this.#s=C}this.#s&&(x=this.#s,E=this.#f,A=Date.now(),M="error");const P=y.fetchStatus==="fetching",V=M==="pending",q=M==="error",ne=V&&P,F=E!==void 0,N={status:M,fetchStatus:y.fetchStatus,isPending:V,isSuccess:M==="success",isError:q,isInitialLoading:ne,isLoading:ne,data:E,dataUpdatedAt:y.dataUpdatedAt,error:x,errorUpdatedAt:A,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>d.dataUpdateCount||y.errorUpdateCount>d.errorUpdateCount,isFetching:P,isRefetching:P&&!V,isLoadingError:q&&!F,isPaused:y.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:q&&F,isStale:y_(t,e),refetch:this.refetch,promise:this.#o,isEnabled:lr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=U=>{N.status==="error"?U.reject(N.error):N.data!==void 0&&U.resolve(N.data)},I=()=>{const U=this.#o=N.promise=L0();C(U)},L=this.#o;switch(L.status){case"pending":t.queryHash===n.queryHash&&C(L);break;case"fulfilled":(N.status==="error"||N.data!==L.value)&&I();break;case"rejected":(N.status!=="error"||N.error!==L.reason)&&I();break}}return N}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#d=this.#t),tp(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#p.size)return!0;const o=new Set(a??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#i).some(u=>{const h=u;return this.#i[h]!==t[h]&&o.has(h)})};this.#T({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#T(t){Ht.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function EF(t,e){return lr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function zS(t,e){return EF(t,e)||t.state.data!==void 0&&U0(t,e,e.refetchOnMount)}function U0(t,e,n){if(lr(e.enabled,t)!==!1&&Zs(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&y_(t,e)}return!1}function qS(t,e,n,r){return(t!==e||lr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&y_(t,n)}function y_(t,e){return lr(e.enabled,t)!==!1&&t.isStaleByTime(Zs(e.staleTime,t))}function wF(t,e){return!tp(t.getCurrentResult(),e)}function $S(t){return{onFetch:(e,n)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},d=0;const m=async()=>{let y=!1;const b=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},E=FC(e.options,e.fetchOptions),x=async(A,M,O)=>{if(y)return Promise.reject();if(M==null&&A.pages.length)return Promise.resolve(A);const V=(()=>{const Y={client:e.client,queryKey:e.queryKey,pageParam:M,direction:O?"backward":"forward",meta:e.options.meta};return b(Y),Y})(),q=await E(V),{maxPages:ne}=e.options,F=O?dF:fF;return{pages:F(A.pages,q,ne),pageParams:F(A.pageParams,M,ne)}};if(a&&o.length){const A=a==="backward",M=A?TF:HS,O={pages:o,pageParams:u},P=M(r,O);h=await x(O,P,A)}else{const A=t??o.length;do{const M=d===0?u[0]??r.initialPageParam:HS(r,h);if(d>0&&M==null)break;h=await x(h,M),d++}while(d<A)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function HS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function TF(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var xF=class extends $C{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||GC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=qC({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,u)=>{this.#r({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",a=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const o=await this.#i.start();return await this.#n.config.onSuccess?.(o,t,this.state.context,this,n),await this.options.onSuccess?.(o,t,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,t,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#n.config.onError?.(o,t,this.state.context,this,n),await this.options.onError?.(o,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,t,this.state.context,n),o}finally{this.#r({type:"error",error:o})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ht.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function GC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var SF=class extends Zl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new xF({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=ed(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ed(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ed(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=ed(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ht.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>VS(e,n))}findAll(t={}){return this.getAll().filter(e=>VS(t,e))}notify(t){Ht.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ht.batch(()=>Promise.all(t.map(e=>e.continue().catch(Tn))))}};function ed(t){return t.options.scope?.id}var AF=class extends Zl{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),tp(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&po(n.mutationKey)!==po(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??GC();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Ht.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,a),this.#i.onSettled?.(e.data,null,n,r,a)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,a),this.#i.onSettled?.(void 0,e.error,n,r,a))}this.listeners.forEach(n=>{n(this.#t)})})}},RF=class extends Zl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,a=e.queryHash??p_(r,e);let o=this.get(a);return o||(o=new _F({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>LS(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>LS(t,n)):e}notify(t){Ht.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},CF=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new RF,this.#t=t.mutationCache||new SF,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=g_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=np.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Zs(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,u=uF(e,o);if(u!==void 0)return this.#e.build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Ht.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Ht.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Ht.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ht.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(t,e={}){return Ht.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ht.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(Tn)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Tn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Zs(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tn).catch(Tn)}fetchInfiniteQuery(t){return t.behavior=$S(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tn).catch(Tn)}ensureInfiniteQueryData(t){return t.behavior=$S(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return np.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(po(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Gc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(po(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Gc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=p_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===m_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},KC=D.createContext(void 0),Jl=t=>{const e=D.useContext(KC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},IF=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(KC.Provider,{value:t,children:e})),QC=D.createContext(!1),NF=()=>D.useContext(QC);QC.Provider;function OF(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var DF=D.createContext(OF()),PF=()=>D.useContext(DF),MF=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},jF=t=>{D.useEffect(()=>{t.clearReset()},[t])},kF=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||BC(n,[t.error,r])),LF=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},VF=(t,e)=>t.isLoading&&t.isFetching&&!e,UF=(t,e)=>t?.suspense&&e.isPending,GS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function FF(t,e,n){const r=NF(),a=PF(),o=Jl(),u=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=r?"isRestoring":"optimistic",LF(u),MF(u,a),jF(a);const h=!o.getQueryCache().get(u.queryHash),[d]=D.useState(()=>new e(o,u)),m=d.getOptimisticResult(u),y=!r&&t.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(b=>{const E=y?d.subscribe(Ht.batchCalls(b)):Tn;return d.updateResult(),E},[d,y]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),D.useEffect(()=>{d.setOptions(u)},[u,d]),UF(u,m))throw GS(u,d,a);if(kF({result:m,errorResetBoundary:a,throwOnError:u.throwOnError,query:o.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!fo&&VF(m,r)&&(h?GS(u,d,a):o.getQueryCache().get(u.queryHash)?.promise)?.catch(Tn).finally(()=>{d.updateResult()}),u.notifyOnChangeProps?m:d.trackResult(m)}function eu(t,e){return FF(t,bF)}function Yp(t,e){const n=Jl(),[r]=D.useState(()=>new AF(n,t));D.useEffect(()=>{r.setOptions(t)},[r,t]);const a=D.useSyncExternalStore(D.useCallback(u=>r.subscribe(Ht.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=D.useCallback((u,h)=>{r.mutate(u,h).catch(Tn)},[r]);if(a.error&&BC(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}function BF(){return eu({queryKey:["count","courses","total"],queryFn:async()=>{const t=yh(Wl(gn,"courses"));return(await h_(t)).data().count||0},staleTime:15e3})}function zF(){return eu({queryKey:["count","courses","published"],queryFn:async()=>{const t=yh(Wl(gn,"courses"),_c("isPublished","==",!0));return(await h_(t)).data().count||0},staleTime:15e3})}function qF(){return eu({queryKey:["count","categories","total"],queryFn:async()=>{const t=yh(Wl(gn,"categories"));return(await h_(t)).data().count||0},staleTime:15e3})}function $F({sortBy:t="createdAt",dir:e="desc",qText:n="",status:r="all"}={}){const a=Wl(gn,"courses"),o=[];r==="published"&&o.push(_c("isPublished","==",!0)),r==="drafts"&&o.push(_c("isPublished","==",!1));const u=(n||"").trim().toLowerCase();return u&&(o.push(_c("title_lc",">=",u)),o.push(_c("title_lc","<=",`${u}`))),t==="title"?o.push(vd("title_lc",e)):t==="price"?o.push(vd("price",e)):o.push(vd("createdAt",e)),yh(a,...o)}function v_({sortBy:t="createdAt",dir:e="desc",qText:n="",status:r="all"}={}){return eu({queryKey:["coursesSorted",{sortBy:t,dir:e,qText:n,status:r}],queryFn:async()=>{const a=$F({sortBy:t,dir:e,qText:n,status:r});return(await AC(a)).docs.map(u=>({id:u.id,...u.data()}))},staleTime:15e3,keepPreviousData:!0})}function HF(){const{data:t=0}=BF(),{data:e=0}=zF(),{data:n=0}=qF(),r=Math.max(0,t-e),{data:a=[],isLoading:o}=v_({sortBy:"createdAt",dir:"desc",qText:"",status:"all"}),u=(a||[]).slice(0,5);return _.jsxs(_.Fragment,{children:[_.jsx(Qp,{title:"Overview"}),_.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[_.jsx(td,{title:"Total Courses",value:t,icon:_.jsx(w2,{className:"text-[#2F7E80]"}),link:{to:"/admin/courses",label:"Manage"}}),_.jsx(td,{title:"Published",value:e,icon:_.jsx(Nk,{className:"text-emerald-600"}),link:{to:"/admin/courses?filter=published",label:"View"}}),_.jsx(td,{title:"Drafts",value:r,icon:_.jsx(Ok,{className:"text-amber-600"}),link:{to:"/admin/courses?filter=drafts",label:"Review"}}),_.jsx(td,{title:"Categories",value:n,icon:_.jsx(C2,{className:"text-[#49BBBD]"}),link:{to:"/admin/categories",label:"Manage"}})]}),_.jsxs("section",{className:"mt-6",children:[_.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[_.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Recent Courses"}),_.jsx(Jt,{to:"/admin/courses",className:"text-sm font-medium text-[#2F7E80] hover:underline",children:"See all "})]}),_.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white",children:o?_.jsx(GF,{}):u.length===0?_.jsx("div",{className:"p-6 text-sm text-gray-600",children:"No courses yet."}):_.jsx("ul",{className:"divide-y divide-gray-100",children:u.map(h=>_.jsxs("li",{className:"flex items-center justify-between gap-3 px-4 py-3",children:[_.jsxs("div",{className:"min-w-0",children:[_.jsx("div",{className:"truncate text-sm font-medium text-gray-900",children:h.title}),_.jsx("div",{className:"text-xs text-gray-500",children:KF(h.createdAt)})]}),_.jsx(Jt,{to:`/admin/courses/${h.id}/edit`,className:"rounded-md border border-gray-200 bg-white px-3 py-1.5 text-xs font-semibold text-gray-700 shadow-sm transition hover:bg-gray-50",children:"Edit"})]},h.id))})})]})]})}function td({title:t,value:e,icon:n,link:r}){return _.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm transition hover:shadow",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"text-sm text-gray-500",children:t}),_.jsx("div",{className:"text-xl",children:n})]}),_.jsx("div",{className:"mt-1 text-3xl font-bold text-gray-900",children:e}),r&&_.jsxs(Jt,{to:r.to,className:"mt-3 inline-block text-sm font-semibold text-[#49BBBD] hover:text-[#2F7E80]",children:[r.label," "]})]})}function GF(){return _.jsx("ul",{children:Array.from({length:5}).map((t,e)=>_.jsx("li",{className:"h-12 animate-pulse border-b border-gray-100"},e))})}function KF(t){if(!t)return"";const e=t.toMillis?t.toMillis():t.seconds?t.seconds*1e3:+new Date(t);return new Date(e).toLocaleDateString()}const __="courses";function QF(){const t=Jl();return Yp({mutationFn:async e=>{const n={...e,title_lc:(e.title||"").toLowerCase(),createdAt:I8()};return A8(Wl(gn,"courses"),n)},onSuccess:e=>{t.invalidateQueries({queryKey:[__]}),t.invalidateQueries({queryKey:["coursesSorted"]}),t.invalidateQueries({queryKey:["count","courses","total"]}),t.invalidateQueries({queryKey:["count","courses","published"]}),e?.id&&t.invalidateQueries({queryKey:["course",e.id]})}})}function YF(){const t=Jl();return Yp({mutationFn:async({id:e,...n})=>{const r={...n,...n.title?{title_lc:n.title.toLowerCase()}:{}};return RC(Sr(gn,"courses",e),r)},onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:[__]}),t.invalidateQueries({queryKey:["coursesSorted"]}),t.invalidateQueries({queryKey:["course",n]}),t.invalidateQueries({queryKey:["count","courses","total"]}),t.invalidateQueries({queryKey:["count","courses","published"]})}})}function XF(){const t=Jl();return Yp({mutationFn:e=>CC(Sr(gn,"courses",e)),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:[__]}),t.invalidateQueries({queryKey:["coursesSorted"]}),t.invalidateQueries({queryKey:["course",n]}),t.invalidateQueries({queryKey:["count","courses","total"]}),t.invalidateQueries({queryKey:["count","courses","published"]})}})}function b_(t=[],e=10,n={}){const{initialPage:r=1,resetKeys:a=[],onPageChange:o}=n,[u,h]=D.useState(Number.isFinite(r)&&r>0?r:1),d=D.useRef([]),m=t?.length||0,y=Math.max(1,Math.ceil(m/Math.max(1,e)));D.useEffect(()=>{if(a.length!==d.current.length||a.some((O,P)=>O!==d.current[P])){d.current=[...a],h(1),o?.(1);return}h(O=>{const P=Math.min(Math.max(O,1),y);return P!==O&&o?.(P),P})},[y,...a]);const{paginatedData:b,rangeStart:E,rangeEnd:x}=D.useMemo(()=>{const M=(u-1)*e,O=M+e;return{paginatedData:t.slice(M,O),rangeStart:m===0?0:M+1,rangeEnd:Math.min(O,m)}},[t,e,u,m]),A=M=>{const O=Math.min(Math.max(Number(M)||1,1),y);h(O),o?.(O)};return{paginatedData:b,currentPage:u,totalPages:y,totalItems:m,rangeStart:E,rangeEnd:x,setPage:A,nextPage:()=>A(u+1),prevPage:()=>A(u-1)}}function WF({dir:t="desc"}){const e=Wl(gn,"categories");return yh(e,vd("createdAt",t))}function E_({dir:t="desc"}){return eu({queryKey:["categoriesSorted",{dir:t}],queryFn:async()=>{const e=WF({dir:t});return(await AC(e)).docs.map(r=>({id:r.id,...r.data()}))},staleTime:15e3,keepPreviousData:!0})}function w_({currentPage:t,totalPages:e,onPrev:n,onNext:r,onGo:a,rangeStart:o,rangeEnd:u,totalItems:h,className:d=""}){return e<=1?_.jsxs("div",{className:`mt-4 text-sm text-gray-600 ${d}`,children:["Showing ",h," item",h===1?"":"s"]}):_.jsxs("div",{className:`mt-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between ${d}`,children:[_.jsxs("div",{className:"text-sm text-gray-600",children:["Showing"," ",_.jsxs("span",{className:"font-medium text-gray-900",children:[o,"-",u]})," ","of ",_.jsx("span",{className:"font-medium text-gray-900",children:h})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{onClick:n,disabled:t<=1,className:"inline-flex items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm transition hover:bg-gray-50 disabled:opacity-50",children:[_.jsx(T2,{})," Prev"]}),e<=7&&_.jsx("div",{className:"hidden items-center gap-1 sm:flex",children:Array.from({length:e}).map((m,y)=>{const b=y+1,E=b===t;return _.jsx("button",{onClick:()=>a?.(b),className:`h-8 w-8 rounded-md text-sm font-medium ${E?"bg-[#49BBBD] text-white":"border border-gray-200 bg-white text-gray-700 hover:bg-gray-50"}`,children:b},b)})}),_.jsxs("button",{onClick:r,disabled:t>=e,className:"inline-flex items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm transition hover:bg-gray-50 disabled:opacity-50",children:["Next ",_.jsx(x2,{})]})]})]})}function YC({open:t,title:e="Are you sure?",message:n="This action cannot be undone.",confirmText:r="Delete",cancelText:a="Cancel",confirmTone:o="danger",onCancel:u,onConfirm:h,loading:d=!1}){if(!t)return null;const m=o==="danger"?"bg-rose-600 hover:bg-rose-700 focus:ring-rose-500":"bg-[#49BBBD] hover:bg-[#2F7E80] focus:ring-[#49BBBD]";return _.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4",role:"dialog","aria-modal":"true",children:[_.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:d?void 0:u}),_.jsxs("div",{className:"relative w-full max-w-sm overflow-hidden rounded-2xl bg-white shadow-2xl ring-1 ring-black/5",children:[_.jsxs("div",{className:"flex items-start gap-3 px-5 pt-5",children:[_.jsx("div",{className:"mt-0.5 rounded-full bg-rose-50 p-2 text-rose-600 ring-1 ring-rose-100",children:_.jsx(E2,{})}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("h2",{className:"text-base font-semibold text-gray-900",children:e}),_.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n})]})]}),_.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2 px-5 pb-5",children:[_.jsx("button",{type:"button",onClick:u,disabled:d,className:"inline-flex items-center rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:ring-2 focus:ring-gray-300 focus:outline-none disabled:opacity-60",children:a}),_.jsx("button",{type:"button",onClick:h,disabled:d,className:`inline-flex items-center rounded-lg px-3 py-2 text-sm font-semibold text-white shadow-sm focus:ring-2 focus:outline-none disabled:opacity-60 ${m}`,children:d?"Working":r})]})]})]})}const Ne=t=>typeof t=="string",hc=()=>{let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n},KS=t=>t==null?"":""+t,ZF=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},JF=/###/g,QS=t=>t&&t.indexOf("###")>-1?t.replace(JF,"."):t,YS=t=>!t||Ne(t),Ic=(t,e,n)=>{const r=Ne(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(YS(t))return{};const o=QS(r[a]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++a}return YS(t)?{}:{obj:t,k:QS(r[a])}},XS=(t,e,n)=>{const{obj:r,k:a}=Ic(t,e,Object);if(r!==void 0||e.length===1){r[a]=n;return}let o=e[e.length-1],u=e.slice(0,e.length-1),h=Ic(t,u,Object);for(;h.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),h=Ic(t,u,Object),h?.obj&&typeof h.obj[`${h.k}.${o}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${o}`]=n},eB=(t,e,n,r)=>{const{obj:a,k:o}=Ic(t,e,Object);a[o]=a[o]||[],a[o].push(n)},rp=(t,e)=>{const{obj:n,k:r}=Ic(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},tB=(t,e,n)=>{const r=rp(t,n);return r!==void 0?r:rp(e,n)},XC=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Ne(t[r])||t[r]instanceof String||Ne(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):XC(t[r],e[r],n):t[r]=e[r]);return t},dl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var nB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const rB=t=>Ne(t)?t.replace(/[&<>"'\/]/g,e=>nB[e]):t;class iB{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const sB=[" ",",","?","!",";"],aB=new iB(20),oB=(t,e,n)=>{e=e||"",n=n||"";const r=sB.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(r.length===0)return!0;const a=aB.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(t);if(!o){const u=t.indexOf(n);u>0&&!a.test(t.substring(0,u))&&(o=!0)}return o},F0=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let a=t;for(let o=0;o<r.length;){if(!a||typeof a!="object")return;let u,h="";for(let d=o;d<r.length;++d)if(d!==o&&(h+=n),h+=r[d],u=a[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&d<r.length-1)continue;o+=d-o+1;break}a=u}return a},Kc=t=>t?.replace("_","-"),lB={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class ip{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||lB,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,a){return a&&!this.debug?null:(Ne(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ip(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ip(this.logger,e)}}var Xr=new ip;class Xp{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a.apply(a,[e,...n])})}}class WS extends Xp{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,a={}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,n],r&&(Array.isArray(r)?h.push(...r):Ne(r)&&o?h.push(...r.split(o)):h.push(r)));const d=rp(this.data,h);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=h[0],n=h[1],r=h.slice(2).join(".")),d||!u||!Ne(r)?d:F0(this.data?.[e]?.[n],r,o)}addResource(e,n,r,a,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=[e,n];r&&(h=h.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(h=e.split("."),a=n,n=h[1]),this.addNamespaces(n),XS(this.data,h,a),o.silent||this.emit("added",e,n,r,a)}addResources(e,n,r,a={silent:!1}){for(const o in r)(Ne(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});a.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,a,o,u={silent:!1,skipCopy:!1}){let h=[e,n];e.indexOf(".")>-1&&(h=e.split("."),a=r,r=n,n=h[1]),this.addNamespaces(n);let d=rp(this.data,h)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?XC(d,r,o):d={...d,...r},XS(this.data,h,d),u.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var WC={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,a){return t.forEach(o=>{e=this.processors[o]?.process(e,n,r,a)??e}),e}};const ZC=Symbol("i18next/PATH_KEY");function uB(){const t=[],e=Object.create(null);let n;return e.get=(r,a)=>(n?.revoke?.(),a===ZC?t:(t.push(a),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function B0(t,e){const{[ZC]:n}=t(uB());return n.join(e?.keySeparator??".")}const ZS={},JS=t=>!Ne(t)&&typeof t!="boolean"&&typeof t!="number";class sp extends Xp{constructor(e,n={}){super(),ZF(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!oB(e,r,a);if(u&&!h){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Ne(o)?[o]:o};const m=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(m[0])>-1)&&(o=m.shift()),e=m.join(a)}return{key:e,namespaces:Ne(o)?[o]:o}}translate(e,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=B0(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:d}=this.extractFromKey(e[e.length-1],a),m=d[d.length-1];let y=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const b=a.lng||this.language,E=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return E?o?{res:`${m}${y}${h}`,usedKey:h,exactUsedKey:h,usedLng:b,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:`${m}${y}${h}`:o?{res:h,usedKey:h,exactUsedKey:h,usedLng:b,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:h;const x=this.resolve(e,a);let A=x?.res;const M=x?.usedKey||h,O=x?.exactUsedKey||h,P=["[object Number]","[object Function]","[object RegExp]"],V=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,q=!this.i18nFormat||this.i18nFormat.handleAsObject,ne=a.count!==void 0&&!Ne(a.count),F=sp.hasDefaultValue(a),Y=ne?this.pluralResolver.getSuffix(b,a.count,a):"",N=a.ordinal&&ne?this.pluralResolver.getSuffix(b,a.count,{ordinal:!1}):"",C=ne&&!a.ordinal&&a.count===0,I=C&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${Y}`]||a[`defaultValue${N}`]||a.defaultValue;let L=A;q&&!A&&F&&(L=I);const U=JS(L),$=Object.prototype.toString.apply(L);if(q&&L&&U&&P.indexOf($)<0&&!(Ne(V)&&Array.isArray(L))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(M,L,{...a,ns:d}):`key '${h} (${this.language})' returned an object instead of string.`;return o?(x.res=j,x.usedParams=this.getUsedParamsDetails(a),x):j}if(u){const j=Array.isArray(L),Ve=j?[]:{},We=j?O:M;for(const te in L)if(Object.prototype.hasOwnProperty.call(L,te)){const ce=`${We}${u}${te}`;F&&!A?Ve[te]=this.translate(ce,{...a,defaultValue:JS(I)?I[te]:void 0,joinArrays:!1,ns:d}):Ve[te]=this.translate(ce,{...a,joinArrays:!1,ns:d}),Ve[te]===ce&&(Ve[te]=L[te])}A=Ve}}else if(q&&Ne(V)&&Array.isArray(A))A=A.join(V),A&&(A=this.extendTranslation(A,e,a,r));else{let j=!1,Ve=!1;!this.isValidLookup(A)&&F&&(j=!0,A=I),this.isValidLookup(A)||(Ve=!0,A=h);const te=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ve?void 0:A,ce=F&&I!==A&&this.options.updateMissing;if(Ve||j||ce){if(this.logger.log(ce?"updateKey":"missingKey",b,m,h,ce?I:A),u){const H=this.resolve(h,{...a,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let pe=[];const Me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Me&&Me[0])for(let H=0;H<Me.length;H++)pe.push(Me[H]);else this.options.saveMissingTo==="all"?pe=this.languageUtils.toResolveHierarchy(a.lng||this.language):pe.push(a.lng||this.language);const B=(H,ue,le)=>{const _e=F&&le!==A?le:te;this.options.missingKeyHandler?this.options.missingKeyHandler(H,m,ue,_e,ce,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(H,m,ue,_e,ce,a),this.emit("missingKey",H,m,ue,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ne?pe.forEach(H=>{const ue=this.pluralResolver.getSuffixes(H,a);C&&a[`defaultValue${this.options.pluralSeparator}zero`]&&ue.indexOf(`${this.options.pluralSeparator}zero`)<0&&ue.push(`${this.options.pluralSeparator}zero`),ue.forEach(le=>{B([H],h+le,a[`defaultValue${le}`]||I)})}):B(pe,h,I))}A=this.extendTranslation(A,e,a,x,r),Ve&&A===h&&this.options.appendNamespaceToMissingKey&&(A=`${m}${y}${h}`),(Ve||j)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${y}${h}`:h,j?A:void 0,a))}return o?(x.res=A,x.usedParams=this.getUsedParamsDetails(a),x):A}extendTranslation(e,n,r,a,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Ne(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(d){const b=e.match(this.interpolator.nestingRegexp);m=b&&b.length}let y=r.replace&&!Ne(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,r.lng||this.language||a.usedLng,r),d){const b=e.match(this.interpolator.nestingRegexp),E=b&&b.length;m<E&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...b)=>o?.[0]===b[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,h=Ne(u)?[u]:u;return e!=null&&h?.length&&r.applyPostProcessor!==!1&&(e=WC.handle(h,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,a,o,u,h;return Ne(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(d,n),y=m.key;a=y;let b=m.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const E=n.count!==void 0&&!Ne(n.count),x=E&&!n.ordinal&&n.count===0,A=n.context!==void 0&&(Ne(n.context)||typeof n.context=="number")&&n.context!=="",M=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);b.forEach(O=>{this.isValidLookup(r)||(h=O,!ZS[`${M[0]}-${O}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(ZS[`${M[0]}-${O}`]=!0,this.logger.warn(`key "${a}" for languages "${M.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach(P=>{if(this.isValidLookup(r))return;u=P;const V=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(V,y,P,O,n);else{let ne;E&&(ne=this.pluralResolver.getSuffix(P,n.count,n));const F=`${this.options.pluralSeparator}zero`,Y=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(n.ordinal&&ne.indexOf(Y)===0&&V.push(y+ne.replace(Y,this.options.pluralSeparator)),V.push(y+ne),x&&V.push(y+F)),A){const N=`${y}${this.options.contextSeparator||"_"}${n.context}`;V.push(N),E&&(n.ordinal&&ne.indexOf(Y)===0&&V.push(N+ne.replace(Y,this.options.pluralSeparator)),V.push(N+ne),x&&V.push(N+F))}}let q;for(;q=V.pop();)this.isValidLookup(r)||(o=q,r=this.getResource(P,O,q,n))}))})}),{res:r,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,a):this.resourceStore.getResource(e,n,r,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ne(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const o of n)delete a[o]}return a}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class e1{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xr.create("languageUtils")}getScriptPartFromCode(e){if(e=Kc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Kc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ne(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ne(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ne(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Ne(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const t1={zero:0,one:1,two:2,few:3,many:4,other:5},n1={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class cB{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Xr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Kc(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),n1;if(!e.match(/-|_/))return n1;const d=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(d,n)}return this.pluralRulesCache[o]=u,u}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,o)=>t1[a]-t1[o]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const r1=(t,e,n,r=".",a=!0)=>{let o=tB(t,e,n);return!o&&a&&Ne(n)&&(o=F0(t,n,r),o===void 0&&(o=F0(e,n,r))),o},Dy=t=>t.replace(/\$/g,"$$$$");class hB{constructor(e={}){this.logger=Xr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:h,suffixEscaped:d,formatSeparator:m,unescapeSuffix:y,unescapePrefix:b,nestingPrefix:E,nestingPrefixEscaped:x,nestingSuffix:A,nestingSuffixEscaped:M,nestingOptionsSeparator:O,maxReplaces:P,alwaysFormat:V}=e.interpolation;this.escape=n!==void 0?n:rB,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?dl(o):u||"{{",this.suffix=h?dl(h):d||"}}",this.formatSeparator=m||",",this.unescapePrefix=y?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=E?dl(E):x||dl("$t("),this.nestingSuffix=A?dl(A):M||dl(")"),this.nestingOptionsSeparator=O||",",this.maxReplaces=P||1e3,this.alwaysFormat=V!==void 0?V:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,a){let o,u,h;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=x=>{if(x.indexOf(this.formatSeparator)<0){const P=r1(n,d,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,r,{...a,...n,interpolationkey:x}):P}const A=x.split(this.formatSeparator),M=A.shift().trim(),O=A.join(this.formatSeparator).trim();return this.format(r1(n,d,M,this.options.keySeparator,this.options.ignoreJSONStructure),O,r,{...a,...n,interpolationkey:M})};this.resetRegExp();const y=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Dy(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Dy(this.escape(x)):Dy(x)}].forEach(x=>{for(h=0;o=x.regex.exec(e);){const A=o[1].trim();if(u=m(A),u===void 0)if(typeof y=="function"){const O=y(e,o,a);u=Ne(O)?O:""}else if(a&&Object.prototype.hasOwnProperty.call(a,A))u="";else if(b){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${e}`),u="";else!Ne(u)&&!this.useRawValueToEscape&&(u=KS(u));const M=x.safeValue(u);if(e=e.replace(o[0],M),b?(x.regex.lastIndex+=u.length,x.regex.lastIndex-=o[0].length):x.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,n,r={}){let a,o,u;const h=(d,m)=>{const y=this.nestingOptionsSeparator;if(d.indexOf(y)<0)return d;const b=d.split(new RegExp(`${y}[ ]*{`));let E=`{${b[1]}`;d=b[0],E=this.interpolate(E,u);const x=E.match(/'/g),A=E.match(/"/g);((x?.length??0)%2===0&&!A||A.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),m&&(u={...m,...u})}catch(M){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,M),`${d}${y}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,d};for(;a=this.nestingRegexp.exec(e);){let d=[];u={...r},u=u.replace&&!Ne(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const m=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(m!==-1&&(d=a[1].slice(m).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),a[1]=a[1].slice(0,m)),o=n(h.call(this,a[1].trim(),u),u),o&&a[0]===e&&!Ne(o))return o;Ne(o)||(o=KS(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),d.length&&(o=d.reduce((y,b)=>this.format(y,b,r.lng,{...r,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const fB=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(u=>{if(u){const[h,...d]=u.split(":"),m=d.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();n[y]||(n[y]=m),m==="false"&&(n[y]=!1),m==="true"&&(n[y]=!0),isNaN(m)||(n[y]=parseInt(m,10))}})}return{formatName:e,formatOptions:n}},i1=t=>{const e={};return(n,r,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=r+JSON.stringify(o);let h=e[u];return h||(h=t(Kc(r),a),e[u]=h),h(n)}},dB=t=>(e,n,r)=>t(Kc(n),r)(e);class pB{constructor(e={}){this.logger=Xr.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?i1:dB;this.formats={number:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return h=>u.format(h)}),currency:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return h=>u.format(h)}),datetime:r((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return h=>u.format(h)}),relativetime:r((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return h=>u.format(h,o.range||"day")}),list:r((a,o)=>{const u=new Intl.ListFormat(a,{...o});return h=>u.format(h)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=i1(n)}format(e,n,r,a={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(h=>h.indexOf(")")>-1)){const h=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,h)].join(this.formatSeparator)}return o.reduce((h,d)=>{const{formatName:m,formatOptions:y}=fB(d);if(this.formats[m]){let b=h;try{const E=a?.formatParams?.[a.interpolationkey]||{},x=E.locale||E.lng||a.locale||a.lng||r;b=this.formats[m](h,x,{...y,...a,...E})}catch(E){this.logger.warn(E)}return b}else this.logger.warn(`there was no format function for ${m}`);return h},e)}}const mB=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class gB extends Xp{constructor(e,n,r,a={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Xr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(e,n,r,a){const o={},u={},h={},d={};return e.forEach(m=>{let y=!0;n.forEach(b=>{const E=`${m}|${b}`;!r.reload&&this.store.hasResourceBundle(m,b)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,y=!1,u[E]===void 0&&(u[E]=!0),o[E]===void 0&&(o[E]=!0),d[b]===void 0&&(d[b]=!0)))}),y||(h[m]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){const a=e.split("|"),o=a[0],u=a[1];n&&this.emit("failedLoading",o,u,n),!n&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const h={};this.queue.forEach(d=>{eB(d.loaded,[o],u),mB(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(m=>{h[m]||(h[m]={});const y=d.loaded[m];y.length&&y.forEach(b=>{h[m][b]===void 0&&(h[m][b]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,a=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:o,callback:u});return}this.readingCalls++;const h=(m,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(m&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,a+1,o*2,u)},o);return}u(m,y)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const m=d(e,n);m&&typeof m.then=="function"?m.then(y=>h(null,y)).catch(h):h(null,m)}catch(m){h(m)}return}return d(e,n,h)}prepareLoading(e,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Ne(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ne(n)&&(n=[n]);const o=this.queueLoad(e,n,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${a} failed`,u),!u&&h&&this.logger.log(`${n}loaded namespace ${o} for language ${a}`,h),this.loaded(e,u,h)})}saveMissing(e,n,r,a,o,u={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const d={...u,isUpdate:o},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(e,n,r,a,d):y=m(e,n,r,a),y&&typeof y.then=="function"?y.then(b=>h(null,b)).catch(h):h(null,y)}catch(y){h(y)}else m(e,n,r,a,h,d)}!e||!e[0]||this.store.addResource(e[0],n,r,a)}}}const s1=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Ne(t[1])&&(e.defaultValue=t[1]),Ne(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),a1=t=>(Ne(t.ns)&&(t.ns=[t.ns]),Ne(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ne(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),nd=()=>{},yB=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Qc extends Xp{constructor(e={},n){if(super(),this.options=a1(e),this.services={},this.logger=Xr,this.modules={external:[]},yB(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ne(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=s1();this.options={...r,...this.options,...a1(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?Xr.init(a(this.modules.logger),this.options):Xr.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=pB;const y=new e1(this.options);this.store=new WS(this.options.resources,this.options);const b=this.services;b.logger=Xr,b.resourceStore=this.store,b.languageUtils=y,b.pluralResolver=new cB(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(b.formatter=a(m),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new hB(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new gB(a(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(x,...A)=>{this.emit(x,...A)}),this.modules.languageDetector&&(b.languageDetector=a(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=a(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new sp(this.services,this.options),this.translator.on("*",(x,...A)=>{this.emit(x,...A)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,n||(n=nd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...y)=>this.store[m](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...y)=>(this.store[m](...y),this)});const h=hc(),d=()=>{const m=(y,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(b),n(y,b)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),h}loadResources(e,n=nd){let r=n;const a=Ne(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(m=>{m!=="cimode"&&o.indexOf(m)<0&&o.push(m)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>u(d)),this.options.preload?.forEach?.(h=>u(h)),this.services.backendConnector.load(o,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,n,r){const a=hc();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=nd),this.services.backendConnector.reload(e,n,o=>{a.resolve(),r(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&WC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=hc();this.emit("languageChanging",e);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},o=(h,d)=>{d?this.isLanguageChangingTo===e&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...m)=>this.t(...m)),n&&n(h,(...m)=>this.t(...m))},u=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const d=Ne(h)?h:h&&h[0],m=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Ne(h)?[h]:h);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,y=>{o(y,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,n,r){const a=(o,u,...h)=>{let d;typeof u!="object"?d=this.options.overloadTranslationOptionHandler([o,u].concat(h)):d={...u},d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||a.keyPrefix);const m=this.options.keySeparator||".";let y;return d.keyPrefix&&Array.isArray(o)?y=o.map(b=>(typeof b=="function"&&(b=B0(b,{...this.options,...u})),`${d.keyPrefix}${m}${b}`)):(typeof o=="function"&&(o=B0(o,{...this.options,...u})),y=d.keyPrefix?`${d.keyPrefix}${m}${o}`:o),this.t(y,d)};return Ne(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(h,d)=>{const m=this.services.backendConnector.state[`${h}|${d}`];return m===-1||m===0||m===2};if(n.precheck){const h=n.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!a||u(o,e)))}loadNamespaces(e,n){const r=hc();return this.options.ns?(Ne(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=hc();Ne(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{r.resolve(),n&&n(u)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new e1(s1());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Qc(e,n)}cloneInstance(e={},n=nd){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new Qc(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(h=>{o[h]=this[h]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const h=Object.keys(this.store.data).reduce((d,m)=>(d[m]={...this.store.data[m]},d[m]=Object.keys(d[m]).reduce((y,b)=>(y[b]={...d[m][b]},y),d[m]),d),{});o.store=new WS(h,a),o.services.resourceStore=o.store}return o.translator=new sp(o.services,a),o.translator.on("*",(h,...d)=>{o.emit(h,...d)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Nt=Qc.createInstance();Nt.createInstance=Qc.createInstance;Nt.createInstance;Nt.dir;Nt.init;Nt.loadResources;Nt.reloadResources;Nt.use;Nt.changeLanguage;Nt.getFixedT;Nt.t;Nt.exists;Nt.setDefaultNamespace;Nt.hasLoadedNamespace;Nt.loadNamespaces;Nt.loadLanguages;const vB={name:"RIWAQ"},_B={home:"Home",courses:"Courses",careers:"Careers",blog:"Blog",about:"About",admin:"Admin"},bB={login:"Login",login_title:"Login",login_subtitle:"Login to continue",register:"Sign Up",logout:"Logout",email_username:"Email or Username",password:"Password",forgot:"Forgot?",create_account:"Create Account"},EB={dashboard:"Dashboard",courses:"Courses",new_course:"New Course",categories:"Categories",new_category:"New Category",status:{published:"Published",draft:"Draft"}},wB={adj:{complete:"Complete",ultimate:"Ultimate",hands_on:"Hands-on",practical:"Practical",modern:"Modern",advanced:"Advanced",beginner:"Beginner",zero_to_hero:"Zero-to-Hero",pro:"Pro",crash:"Crash",intensive:"Intensive",mastery:"Mastery"},subj:{react:"React",nextjs:"Next.js",typescript:"TypeScript",nodejs:"Node.js",firebase:"Firebase",tailwind:"Tailwind CSS",data_structures:"Data Structures",algorithms:"Algorithms",python:"Python",django:"Django",flutter:"Flutter",kotlin:"Kotlin",swiftui:"SwiftUI",sql:"SQL",nosql:"NoSQL",mongodb:"MongoDB",docker:"Docker",kubernetes:"Kubernetes",aws:"AWS",gcp:"GCP",azure:"Azure",graphql:"GraphQL",trpc:"tRPC",prisma:"Prisma",rust:"Rust",go:"Go",cpp:"C++"},vari:{bootcamp:"Bootcamp",guide:"Guide",course:"Course",workshop:"Workshop",series:"Series"},blurb:{real_projects:"Learn by building real-world projects with best practices",step_by_step:"Step-by-step lessons, quizzes, and downloadable resources",fundamentals_to_advanced:"Covers fundamentals to advanced topics with hands-on labs",beginners_and_pros:"Perfect for beginners and professionals needing a refresher",exercises_cheatsheets_reviews:"Includes exercises, cheat sheets, and code reviews"},cat:{web_dev:"Web Development",mobile_dev:"Mobile Development",data_science:"Data Science",cloud_devops:"Cloud & DevOps",prog_langs:"Programming Languages",databases:"Databases",design_ui:"Design & UI",security:"Security",testing_qa:"Testing & QA",career:"Career & Soft Skills",game_dev:"Game Development",ai_ml:"AI & ML",iot_embedded:"IoT & Embedded",blockchain:"Blockchain",automation:"Automation",ar_vr:"AR/VR",big_data:"Big Data",biz_apps:"Business Apps",open_source:"Open Source",misc:"Miscellaneous"}},TB={price:"{{value, number}} {{currency}}",created:"{{value, datetime}}"},xB={createdAt:"Created At",price:"Price",title:"Alphabetical"},SB={all:"All"},AB={courses_title:"No courses found",categories_title:"No categories yet",try_clear:"Try clearing the search or changing filters.",create_first_course:"Start by creating your first course.",create_first_category:"Create your first category."},RB={courses_load_failed:"Failed to load courses",categories_load_failed:"Failed to load categories","404_code":"404","404_title":"Page not found","404_message":"The page you are looking for might have been removed.","403_code":"403","403_title":"Forbidden","403_message":"You don't have permission to access this page."},CB={go_home:"Go to Home",signing_in:"Signing in",creating:"Creating",sending:"Sending",delete:"Delete",cancel:"Cancel",working:"Working"},IB={brand:vB,nav:_B,auth:bB,admin:EB,tokens:wB,format:TB,sort:xB,filter:SB,empty:AB,errors:RB,common:CB},NB={name:"RIWAQ"},OB={home:"",courses:"",careers:"",blog:"",about:" ",admin:""},DB={login:" ",login_title:" ",login_subtitle:"  ",register:" ",logout:" ",email_username:"    ",password:" ",forgot:"",create_account:" "},PB={dashboard:" ",courses:"",new_course:" ",categories:"",new_category:" ",status:{published:"",draft:""}},MB={adj:{complete:"",ultimate:"",hands_on:"",practical:"",modern:"",advanced:"",beginner:"",zero_to_hero:"   ",pro:"",crash:"",intensive:"",mastery:""},subj:{react:"React",nextjs:"Next.js",typescript:"TypeScript",nodejs:"Node.js",firebase:"Firebase",tailwind:"Tailwind CSS",data_structures:" ",algorithms:"",python:"",django:"Django",flutter:"Flutter",kotlin:"Kotlin",swiftui:"SwiftUI",sql:"SQL",nosql:"NoSQL",mongodb:"MongoDB",docker:"Docker",kubernetes:"Kubernetes",aws:"AWS",gcp:"GCP",azure:"Azure",graphql:"GraphQL",trpc:"tRPC",prisma:"Prisma",rust:"Rust",go:"Go",cpp:"C++"},vari:{bootcamp:"",guide:"",course:"",workshop:"",series:""},blurb:{real_projects:"       ",step_by_step:"       ",fundamentals_to_advanced:"     ",beginners_and_pros:"    ",exercises_cheatsheets_reviews:"    "},cat:{web_dev:" ",mobile_dev:" ",data_science:" ",cloud_devops:" ",prog_langs:" ",databases:" ",design_ui:"  ",security:"",testing_qa:"  ",career:"  ",game_dev:" ",ai_ml:"   ",iot_embedded:"   ",blockchain:" ",automation:"",ar_vr:" /",big_data:" ",biz_apps:" ",open_source:" ",misc:""}},jB={price:"{{value, number}} {{currency}}",created:"{{value, datetime}}"},kB={createdAt:" ",price:"",title:""},LB={all:""},VB={courses_title:"  ",categories_title:"   ",try_clear:"     .",create_first_course:"   .",create_first_category:"  ."},UB={courses_load_failed:"  ",categories_load_failed:"  ","404_code":"","404_title":"  ","404_message":"        .","403_code":"","403_title":"","403_message":"      ."},FB={go_home:" ",signing_in:"  ",creating:" ",sending:" ",delete:"",cancel:"",working:" "},BB={brand:NB,nav:OB,auth:DB,admin:PB,tokens:MB,format:jB,sort:kB,filter:LB,empty:VB,errors:UB,common:FB};Nt.use($8).init({resources:{en:{translation:IB},ar:{translation:BB}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});function z0(t,e=Nt.t.bind(Nt)){const n=t?.key;return n?e(`tokens.cat.${n}`):t?.name||""}function rd(t,e=Nt.t.bind(Nt)){const n=t?.meta;if(!n)return{title:t?.title||"",description:t?.description||""};const r=[e(`tokens.adj.${n.adj}`),e(`tokens.subj.${n.subj}`),e(`tokens.vari.${n.vari}`)].join(" "),a=e(`tokens.blurb.${n.blurb1}`),o=e(`tokens.blurb.${n.blurb2}`),u=`${r}. ${a}. ${o}.`;return{title:r,description:u}}const zB=[{value:"createdAt",label:"Created At"},{value:"price",label:"Price"},{value:"title",label:"Alphabetical"}],qB=new Set(["all","published","drafts"]);function $B(){const{t}=oi(),e=oa(),[n,r]=R1(),a=(n.get("filter")||"all").toLowerCase(),[o,u]=D.useState(qB.has(a)?a:"all"),[h,d]=D.useState(n.get("q")||""),[m,y]=D.useState(n.get("sortBy")||"createdAt"),[b,E]=D.useState(n.get("dir")||"desc"),[x,A]=D.useState(Number(n.get("pageSize")||10)),M=Math.max(1,Number(n.get("page")||1)),{data:O=[],isLoading:P,isError:V,error:q}=v_({sortBy:m,dir:b,qText:h,status:o}),{data:ne=[]}=E_({dir:"asc"}),{t:F}=oi(),Y=D.useMemo(()=>{const H={};for(const ue of ne)H[ue.id]=z0(ue,F);return H},[ne,F]),{paginatedData:N,currentPage:C,totalPages:I,setPage:L,nextPage:U,prevPage:$,rangeStart:j,rangeEnd:Ve,totalItems:We}=b_(O,x,{initialPage:M,resetKeys:[o,h,m,b,x],onPageChange:H=>{const ue=new URLSearchParams(n.toString());ue.set("page",String(H)),r(ue,{replace:!0})}});D.useEffect(()=>{const H=new URLSearchParams(n.toString());H.set("filter",o),h?H.set("q",h):H.delete("q"),H.set("sortBy",m),H.set("dir",b),H.set("pageSize",String(x)),r(H,{replace:!0})},[o,h,m,b,x]);const{mutateAsync:te,isPending:ce}=XF(),[pe,Me]=D.useState(null),B=_.jsxs(Jt,{to:"/admin/courses/new",className:"inline-flex items-center gap-2 rounded-lg bg-[#49BBBD] px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-[#2F7E80]",children:[_.jsx(A2,{})," ",t("admin.new_course")]});return _.jsxs(_.Fragment,{children:[_.jsx(Qp,{title:t("admin.courses"),actions:B}),_.jsxs("div",{className:"mb-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[_.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2 md:flex-row md:items-center",children:[_.jsx(HB,{value:o,onChange:u}),_.jsxs("div",{className:"relative w-full md:max-w-md",children:[_.jsx(R2,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),_.jsx("input",{value:h,onChange:H=>d(H.target.value),placeholder:t("search.title_placeholder",{defaultValue:"Search by title"}),className:"w-full rounded-lg border border-gray-200 bg-white py-2.5 pr-3 pl-9 text-sm text-gray-900 shadow-sm placeholder:text-gray-400 focus:border-[#49BBBD] focus:outline-none focus:ring-2 focus:ring-[#49BBBD]/20"})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("select",{value:m,onChange:H=>y(H.target.value),className:"rounded-lg border border-gray-200 bg-white px-2.5 py-2 text-sm shadow-sm focus:border-[#49BBBD] focus:outline-none focus:ring-2 focus:ring-[#49BBBD]/20",children:zB.map(H=>_.jsx("option",{value:H.value,children:t(`sort.${H.value}`)},H.value))}),_.jsx("button",{type:"button",onClick:()=>E(H=>H==="asc"?"desc":"asc"),className:"inline-flex h-9 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm text-gray-700 shadow-sm transition hover:bg-gray-50",title:`Direction: ${b.toUpperCase()}`,children:b==="asc"?_.jsx(uv,{}):_.jsx(lv,{})}),_.jsx("select",{value:x,onChange:H=>A(Number(H.target.value)),className:"rounded-lg border border-gray-200 bg-white px-2.5 py-2 text-sm shadow-sm focus:border-[#49BBBD] focus:outline-none focus:ring-2 focus:ring-[#49BBBD]/20",children:[10,20,50].map(H=>_.jsxs("option",{value:H,children:[H,"/page"]},H))})]})]}),P&&_.jsx(GB,{rows:6}),V&&_.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-rose-700",children:[t("errors.courses_load_failed"),": ",String(q?.message||"Unknown error")]}),!P&&!V&&O.length===0&&_.jsx(KB,{title:t("empty.courses_title"),note:t(h?"empty.try_clear":"empty.create_first_course")}),!P&&!V&&O.length>0&&_.jsx("div",{className:"space-y-3 md:hidden",children:N.map(H=>_.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[H.thumbnailUrl?_.jsx("img",{src:H.thumbnailUrl,alt:"",className:"h-12 w-12 flex-none rounded-lg object-cover ring-1 ring-black/5"}):_.jsx("div",{className:"grid h-12 w-12 flex-none place-items-center rounded-lg bg-gray-100 text-xs text-gray-500",children:"N/A"}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("div",{className:"truncate text-sm font-semibold text-gray-900",children:rd(H,t).title}),_.jsx("div",{className:"mt-0.5 line-clamp-2 text-xs text-gray-500",children:rd(H,t).description||""}),_.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-1.5",children:[_.jsx("span",{className:"rounded-md bg-gray-100 px-2 py-0.5 text-[11px] text-gray-700 ring-1 ring-gray-200",children:Y[H.categoryId]||""}),_.jsx(o1,{published:!!H.isPublished,small:!0}),_.jsx("span",{className:"text-[11px] text-gray-500",children:l1(H.createdAt)})]})]})]}),_.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[_.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[Number(H.price||0).toLocaleString()," ",_.jsx("span",{className:"text-gray-500",children:H.currency||"USD"})]}),_.jsxs("div",{className:"inline-flex items-center gap-2",children:[_.jsx("button",{onClick:()=>e(`/admin/courses/${H.id}/edit`),className:"rounded-md border border-gray-200 bg-white p-2 text-gray-700 shadow-sm transition hover:bg-gray-50",title:"Edit",children:_.jsx(Ad,{})}),_.jsx("button",{disabled:ce,onClick:()=>Me({id:H.id,title:H.title}),className:"rounded-md border border-gray-200 bg-white p-2 text-rose-600 shadow-sm transition hover:bg-rose-50 disabled:opacity-50",title:"Delete",children:_.jsx(Rd,{})})]})]})]},H.id))}),!P&&!V&&O.length>0&&_.jsxs("div",{className:"hidden md:block",children:[_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[_.jsx("thead",{className:"sticky top-0 z-10",children:_.jsxs("tr",{className:"bg-gray-50 text-left text-sm text-gray-600",children:[_.jsx(pl,{children:t("admin.courses")}),_.jsx(pl,{children:t("sort.price")}),_.jsx(pl,{children:t("admin.categories")}),_.jsxs(pl,{children:[t("admin.status.published"),"/",t("admin.status.draft")]}),_.jsx(pl,{className:"w-36",children:t("sort.createdAt")}),_.jsx(pl,{className:"w-28 text-right",children:"Actions"})]})}),_.jsx("tbody",{children:N.map(H=>_.jsxs("tr",{className:"group",children:[_.jsx(ml,{children:_.jsxs("div",{className:"flex items-center gap-3",children:[H.thumbnailUrl?_.jsx("img",{src:H.thumbnailUrl,alt:"",className:"h-10 w-10 rounded-lg object-cover ring-1 ring-black/5"}):_.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-lg bg-gray-100 text-xs text-gray-500",children:"N/A"}),_.jsxs("div",{children:[_.jsx("div",{className:"font-medium text-gray-900",children:rd(H,t).title}),_.jsx("div",{className:"max-w-[480px] truncate text-xs text-gray-500",children:rd(H,t).description||""})]})]})}),_.jsx(ml,{children:_.jsxs("span",{className:"font-semibold text-gray-900",children:[Number(H.price||0).toLocaleString()," ",_.jsx("span",{className:"text-gray-500",children:H.currency||"USD"})]})}),_.jsx(ml,{children:_.jsx("span",{className:"rounded-md bg-gray-100 px-2 py-0.5 text-xs text-gray-700 ring-1 ring-gray-200",children:Y[H.categoryId]||""})}),_.jsx(ml,{children:_.jsx(o1,{published:!!H.isPublished})}),_.jsx(ml,{children:l1(H.createdAt)}),_.jsx(ml,{className:"text-right",children:_.jsxs("div",{className:"inline-flex items-center gap-2",children:[_.jsx("button",{onClick:()=>e(`/admin/courses/${H.id}/edit`),className:"rounded-md border border-gray-200 bg-white p-2 text-gray-700 shadow-sm transition hover:bg-gray-50",title:"Edit",children:_.jsx(Ad,{})}),_.jsx("button",{disabled:ce,onClick:()=>Me({id:H.id,title:H.title}),className:"rounded-md border border-gray-200 bg-white p-2 text-rose-600 shadow-sm transition hover:bg-rose-50 disabled:opacity-50",title:"Delete",children:_.jsx(Rd,{})})]})})]},H.id))})]})}),_.jsx(w_,{currentPage:C,totalPages:I,onPrev:$,onNext:U,onGo:L,rangeStart:j,rangeEnd:Ve,totalItems:We})]}),_.jsx(YC,{open:!!pe,title:t("confirm.delete_course_title",{defaultValue:"Delete course?"}),message:pe?t("confirm.delete_course_body",{defaultValue:"{{title}} will be permanently deleted. This action cannot be undone.",title:pe.title}):"",confirmText:t("common.delete"),confirmTone:"danger",loading:ce,onCancel:()=>Me(null),onConfirm:async()=>{pe&&(await te(pe.id),Me(null))}})]})}function HB({value:t,onChange:e}){const{t:n}=oi(),r=[{value:"all",label:n("filter.all")},{value:"published",label:n("admin.status.published")},{value:"drafts",label:n("admin.status.draft")}];return _.jsxs(_.Fragment,{children:[_.jsxs("label",{className:"md:hidden",children:[_.jsx("span",{className:"sr-only",children:"Status"}),_.jsx("select",{value:t,onChange:a=>e(a.target.value),className:"rounded-lg border border-gray-200 bg-white px-2.5 py-2 text-sm shadow-sm focus:border-[#49BBBD] focus:outline-none focus:ring-2 focus:ring-[#49BBBD]/20",children:r.map(a=>_.jsx("option",{value:a.value,children:a.label},a.value))})]}),_.jsx("div",{className:"hidden md:block",children:_.jsx("div",{className:"max-w-full overflow-x-auto",children:_.jsx("div",{className:"inline-flex min-w-max overflow-hidden rounded-lg border border-gray-200 bg-white p-0.5 shadow-sm",children:r.map(a=>{const o=t===a.value;return _.jsx("button",{onClick:()=>e(a.value),className:["whitespace-nowrap px-3 py-1.5 text-sm font-medium transition",o?"bg-[#49BBBD]/10 text-[#2F7E80] ring-1 ring-[#49BBBD]/30":"text-gray-700 hover:bg-[#49BBBD]/5"].join(" "),children:a.label},a.value)})})})})]})}function pl({children:t,className:e=""}){return _.jsx("th",{className:`sticky top-0 border-b border-gray-200 px-3 py-2 first:rounded-tl-xl last:rounded-tr-xl ${e}`,children:t})}function ml({children:t,className:e=""}){return _.jsx("td",{className:`border-b border-gray-100 px-3 py-3 align-middle ${e}`,children:t})}function o1({published:t,small:e=!1}){const{t:n}=oi(),r="inline-flex items-center gap-1 rounded-full px-2 py-0.5 ring-1 text-xs font-medium";return t?_.jsxs("span",{className:`${r} ${e?"px-1.5 py-0 text-[11px]":""} bg-emerald-50 text-emerald-700 ring-emerald-200`,children:[" ",n("admin.status.published")]}):_.jsxs("span",{className:`${r} ${e?"px-1.5 py-0 text-[11px]":""} bg-amber-50 text-amber-700 ring-amber-200`,children:[" ",n("admin.status.draft")]})}function l1(t){if(!t)return"";const e=t?.toMillis?t.toMillis():t?.seconds?t.seconds*1e3:+new Date(t);return new Date(e).toLocaleDateString()}function GB({rows:t=6}){return _.jsx("div",{className:"divide-y divide-gray-100",children:Array.from({length:t}).map((e,n)=>_.jsxs("div",{className:"flex items-center gap-3 py-3",children:[_.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-100"}),_.jsx("div",{className:"h-4 w-40 rounded bg-gray-100"}),_.jsx("div",{className:"h-4 w-20 rounded bg-gray-100"})]},n))})}function KB({title:t,note:e}){return _.jsxs("div",{className:"grid place-items-center rounded-lg border border-gray-200 bg-gray-50/60 p-8 text-center",children:[_.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t}),e&&_.jsx("div",{className:"mt-1 text-sm text-gray-600",children:e})]})}function QB(t){return eu({queryKey:["course",t],enabled:!!t,queryFn:async()=>{const e=await c_(Sr(gn,"courses",t));return e.exists()?{id:e.id,...e.data()}:null},staleTime:15e3})}const YB=nh({title:Sn().min(3,"Too short").required("Required"),description:Sn().min(10,"Too short").required("Required"),thumbnailUrl:Sn().url("Must be URL").required("Required"),price:m2().min(0,"Min 0").required("Required"),currency:Sn().oneOf(["USD","EGP"]).required("Required"),categoryId:Sn().required("Required"),isPublished:f2().required()});function u1(){const{id:t}=fO(),e=!!t,n=oa(),{data:r,isLoading:a}=QB(t),{data:o=[]}=E_({}),u=QF(),h=YF(),d=e&&r?{title:r.title||"",description:r.description||"",thumbnailUrl:r.thumbnailUrl||"",price:r.price??0,currency:r.currency||"USD",categoryId:r.categoryId||"",isPublished:!!r.isPublished}:{title:"",description:"",thumbnailUrl:"",price:0,currency:"USD",categoryId:"",isPublished:!0},m=_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{type:"submit",form:"courseForm",className:"rounded-lg bg-[#49BBBD] px-3 py-2 text-sm font-semibold text-white hover:bg-[#2F7E80]",children:e?"Save Changes":"Create"}),_.jsx("button",{onClick:()=>n(-1),className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"})]});return _.jsxs(_.Fragment,{children:[_.jsx(Qp,{title:e?"Edit Course":"New Course",actions:m}),e&&a?_.jsx("div",{className:"text-sm text-gray-600",children:"Loading"}):_.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm sm:p-6",children:_.jsx(dp,{initialValues:d,enableReinitialize:!0,validationSchema:YB,onSubmit:async(y,{setSubmitting:b})=>{try{if(e)await h.mutateAsync({id:t,...y});else{const E=await u.mutateAsync(y);E?.id&&n(`/admin/courses/${E.id}/edit`,{replace:!0})}n("/admin/courses",{replace:!0})}finally{b(!1)}},children:({isSubmitting:y,values:b})=>_.jsxs(th,{id:"courseForm",className:"grid gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium",children:"Title"}),_.jsx(Kr,{name:"title",className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#49BBBD] focus:outline-none"}),_.jsx($i,{name:"title",component:"p",className:"text-xs text-red-600"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium",children:"Description"}),_.jsx(Kr,{as:"textarea",name:"description",rows:4,className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#49BBBD] focus:outline-none"}),_.jsx($i,{name:"description",component:"p",className:"text-xs text-red-600"})]}),_.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium",children:"Thumbnail URL"}),_.jsx(Kr,{name:"thumbnailUrl",className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#49BBBD] focus:outline-none"}),_.jsx($i,{name:"thumbnailUrl",component:"p",className:"text-xs text-red-600"}),b.thumbnailUrl?_.jsx("img",{src:b.thumbnailUrl,alt:"thumbnail preview",className:"mt-2 h-24 w-full rounded-lg border object-cover",onError:E=>E.currentTarget.style.display="none"}):null]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium",children:"Category"}),_.jsxs(Kr,{as:"select",name:"categoryId",className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#49BBBD] focus:outline-none",children:[_.jsx("option",{value:"",children:"Select"}),o.map(E=>_.jsx("option",{value:E.id,children:E.name},E.id))]}),_.jsx($i,{name:"categoryId",component:"p",className:"text-xs text-red-600"})]})]}),_.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium",children:"Price"}),_.jsx(Kr,{name:"price",type:"number",className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#49BBBD] focus:outline-none"}),_.jsx($i,{name:"price",component:"p",className:"text-xs text-red-600"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium",children:"Currency"}),_.jsxs(Kr,{as:"select",name:"currency",className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#49BBBD] focus:outline-none",children:[_.jsx("option",{value:"USD",children:"USD"}),_.jsx("option",{value:"EGP",children:"EGP"})]}),_.jsx($i,{name:"currency",component:"p",className:"text-xs text-red-600"})]}),_.jsxs("label",{className:"flex items-center gap-2",children:[_.jsx(Kr,{name:"isPublished",type:"checkbox",className:"h-4 w-4"}),_.jsx("span",{className:"text-sm font-medium",children:"Published"})]})]}),_.jsx("div",{className:"pt-2 text-right text-xs text-gray-500",children:"* `title_lc` & `createdAt` are set in the mutation for consistency."})]})})})]})}const XB="categories";function WB(){const t=Jl();return Yp({mutationFn:e=>CC(Sr(gn,"categories",e)),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:[XB]}),t.invalidateQueries({queryKey:["categoriesSorted"]}),t.invalidateQueries({queryKey:["category",n]}),t.invalidateQueries({queryKey:["count","categories","total"]})}})}function ZB(){const{t}=oi(),[e,n]=R1(),[r,a]=D.useState(e.get("dir")||"desc"),[o,u]=D.useState(Number(e.get("pageSize")||10)),h=Math.max(1,Number(e.get("page")||1)),[d,m]=D.useState(null),{data:y=[],isLoading:b,isError:E,error:x}=E_({dir:r}),{paginatedData:A,currentPage:M,totalPages:O,setPage:P,nextPage:V,prevPage:q,rangeStart:ne,rangeEnd:F,totalItems:Y}=b_(y,o,{initialPage:h,resetKeys:[r,o],onPageChange:I=>{const L=new URLSearchParams(e.toString());L.set("page",String(I)),n(L,{replace:!0})}});D.useEffect(()=>{const I=new URLSearchParams(e.toString());I.set("dir",r),I.set("pageSize",String(o)),n(I,{replace:!0})},[r,o]);const N=WB(),C=_.jsxs(Jt,{to:"/admin/categories/new",className:"inline-flex items-center gap-2 rounded-lg bg-[#49BBBD] px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-[#2F7E80]",children:[_.jsx(A2,{})," ",t("admin.new_category")]});return _.jsxs(_.Fragment,{children:[_.jsx(Qp,{title:t("admin.categories"),actions:C}),_.jsxs("div",{className:"mb-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[_.jsxs("div",{className:"text-sm text-gray-600",children:[t("common.total",{defaultValue:"Total"}),":"," ",_.jsx("span",{className:"font-semibold text-gray-900",children:y.length})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{type:"button",onClick:()=>a(I=>I==="asc"?"desc":"asc"),className:"inline-flex h-9 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm text-gray-700 shadow-sm transition hover:bg-gray-50",title:`${t("sort.createdAt")} (${r.toUpperCase()})`,children:[r==="asc"?_.jsx(uv,{}):_.jsx(lv,{}),_.jsx("span",{className:"sr-only",children:t("sort.createdAt")})]}),_.jsx("select",{value:o,onChange:I=>u(Number(I.target.value)),className:"rounded-lg border border-gray-200 bg-white px-2.5 py-2 text-sm shadow-sm focus:border-[#49BBBD] focus:ring-2 focus:ring-[#49BBBD]/20 focus:outline-none",children:[10,20,50].map(I=>_.jsxs("option",{value:I,children:[I,"/page"]},I))})]})]}),b&&_.jsx(JB,{rows:6}),E&&_.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-rose-700",children:[t("errors.categories_load_failed"),":"," ",String(x?.message||"Unknown error")]}),!b&&!E&&y.length===0&&_.jsx(ez,{title:t("empty.categories_title"),note:t("empty.create_first_category")}),!b&&!E&&y.length>0&&_.jsx("div",{className:"space-y-3 md:hidden",children:A.map(I=>_.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-3 shadow-sm",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("div",{className:"truncate text-sm font-semibold text-gray-900",children:z0(I,t)}),_.jsx("div",{className:"text-[11px] text-gray-500",children:c1(I.createdAt)})]}),_.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[_.jsx(Jt,{to:`/admin/categories/${I.id}/edit`,className:"rounded-md border border-gray-200 bg-white p-2 text-gray-700 shadow-sm transition hover:bg-gray-50",title:"Edit",children:_.jsx(Ad,{})}),_.jsx("button",{onClick:()=>m({id:I.id,name:I.name}),className:"rounded-md border border-gray-200 bg-white p-2 text-rose-600 shadow-sm transition hover:bg-rose-50",title:"Delete",children:_.jsx(Rd,{})})]})]},I.id))}),!b&&!E&&y.length>0&&_.jsxs("div",{className:"hidden md:block",children:[_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full border-separate border-spacing-0",children:[_.jsx("thead",{className:"sticky top-0 z-10",children:_.jsxs("tr",{className:"bg-gray-50 text-left text-sm text-gray-600",children:[_.jsx(Py,{children:t("admin.categories")}),_.jsx(Py,{className:"w-40",children:t("sort.createdAt")}),_.jsx(Py,{className:"w-28 text-right",children:"Actions"})]})}),_.jsx("tbody",{children:A.map(I=>_.jsxs("tr",{className:"group",children:[_.jsx(My,{children:_.jsx("div",{className:"font-medium text-gray-900",children:z0(I,t)})}),_.jsx(My,{children:c1(I.createdAt)}),_.jsx(My,{className:"text-right",children:_.jsxs("div",{className:"inline-flex items-center gap-2",children:[_.jsx(Jt,{to:`/admin/categories/${I.id}/edit`,className:"rounded-md border border-gray-200 bg-white p-2 text-gray-700 shadow-sm transition hover:bg-gray-50",title:"Edit",children:_.jsx(Ad,{})}),_.jsx("button",{onClick:()=>m({id:I.id,name:I.name}),className:"rounded-md border border-gray-200 bg-white p-2 text-rose-600 shadow-sm transition hover:bg-rose-50",title:"Delete",children:_.jsx(Rd,{})})]})})]},I.id))})]})}),_.jsx(w_,{currentPage:M,totalPages:O,onPrev:q,onNext:V,onGo:P,rangeStart:ne,rangeEnd:F,totalItems:Y})]}),_.jsx(YC,{open:!!d,title:t("confirm.delete_category_title",{defaultValue:"Delete category?"}),message:d?t("confirm.delete_category_body",{defaultValue:"{{name}} will be removed. Courses will remain but still reference this categoryId.",name:d.name}):"",confirmText:t("common.delete"),confirmTone:"danger",loading:N.isPending,onCancel:()=>m(null),onConfirm:async()=>{d&&(await N.mutateAsync(d.id),m(null))}})]})}function Py({children:t,className:e=""}){return _.jsx("th",{className:`sticky top-0 border-b border-gray-200 px-3 py-2 first:rounded-tl-xl last:rounded-tr-xl ${e}`,children:t})}function My({children:t,className:e=""}){return _.jsx("td",{className:`border-b border-gray-100 px-3 py-3 align-middle ${e}`,children:t})}function c1(t){if(!t)return"";const e=t?.toMillis?t.toMillis():t?.seconds?t.seconds*1e3:+new Date(t);return new Date(e).toLocaleDateString()}function JB({rows:t=6}){return _.jsx("div",{className:"divide-y divide-gray-100",children:Array.from({length:t}).map((e,n)=>_.jsxs("div",{className:"flex items-center justify-between gap-3 py-3",children:[_.jsx("div",{className:"h-4 w-40 rounded bg-gray-100"}),_.jsx("div",{className:"h-4 w-20 rounded bg-gray-100"})]},n))})}function ez({title:t,note:e}){return _.jsxs("div",{className:"grid place-items-center rounded-lg border border-gray-200 bg-gray-50/60 p-8 text-center",children:[_.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t}),e&&_.jsx("div",{className:"mt-1 text-sm text-gray-600",children:e})]})}const tz=[{value:"createdAt",label:"Newest"},{value:"price",label:"Price"},{value:"title",label:"Alphabetical"}];function nz(){const[t,e]=D.useState(""),[n,r]=D.useState("createdAt"),[a,o]=D.useState("desc"),[u,h]=D.useState(12),{data:d=[],isLoading:m,isError:y,error:b}=v_({sortBy:n,dir:a,qText:t,status:"published"}),E=D.useMemo(()=>d,[d]),{paginatedData:x,currentPage:A,totalPages:M,setPage:O,nextPage:P,prevPage:V,rangeStart:q,rangeEnd:ne,totalItems:F}=b_(E,u);return _.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[_.jsxs("header",{className:"mb-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[_.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Courses"}),_.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[_.jsxs("div",{className:"relative w-full md:max-w-md",children:[_.jsx(R2,{className:"pointer-events-none absolute top-1/2 left-3 -translate-y-1/2 text-gray-400"}),_.jsx("input",{value:t,onChange:Y=>e(Y.target.value),placeholder:"Search by title",className:"w-full rounded-lg border border-gray-200 bg-white py-2.5 pr-3 pl-9 text-sm text-gray-900 shadow-sm placeholder:text-gray-400 focus:border-[#49BBBD] focus:ring-2 focus:ring-[#49BBBD]/20 focus:outline-none"})]}),_.jsx("select",{value:n,onChange:Y=>r(Y.target.value),className:"rounded-lg border border-gray-200 bg-white px-2.5 py-2 text-sm shadow-sm focus:border-[#49BBBD] focus:ring-2 focus:ring-[#49BBBD]/20 focus:outline-none",children:tz.map(Y=>_.jsxs("option",{value:Y.value,children:["Sort: ",Y.label]},Y.value))}),_.jsx("button",{type:"button",onClick:()=>o(Y=>Y==="asc"?"desc":"asc"),className:"inline-flex h-9 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm text-gray-700 shadow-sm transition hover:bg-gray-50",title:`Direction: ${a.toUpperCase()}`,children:a==="asc"?_.jsx(uv,{}):_.jsx(lv,{})}),_.jsx("select",{value:u,onChange:Y=>h(Number(Y.target.value)),className:"rounded-lg border border-gray-200 bg-white px-2.5 py-2 text-sm shadow-sm focus:border-[#49BBBD] focus:ring-2 focus:ring-[#49BBBD]/20 focus:outline-none",children:[6,12,24].map(Y=>_.jsxs("option",{value:Y,children:[Y,"/page"]},Y))})]})]}),m&&_.jsx(rz,{count:u}),y&&_.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-4 text-rose-700",children:["Failed to load courses. ",b.message]}),!m&&!y&&E.length===0&&_.jsx("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-8 text-center text-gray-600",children:"No courses match your filters."}),!m&&!y&&E.length>0&&_.jsxs(_.Fragment,{children:[_.jsx("ul",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:x.map(Y=>_.jsxs("li",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm transition hover:shadow-md",children:[Y.thumbnailUrl?_.jsx("img",{src:Y.thumbnailUrl,alt:"",className:"h-40 w-full object-cover"}):_.jsx("div",{className:"grid h-40 w-full place-items-center bg-gray-100 text-xs text-gray-500",children:"No image"}),_.jsxs("div",{className:"p-4",children:[_.jsx("h3",{className:"line-clamp-1 text-base font-semibold text-gray-900",children:Y.title}),_.jsx("p",{className:"mt-1 line-clamp-2 text-sm text-gray-600",children:Y.description}),_.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[_.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[Number(Y.price||0).toLocaleString()," ",_.jsx("span",{className:"text-gray-500",children:Y.currency||"USD"})]}),_.jsx("button",{className:"rounded-lg bg-[#49BBBD] px-3 py-1.5 text-sm font-semibold text-white hover:bg-[#2F7E80]",children:"View"})]})]})]},Y.id))}),_.jsx(w_,{currentPage:A,totalPages:M,onPrev:V,onNext:P,onGo:O,rangeStart:q,rangeEnd:ne,totalItems:F})]})]})}function rz({count:t=12}){return _.jsx("ul",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:t}).map((e,n)=>_.jsx("li",{className:"h-64 animate-pulse rounded-xl bg-gray-100"},n))})}function iz({open:t,label:e,x:n,y:r,onClose:a}){return D.useEffect(()=>{if(!t)return;const o=u=>u.key==="Escape"&&a?.();return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[t,a]),t?oD.createPortal(_.jsx("div",{role:"tooltip",className:["pointer-events-none fixed z-[9999] select-none","rounded-md bg-gray-900 px-2 py-1 text-xs font-medium text-white shadow-lg","opacity-100 transition motion-reduce:transition-none"].join(" "),style:{left:n,top:r,transform:"translate(8px, -50%)"},children:e}),document.body):null}const sz="relative group flex items-center gap-3 rounded-lg px-2.5 py-2 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#49BBBD]/40",az="bg-[#49BBBD]/10 text-[#2F7E80] ring-1 ring-[#49BBBD]/30",oz="text-gray-700 hover:bg-[#49BBBD]/5";function h1({onNavigate:t,collapsed:e=!1}){const[n,r]=D.useState({open:!1,label:"",x:0,y:0}),a=D.useCallback((h,d)=>{r({open:!0,label:h,x:d.right,y:d.top+d.height/2})},[]),o=D.useCallback(()=>r(h=>({...h,open:!1})),[]);D.useEffect(()=>{const h=()=>o();return window.addEventListener("scroll",h,{passive:!0}),()=>window.removeEventListener("scroll",h)},[o]);const u=D.useMemo(()=>[{to:"/admin",end:!0,label:"Dashboard",icon:_.jsx(Mk,{})},{to:"/admin/courses",label:"Courses",icon:_.jsx(w2,{})},{to:"/admin/courses/new",label:"New Course",icon:_.jsx(kk,{})},{to:"/admin/categories",label:"Categories",icon:_.jsx(C2,{})}],[]);return _.jsxs("div",{className:"flex h-full flex-col",children:[_.jsxs("div",{className:"flex items-center gap-2 px-3 py-3",children:[_.jsx("div",{className:"grid h-8 w-8 place-items-center rounded-md bg-[#49BBBD] font-extrabold text-white",children:"T"}),!e&&_.jsxs("div",{className:"min-w-0",children:[_.jsx("div",{className:"truncate text-sm font-semibold text-gray-900",children:"Admin"}),_.jsx("div",{className:"truncate text-[11px] text-gray-500",children:"TOTC eLearning"})]})]}),_.jsx("nav",{className:"mt-1 flex flex-col gap-1 px-2",children:u.map(h=>_.jsx(lz,{...h,collapsed:e,onNavigate:t,onShowTip:a,onHideTip:o},h.to))}),_.jsx(iz,{open:n.open&&e,label:n.label,x:n.x,y:n.y,onClose:()=>r({...n,open:!1})})]})}function lz({to:t,end:e,onNavigate:n,collapsed:r,label:a,icon:o,onShowTip:u,onHideTip:h}){const d=D.useRef(null),m=()=>{if(!r||!d.current)return;const b=d.current.getBoundingClientRect();u(a,b)},y=()=>{r&&h()};return _.jsxs(Jt,{to:t,end:e,onClick:b=>{n?.(b),h?.()},ref:d,onMouseEnter:m,onMouseLeave:y,onFocus:m,onBlur:y,className:({isActive:b})=>[sz,b?"pl-3 before:absolute before:top-1/2 before:left-0 before:h-5 before:w-0.5 before:-translate-y-1/2 before:rounded-full before:bg-[#49BBBD] "+az:oz,r?"justify-center pl-0":""].join(" "),"aria-label":r?a:void 0,children:[_.jsx("span",{className:"text-[18px]",children:o}),!r&&_.jsx("span",{className:"truncate",children:a})]})}function uz(){const[t,e]=D.useState(()=>{}),[n,r]=D.useState(!1),a=D.useRef(null);return D.useEffect(()=>{const o=u=>u.key==="Escape"&&r(!1);return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),D.useEffect(()=>{if(!n)return;const o=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[n]),_.jsxs("div",{className:"h-[calc(100svh-var(--nav-h))] mx-auto w-full max-w-7xl px-4 py-8 sm:px-6 lg:px-8 bg-gray-50",children:[_.jsxs("div",{className:"flex h-full min-h-0 isolate",children:[_.jsx("aside",{className:["relative hidden z-20 border-r border-gray-200 bg-[#F6FBFB] shadow-sm","transition-[width] duration-300 ease-in-out","motion-reduce:transition-none motion-reduce:duration-0","lg:block",t?"w-[72px]":"w-[260px]"].join(" "),children:_.jsxs("div",{className:"flex h-full min-h-0 flex-col",children:[_.jsx("div",{className:"flex items-center justify-end px-2 py-2",children:_.jsx("button",{type:"button",onClick:()=>e(o=>!o),className:"hidden rounded-md border border-gray-200 bg-white p-2 text-gray-700 shadow-sm hover:bg-gray-50 lg:inline-flex",title:t?"Expand sidebar":"Collapse sidebar",children:t?_.jsx(x2,{}):_.jsx(T2,{})})}),_.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto overflow-x-visible",children:_.jsx(h1,{collapsed:t,onNavigate:()=>{}})})]})}),_.jsxs("section",{className:"min-w-0 flex-1 min-h-0 overflow-hidden",children:[_.jsx("div",{className:"sticky top-0 z-10 border-b border-gray-200 bg-white/70 backdrop-blur supports-[backdrop-filter]:bg-white/50",children:_.jsxs("div",{className:"mx-auto flex max-w-7xl items-center gap-2 px-4 py-3 sm:px-6 lg:px-8",children:[_.jsx("button",{onClick:()=>r(!0),className:"inline-flex items-center rounded-md border border-gray-200 bg-white p-2 text-gray-700 shadow-sm transition hover:bg-gray-50 lg:hidden","aria-label":"Open sidebar",ref:a,children:_.jsx(S2,{})}),_.jsx("div",{className:"flex-1"})]})}),_.jsx("div",{className:"mx-auto h-full max-w-7xl overflow-y-auto px-4 py-6 sm:px-6 lg:px-8",children:_.jsx(AO,{})})]})]}),_.jsx(cz,{open:n,onClose:()=>r(!1),children:_.jsx(h1,{collapsed:!1,onNavigate:()=>r(!1)})})]})}function cz({open:t,onClose:e,children:n}){const r=D.useRef(null);return D.useEffect(()=>{if(!t)return;r.current?.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus()},[t]),t?_.jsxs("div",{className:"lg:hidden",children:[_.jsx("button",{onClick:e,"aria-label":"Close sidebar",className:"fixed inset-0 z-40 bg-black/30"}),_.jsxs("div",{ref:r,className:["fixed inset-y-0 left-0 z-50 w-72 translate-x-0 bg-white shadow-xl ring-1 ring-black/5","transition-transform duration-300 will-change-transform","motion-reduce:transition-none motion-reduce:duration-0"].join(" "),role:"dialog","aria-modal":"true",children:[_.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-3 py-3",children:[_.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Admin"}),_.jsx("button",{onClick:e,className:"rounded-md p-2 text-gray-600 hover:bg-gray-100",children:_.jsx(I2,{})})]}),_.jsx("div",{className:"h-[calc(100%-48px)] overflow-y-auto",children:n})]})]}):null}function hz(){return Cl(MC),_.jsxs(ZO,{basename:"/Riwaq",children:[_.jsx(tF,{}),_.jsx("main",{className:"pt-[var(--nav-h)]",children:_.jsx("div",{className:"min-h-[calc(100svh-var(--nav-h))] bg-gray-50",children:_.jsxs(CO,{children:[_.jsx(wn,{path:"/",element:_.jsx(vD,{})}),_.jsx(wn,{path:"login",element:_.jsx(X8,{})}),_.jsx(wn,{path:"register",element:_.jsx(Z8,{})}),_.jsx(wn,{path:"reset",element:_.jsx(rF,{})}),_.jsx(wn,{path:"dashboard",element:_.jsx(jS,{requireAdmin:!0,children:_.jsx(J8,{})})}),_.jsx(wn,{path:"courses",element:_.jsx(nz,{})}),_.jsx(wn,{path:"403",element:_.jsx(sF,{})}),_.jsxs(wn,{path:"/admin",element:_.jsx(jS,{requireAdmin:!0,children:_.jsx(uz,{})}),children:[_.jsx(wn,{index:!0,element:_.jsx(HF,{})}),_.jsx(wn,{path:"courses",element:_.jsx($B,{})}),_.jsx(wn,{path:"courses/new",element:_.jsx(u1,{})}),_.jsx(wn,{path:"courses/:id/edit",element:_.jsx(u1,{})}),_.jsx(wn,{path:"categories",element:_.jsx(ZB,{})})]}),_.jsx(wn,{path:"*",element:_.jsx(iF,{})})]})})})]})}const fz=i6(),dz=t=>{let e=null,n=!1;const r=()=>{n||(n=!0,t.dispatch(O8(!0)))};XV(vh,a=>{if(e&&(e(),e=null),!a){t.dispatch(DS(null)),r();return}e=R8(Sr(gn,"users",a.uid),o=>{const u=o.exists()?{uid:a.uid,...o.data()}:{uid:a.uid};t.dispatch(DS(u));const h=u?.preferences?.locale||"en";Nt.changeLanguage(h),document.documentElement.lang=h,document.documentElement.dir=h==="ar"?"rtl":"ltr",r()})})},JC=C3({reducer:{auth:D8},middleware:t=>t().concat(fz.middleware)});dz(JC);const pz=new CF;MN.createRoot(document.getElementById("root")).render(_.jsx(Hs.StrictMode,{children:_.jsx(IF,{client:pz,children:_.jsx(Jk,{store:JC,children:_.jsx(hz,{})})})}))});export default mz();
